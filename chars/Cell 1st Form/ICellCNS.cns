; Insect Cell's constants and state file.
;==========================================================================
;[Variables]
;0 = N/A
;1 = Nothing
;3 = Flight Movement
;4 = Armor Mode
;5 = Armor Mode State Reminder
;6 = Sound Selector/Tired State
;7 = Below 250 Health
;8 = P2 Below 250 Helath
;9 = Hyper Combo Level Detection
;10 = Power Up.Decrease BG Brightness
;11 = Power Up.Increase BG Brightness
;12 = Hyper. Increase BG Brightness
;13 = Hyper. Y-Velocity
;14 = Fireball.Chain
;15 = RockHelper.Position
;16 = RockHelper.Animation
;17 = Ki Shield Degnerator
;18 = P1 X-Velocity
;19 = 
;20 = In Flight
;21 = Flight Detection
;22 = SlowMo Switch (0:Off|1:On)
;23 =
;24 = Teleport AfterImage Anim
;29 = Damage Dampener
;31 = Sound Switch - Switches used to prevent repeats in armor mode
;32 = Explod Switch
;33 = Extra Switch
;39 = AI

[Data]
life = 1600
attack = 160
defence = 120
power = 3000
fall.defence_up = 80
liedown.time = 60
airjuggle = 10
sparkno = 2
guard.sparkno = 40
KO.echo = 0
KO.volume = 0
volume = 0

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 16     ;Player width (back, ground)
ground.front = 17    ;Player width (front, ground)
air.back = 14        ;Player width (back, air)
air.front = 14       ;Player width (front, air)
height = 80	     ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too   
head.pos = -5, -70   ;Approximate position of head
mid.pos = -5, -40    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 1.75          ;Walk forward
walk.back = -1.75         ;Walk backward
run.fwd  = 6.3, 0         ;Run forward (x, y)
run.back = -5.3, 0        ;Run backward (x, y)
jump.neu = 0,-8.3         ;Neutral jumping velocity (x, y)
jump.back = -3.2          ;Jump back Speed (x, y)
jump.fwd = 3.2            ;Jump forward Speed (x, y)
runjump.back = 5.3,-8.3   ;Running jump speeds (opt)
runjump.fwd = 5.3,-8.3    ;.
airjump.neu = 0,-8.3      ;.
airjump.back = -3      ;Air jump speeds (opt)
airjump.fwd = 3         ;.

[Movement]
airjump.num = 0       ;Number of air jumps allowed (opt)
airjump.height = 35   ;Minimum distance from ground before you can air jump (opt)
yaccel = .44          ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?            S/C/A/L  stand/crouch/air/liedown
; movetype = ?        I/A/H    idle/attack/gethit
; physics = ?         S/C/A/N  stand/crouch/air/none
; juggle = ?          air juggle points move requires
;
; [State STATENO, ?]  ? - any number you choose
; type = ?   

;---------------------------------------------------------------------------
; Lose by Time Over
;-=Time's Up? Haha!=-
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 171, 0
volume = 255

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;-=Strife Says: Don't worry about this...you'll never win anyway =p...=-
; Win state decider
[Statedef 180]
type = S

[State 180, Random1]
type = ChangeState
triggerall = life > 250
trigger1 = Time = 0
value = 181

[State 180, Random1]
type = ChangeState
triggerall = life <= 250
trigger1 = Time = 0
value = 182
;---------------------------------------------------------------------------
;-=What's this?=-
; Win pose 1 - Stand
[Statedef 181]
type = S
ctrl = 0
velset = 0,0

[State 181, anim]
type = ChangeAnim
trigger1 = time = 0
value = 181

[State 181, VarSet]
type = VarRandom
trigger1 = time = 0
v = 6
range = 1,3

[State 181, Voice-"Disapointed"]
type = PlaySnd
triggerall = Var(6) = 1
trigger1 = time = 1
value = 9,1
volume = 200
channel = 0

[State 181, Voice-"DidIKillHim?"]
type = PlaySnd
triggerall = Var(6) = 2
trigger1 = time = 1
value = 9,0
volume = 200
channel = 0

[State 181, Voice-"WhosTheStrongest?"]
type = PlaySnd
triggerall = Var(6) = 3
trigger1 = time = 1
value = 8,0
volume = 200
channel = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; Win pose 2 - Tired
[Statedef 182]
type = S
ctrl = 0
velset = 0,0

[State 182, anim]
type = ChangeAnim
trigger1 = time = 0
value = 5300

[State 182, Voice-Breathe]
type = PlaySnd
trigger1 = time = 1
value = 6,0
volume = 200
channel = 0

[State 182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; Introduction
[Statedef 191]
type = S
ctrl = 0
velset = 0,0
anim = 191

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 191

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, VarSet]
type = VarRandom
trigger1 = time = 0
v = 6
range = 1,2

[State 191, Voice-"ComeOn"]
type = PlaySnd
triggerall = Var(6) = 1
trigger1 = time = 1
value = 8,3
volume = 200
channel = 0

[State 191, Voice-"EntertainMe"]
type = PlaySnd
triggerall = Var(6) = 2
trigger1 = time = 1
value = 8,4
volume = 200
channel = 0

[State 191, 3] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
sprpriority = 2
;anim = 195

[State 195, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 195

;[State 195, CtrlSet]
;type = CtrlSet
;trigger1 = Time >= 99
;value = 1

[State 195, LifeAdd]
type = LifeAdd
trigger1 = TimeMod = 4,0
value = 1

[State 195, PowerAdd]
type = PowerAdd
trigger1 = Time >= 0
value = 1

[State 195, PlaySND]
type = PlaySnd
trigger1 = animelem = 7
trigger2 = animelem = 11
value = 195, 0
volume = 255

[State 195, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Elbow
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 0                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)
;anim = 200

[State 200, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 200

[State 200, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 200, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 200, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = 15
guardflag = MA
pausetime = 9,9
sparkno = S11000
sparkxy = -20,-45
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -1,-2

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[Statedef 205]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 0                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)
;anim = 205

[State 205, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 205

[State 205, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 205, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 205, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = 20
guardflag = MA
pausetime = 10,10
sparkno = S11000
sparkxy = -25,-50
hitsound   = S300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2

[State 205, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing Medium Claw Swipe
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 65
ctrl = 0
velset = 0,0
sprpriority = -1
;anim = 210

[State 210, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 210

[State 210, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 210, Voice]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 1
value = 1, 4
channel = 0

[State 210, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 206, 0

[State 210, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 25
guardflag = MA
pausetime = 10,10
sparkno = S11120
sparkxy = -7,-41
hitsound   = S307,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2.5
air.velocity = -3,-3
air.fall = 1

[State 210, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Strong Strong Claw Swipe
; CNS difficulty: easy
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 20
sprpriority = 2
;anim = 220

[State 220, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 220

[State 220, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 220, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 207, 0

[State 220, Sound]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 0
value = 1, 5

[State 220, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = S11121
sparkxy = -35,-70
hitsound   = S307,0
guardsound = 6,0
ground.type = High
ground.slidetime = 16
ground.hittime  = 20
ground.velocity = -3.5
air.velocity = -4,4
air.fall = 1
;envshake.time = 5
;envshake.freq = 140
;envshake.ampl = -2
;envshake.phase = 90

[State 220, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Tail Whip
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 36
ctrl = 0
velset = 0,0
sprpriority = 2
;anim = 230

[State 230, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 230

[State 230, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 230, Voice]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 1
value = 1, 9
channel = 0

[State 230, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 208, 0

[State 230, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = 25
guardflag = MA
pausetime = 12,12
sparkno = S11000
sparkxy = -17,-61
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -2
air.velocity = -2,-3

[State 230, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing light kick
; CNS difficulty: easy
[Statedef 235]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 36
ctrl = 0
velset = 0,0
sprpriority = 2
;anim = 235

[State 235, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 235

[State 235, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 235, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 202, 0

[State 235, Voice]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 1
value = 1, 10
channel = 0

[State 235, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 32
guardflag = MA
pausetime = 13,13
sparkno = S11010
sparkxy = -21,-57
hitsound   = S303,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -2
air.velocity = -2,-3

[State 235, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing Strong kick
; CNS difficulty: easy
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= ifelse(prevstateno = 901, 0, 55)
ctrl = 0
velset = 1,0
sprpriority = 2
;anim = 240

[State 240, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 240

[State 240, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 240, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 205, 0

[State 901, Assert]
type = AssertSpecial
triggerall = Prevstateno = 901
trigger1 = 1
flag = unguardable

[State 240, Sound]
type = PlaySnd
triggerall = Prevstateno != 901
trigger1 = random < 200
trigger1 = Time = 0
value = 1, 8

[State 240, Sound]
type = PlaySnd
triggerall = Prevstateno = 901
trigger1 = Time = 0
value = 1, 8

[State 240, HitDef]
type = HitDef
triggerall = Prevstateno != 901
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 41
guardflag = MA
pausetime = 15,15
sparkno = S11020
sparkxy = -24,-73
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -7,-4
air.fall = 1
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 240, HitDef]
type = HitDef
triggerall = Prevstateno = 901
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 20
givepower = 0
getpower = 0
guardflag = MA
pausetime = 10,10
sparkno = S11020
sparkxy = -24,-73
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-6
air.velocity = -6,-6
air.fall = 1
fall = 1
fall.recover = 0
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Launcher
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 75
ctrl = 0
velset = 0,0
sprpriority = 2
;anim = 250

[State 250, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 250

[State 250, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 250, Sound]
type = PlaySnd
trigger1 = time = 1
value = 205, 0

[State 250, Voice]
type = PlaySnd
triggerall = random < 200
trigger1 = time = 1
value = 1,8
channel = 0

[State 250, Hitdef1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 41
guardflag = MA
pausetime = 10,20
sparkno = S11020
sparkxy = -24,-73
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1, -11.5
air.velocity = -4,-6.5
fall = 1
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 250, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Advance Guard
[Statedef 330]
type    = S 
movetype= A 
physics = S 
juggle  = 0 
velset = 0,0
ctrl = 0 
poweradd = -250
sprpriority = 2
anim = 330

[State 330, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 203, 0

[State 330, Voice]
type = PlaySnd
trigger1 = Time = 1 && random < 250
value = 1, 13
channel = 0

[State 330, Spark]
type = Explod
trigger1 = time = 1
Anim = 10900
Pos = 40, -46
Id = 10900
sprpriority = 3
removeongethit = 0
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.8,0.8

[State 330, Advance.Helper]
type = Helper
trigger1 = Time = 0
trigger2 = Time = 4
name = "Advance"
stateno = 12700
postype = p1
pos = -25, 0
keyctrl = 0
ownpal = 1
id = 12700

[State 330, HitOverride]
type = Hitoverride
trigger1 = 1
attr = S, NA
stateno = 130
value = 202, 0

[State 330, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 330, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Crouching light punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 35
ctrl = 0
sprpriority = 2
;anim = 400

[State 400, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 400

[State 400, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 400, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 18
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 9,9
sparkno = S11000
sparkxy = -18,-35
hitsound   = S300,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -2
air.velocity = -1.5,-3

[State 400, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching medium punch
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 45
ctrl = 0
sprpriority = 2
;anim = 410

[State 400, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 410

[State 410, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 410, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 21
priority  = 3
animtype  = Medium
hitflag = MAF
guardflag = L
pausetime = 10,10
sparkno = S11010
sparkxy = -18,-35
hitsound   = S302,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 7
ground.hittime  = 12
ground.velocity = -4
air.velocity = -3.5,-3

[State 410, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching strong punch
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 45
ctrl = 0
sprpriority = 2
;anim = 420

[State 420, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 420

[State 420, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 420, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 25
priority  = 3
animtype  = Hard
hitflag = MAF
guardflag = L
pausetime = 12,12
sparkno = S11010
sparkxy = -18,-35
hitsound   = S303,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -6
air.velocity = -4.5,-3

[State 420, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching light kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle = 2
poweradd= 35
ctrl = 0
sprpriority = 2
;anim = 430

[State 430, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 430

[State 430, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 207, 0

[State 430, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 27
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = S11000
sparkxy = -26,-15
hitsound   = S302,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching strong kick
; CNS difficulty: easy
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 2
poweradd= 45
ctrl = 0
sprpriority = 2
;anim = 440

[State 440, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 440

[State 440, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 204, 0

[State 440, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 32
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 12,12
sparkno = S11010
sparkxy = -26,-25
hitsound   = S303,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 14
ground.velocity = -7
air.velocity = -3,-4
down.velocity = -5,0
down.hittime = 20

[State 440, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Slide kick
; CNS difficulty: easy
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 2
poweradd= 55
ctrl = 0
sprpriority = 2
;anim = 450

[State 450, Sound]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 0
value = 1, 1

[State 450, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 450

[State 450, VelSet1]
type = Velset
trigger1 = time = [5,8]
x = 5.0
y = 0

[State 450, VelSet2]
type = Velset
trigger1 = time = [9,10]
x = 4.0
y = 0

[State 450, VelSet3]
type = Velset
trigger1 = time = [11,12]
x = 3.0
y = 0

[State 450, VelSet4]
type = Velset
trigger1 = time = [13,14]
x = 2.0
y = 0

[State 450, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 204, 0

[State 450, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 37
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 12,12
sparkno = S11010
sparkxy = -26,-5
hitsound   = S303,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 450, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 25
ctrl = 0
sprpriority = 2
;anim = 600

[State 600, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 600

[State 600, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 600, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 25
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = S11000
sparkxy = -25,-57
hitsound   = S300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 600, Control]
type = CtrlSet
trigger1 = Time = 12
value = 1
;---------------------------------------------------------------------------
;Jump Medium Punch
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 33
ctrl = 0
sprpriority = 2
;anim = 610

[State 610, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 610

[State 610, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 610, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 30
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = S11010
sparkxy = -27,-57
hitsound   = S300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 610, Control]
type = CtrlSet
trigger1 = Time = 14
value = 1

;---------------------------------------------------------------------------
;Jump Strong Punch
[Statedef 615]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 60
ctrl = 0
sprpriority = 2
;anim = 615

[State 615, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 615

[State 615, Sound]
type = PlaySnd
trigger1 = Time = 12
value = 207, 0

[State 615, VelSet]
type = VelAdd
trigger1 = Time = 13
x = -1;(vel y)
y = -1;ifelse(vel Y > 0, (vel Y)*1.5,(vel Y)*1.5)

[State 615, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 55
guardflag = HA
priority = 3
pausetime = 16,16
sparkno = S11020
sparkxy = -10,-47
hitsound   = S306,0
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4,8
air.velocity = -1.3,8
fall = 1
fall.recover = 0
fall.xvelocity = -3
fall.yvelocity = -8
down.bounce = 1
envshake.time = 16
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 615, Control]
type = CtrlSet
trigger1 = Time = 30
value = 1
;---------------------------------------------------------------------------
;Jump Slash
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 45
ctrl = 0
sprpriority = 2
;anim = 620

[State 620, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 620

[State 620, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 207, 0

[State 620, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 40
guardflag = HA
priority = 3
pausetime = 10,12
sparkno = S11121
sparkxy = -35,-70
hitsound   = S307,0
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -6.3
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 620, Control]
type = CtrlSet
trigger1 = Time = 20
value = 1
;---------------------------------------------------------------------------
;Jump Light Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 40
ctrl = 0
sprpriority = 2
;anim = 630

[State 630, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 630

[State 630, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 204, 0

[State 630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 38
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = S11010
sparkxy = -23,-2
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -4
air.velocity = -3,3
;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 50
ctrl = 0
sprpriority = 2
;anim = 640

[State 640, Sound]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 0
value = 1, 2

[State 640, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 640

[State 640, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 204, 0

[State 640, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 48
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = S11020
sparkxy = -25,-25
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -9
air.velocity = -8
fall = 1
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90
;---------------------------------------------------------------------------
;Basic Throw
[Statedef 800]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
;anim = 800
sprpriority = 1

[State 800, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 800

[State 800, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 32,0,0,1
p1stateno = 810
p2stateno = 95020

[State 800, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; Throw successful
[Statedef 810]
type = S
movetype = A
physics = S
velset = 0,0
anim = 810
sprpriority = 1

[State 810, GrabSND]
type = PlaySnd
trigger1 = time = 0
value = 800, 0

[State 810, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 810, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 3
value = 200,0

[State 810, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 6
range = 0,2

[State 810, Voice-"HooWaa"]
type = PlaySnd
triggerall = Var(6) = 0
trigger1 = time = 1
value = 1,4
channel = 0

[State 810, Voice-"Heheheh"]
type = PlaySnd
triggerall = Var(6) = 1
trigger1 = time = 1
value = 1,5
channel = 0

[State 810, Push]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 810, Damage]
type = TargetLifeAdd
trigger1 = animtime = 0
value = -20

[State 810, TBind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 10,0

[State 810, TBind2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 0,-10

;[State 810, TBind3]
;type = TargetBind
;trigger1 = AnimElem = 3, >= 0
;trigger1 = AnimElem = 4, < 0
;pos = -6,-26

[State 810, TState]
type = TargetState
trigger1 = AnimElem = 3
value = 95021

[State 810, Turn]
type = Turn
trigger1 = AnimElem = 5

[State 810, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throw Toss Player 2 State
[Statedef 95020]
type    = A
movetype= H ;Get hit
physics = N
velset = 1,0
ctrl = 0
;anim = 95020
sprpriority = 2

[State 95020, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 95020

;BLARGH!
[State 95020, HitBy]
type = HitBy
Trigger1 = Time >= 0
value = SCA
time = 1

[State 95010, End]
type = ChangeState
trigger1 = Time >= 40
value = 50
ctrl = 1

;-------------------------------------------------------------------------
; Throw Toss Player 2 State
[Statedef 95021]
type    = A
movetype= H ;Get hit
physics = N
velset = 5,-13
ctrl = 0
;anim = 95021
sprpriority = 2

[State 95021, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 95021

[State 95021, PosAdd]
type = PosAdd
Trigger1 = Time = 0
x =  12
y = 0

[State 95021, 2] ;Gravity
type = VelAdd
Trigger1 = Time > 0
y = 0.6

[State 95021, Damage]
type = LifeAdd
Trigger1 = Time = 0
value = -70

[State 95021, SelfState] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5100 ;Hit ground
;---------------------------------------------------------------------------
;Absorb Life Grab
[Statedef 900]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
;anim = 900
sprpriority = 3

[State 900, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 900

[State 900, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 60,0,0,0
hitsound   = S800,0
guardsound = S800,0
p1stateno = 901
p2stateno = 96010

[State 900, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Absorb Life Attack
[Statedef 901]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 901
sprpriority = 4

[State 901, Assert]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 901, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 70,70
guardflag = MA
pausetime = 12,105
sparkno = S11130
sparkxy = -17,-53
hitsound   = S906,0
guardsound = S905,0
givepower = -150
getpower = 150
ground.type = Low
ground.slidetime = 0
ground.hittime  = 25
ground.velocity = 0
air.velocity = 0
palfx.time = 105
;palfx.mul = 1,1,1
;palfx.add = 0,0,0
palfx.sinadd = 25,35,25,105
palfx.color = 128

[State 901, LifeAdd]
type = LifeAdd
triggerall = movehit
trigger1 = Time = [1, 35]
value = 2

[State 901, HitSparks]
type = Helper
triggerall = numhelper(11160) = 0
trigger1 = movecontact
name = "AbsorbSparks"
stateno = 11160
postype = p2
pos = 0, 0
keyctrl = 0
ownpal = 0
id = 11160
size.xscale = 1
size.yscale = 1

[State 900, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 240
ctrl = 1
;---------------------------------------------------------------------------
; Absorb Life Player 2 State
[Statedef 96010]
type    = A
movetype= H ;Get hit
physics = N
velset = 0,0
ctrl = 0
;anim = 96010
sprpriority = 2

[State 96010, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 96010

;BLARGH!
;[State 96010, HitBy]
;type = HitBy
;Trigger1 = Time >= 0
;value = SCA
;time = 1

[State 96010, End]
type = ChangeState
trigger1 = Time >= 40
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Weak Fireball 1
[Statedef 1000]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1000

[State 1000, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1000

[State 1000, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -5

[State 1000, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1000, Sound]
type = PlaySnd
trigger1 = time = 5
value = 1000,0

[State 1000, Voice]
type = PlaySnd
triggerall = random < 500
trigger1 = time = 0
value = 1,11
channel = 0

[State 1000, Ring]
type = Explod
trigger1 = time = 5
Anim = 12010
Pos = 59, -49
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1000, Projectile]
type = Projectile
trigger1 = Time = 5
ProjAnim = 12111         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
projid = 12110
projscale = 0.9, 0.9
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 50, -49       
velocity = 14, 0
remvelocity = .7, 0  
accel = -0.02, 0.05     
attr = S, SP
damage    = 18,4
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -8
airguard.velocity = -5.5      
air.type = Low
air.velocity = -4.5,-2.5
air.juggle = 3

[State 1000, VarSet]
type = VarSet
trigger1 = time = 0
v = 14
value = 0

[State 1000, VarSet]
type = VarSet
triggerall = (Var(14) = 0 && time > 1)
trigger1 = (command = "x" || command = "y" || command = "z") || Var(39) = 1
v = 14
value = 1 

[State 1000, Next]
type = ChangeState
trigger1 = Time >= 12 && Var(14) = 1 && power > 0
value = 1001
ctrl = 1

[State 1000, End]
type = ChangeState
trigger1 = AnimTime = 0 && (Var(14) = 0 || power = 0)
value = 1003
ctrl = 1
;---------------------------------------------------------------------------
;Weak Fireball 2
[Statedef 1001]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1001

[State 1001, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1001

[State 1001, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -10

[State 1001, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1001, Sound]
type = PlaySnd
trigger1 = time = 1
value = 1000,0

[State 1001, Ring]
type = Explod
trigger1 = time = 1
Anim = 12010
Pos = 59, -49
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1001, Projectile]
type = Projectile
trigger1 = Time = 1
ProjAnim = 12111         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
projid = 12110
projscale = 0.9, 0.9
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 50, -49       
velocity = 14, 2.4
remvelocity = .7, 0  
accel = -0.02, -0.085     
attr = S, SP
damage    = 18,4
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -8
airguard.velocity = -5.5      
air.type = Low
air.velocity = -4.5,-2.5
air.juggle = 3

[State 1001, VarSet]
type = VarSet
triggerall = (Var(14) = 1 && time > 1)
trigger1 = (command = "x" || command = "y" || command = "z") || Var(39) = 1
v = 14
value = 2 

[State 1001, Next]
type = ChangeState
trigger1 = animtime = 0 && Var(14) = 2 && power > 0
value = 1002
ctrl = 1

[State 1000, End]
type = ChangeState
trigger1 = AnimTime = 0 && (Var(14) = 1 || Var(14) = 3 || power = 0)
value = 1003
ctrl = 1
;---------------------------------------------------------------------------
;Weak Fireball 3
[Statedef 1002]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1001

[State 1001, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1001

[State 1002, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -10

[State 1002, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1002, Sound]
type = PlaySnd
trigger1 = time = 1
value = 1000,0

[State 1002, Ring]
type = Explod
trigger1 = time = 1
Anim = 12010
Pos = 59, -49
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1002, Projectile]
type = Projectile
trigger1 = Time = 1
ProjAnim = 12111         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
projid = 12110
projscale = 0.9, 0.9
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 50, -49       
velocity = 14, -1.0
remvelocity = .7, 0  
accel = -0.02, 0.06     
attr = S, SP
damage    = 18,4
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -8
airguard.velocity = -5.5      
air.type = Low
air.velocity = -4.5,-2.5
air.juggle = 3

[State 1001, VarSet]
type = VarSet
triggerall = (Var(14) = 2 && time > 1)
trigger1 = (command = "x" || command = "y" || command = "z") || Var(39) = 1
v = 14
value = 3 

[State 1001, Next]
type = ChangeState
trigger1 = animtime = 0 && Var(14) = 3 && power > 0
value = 1001
ctrl = 1

[State 1002, End]
type = ChangeState
trigger1 = AnimTime = 0 && (Var(14) = 2 || power = 0)
value = 1003
ctrl = 1
;---------------------------------------------------------------------------
;Weak Fireball End
[Statedef 1003]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1003

[State 1003, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1003

[State 1003, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1003, End]
type = ChangeState
trigger1 = AnimTime = 0 
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Energy Blade Weak
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 20
sprpriority = 2
;anim = 1100

[State 1100, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1100

[State 1100, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 1100, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 1305, 0

[State 1100, Sound]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 0
value = 1, 5

[State 1100, EBlade.Helper]
type = Helper
trigger1 = Time = 2
name = "EBladeW"
stateno = 12500
postype = p1
pos = 24, -46
keyctrl = 0
ownpal = 1
id = 12500
size.xscale = 0.4
size.yscale = 0.4

;Chain Death Blade
;[State 12500, Chain DBlade]
;type = ChangeState
;triggerall = (parent, command = "DBlade1" || parent, command = "DBlade2" || parent,command = "DBlade3") && command != "holddown" && power >= 1000
;trigger1 = movecontact && ((parent, stateno = 1100) || (parent, stateno = 1150))
;value = 2005

;Chain Death Blade
[State 1100, Chain DBlade]
type = ChangeState
triggerall = (command = "DBlade1" || command = "DBlade2" || command = "DBlade3") && command != "holddown" && power >= 1000
trigger1 = helper(12500),movecontact && (helper(12500), stateno = 12500)
value = 2005

;Chain Kamehameha
[State 1100, Chain KHH]
type = ChangeState
triggerall = (command = "KameHameHa1" || command = "KameHameHa2" || command = "KameHameHa3") && command != "holddown" && power >= 1000
trigger1 = helper(12500),movecontact && (helper(12500), stateno = 12500)
value = 1905

[State 1100, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Energy Blade Medium
[Statedef 1110]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 20
sprpriority = 2
;anim = 1110

[State 1110, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1110

[State 1110, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 1110, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 1305, 0

[State 1110, Sound]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 0
value = 1, 5

[State 1110, EBlade.Helper]
type = Helper
trigger1 = Time = 2
name = "EBladeM"
stateno = 12510
postype = p1
pos = 24, -46
keyctrl = 0
ownpal = 1
id = 12510
size.xscale = 0.45
size.yscale = 0.45

;Chain Death Blade
[State 1110, Chain DBlade]
type = ChangeState
triggerall = (command = "DBlade1" || command = "DBlade2" || command = "DBlade3") && command != "holddown" && power >= 1000
trigger1 = helper(12510),movecontact && (helper(12510), stateno = 12510)
value = 2005

;Chain Kamehameha
[State 1110, Chain KHH]
type = ChangeState
triggerall = (command = "KameHameHa1" || command = "KameHameHa2" || command = "KameHameHa3") && command != "holddown" && power >= 1000
trigger1 = helper(12510),movecontact && (helper(12510), stateno = 12510)
value = 1905

[State 1110, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Energy Blade Strong
[Statedef 1120]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0     
ctrl = 0  
poweradd = 20
sprpriority = 2
;anim = 1120

[State 1120, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1120

[State 1120, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 1120, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 1305, 0

[State 1120, Sound]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 0
value = 1, 5

[State 1120, EBlade.Helper]
type = Helper
trigger1 = Time = 2
name = "EBladeS"
stateno = 12520
postype = p1
pos = 24, -46
keyctrl = 0
ownpal = 1
id = 12520
size.xscale = 0.5
size.yscale = 0.5

;Chain Death Blade
[State 1120, Chain DBlade]
type = ChangeState
triggerall = (command = "DBlade1" || command = "DBlade2" || command = "DBlade3") && command != "holddown" && power >= 1000
trigger1 = helper(12520),movecontact && (helper(12520), stateno = 12520)
value = 2005

;Chain Kamehameha
[State 1120, Chain KHH]
type = ChangeState
triggerall = (command = "KameHameHa1" || command = "KameHameHa2" || command = "KameHameHa3") && command != "holddown" && power >= 1000
trigger1 = helper(12520),movecontact && (helper(12520), stateno = 12520)
value = 1905

[State 1120, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Air Energy Blade Weak
[Statedef 1150]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 45
ctrl = 0
sprpriority = 2
;anim = 1150

[State 1150, VelAdd]
type = VelAdd
trigger1 = Vel X > 5
x = -0.33
y = 0

[State 1150, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1150

[State 1150, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 1305, 0

[State 1150, Sound]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 0
value = 1, 5

[State 1150, EBlade.Helper]
type = Helper
trigger1 = Time = 2
name = "EBladeW"
stateno = 12500
postype = p1
pos = 24, -46
keyctrl = 0
ownpal = 1
id = 12500
size.xscale = 0.4
size.yscale = 0.4

;Chain Death Blade
[State 1150, Chain DBlade]
type = ChangeState
triggerall = (command = "DBlade1" || command = "DBlade2" || command = "DBlade3") && command != "holddown" && power >= 1000
trigger1 = helper(12500),movecontact && (helper(12500), stateno = 12500)
value = 2005

;Chain Kamehameha
[State 1150, Chain KHH]
type = ChangeState
triggerall = (command = "KameHameHa1" || command = "KameHameHa2" || command = "KameHameHa3") && command != "holddown" && power >= 1000
trigger1 = helper(12500),movecontact && (helper(12500), stateno = 12500)
value = 1905

[State 1150, Control]
type = CtrlSet
trigger1 = Time = 30
value = 1
;---------------------------------------------------------------------------
;Air Energy Blade Medium
[Statedef 1160]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 45
ctrl = 0
sprpriority = 2
;anim = 1160

[State 1160, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1160

[State 1160, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 1305, 0

[State 1160, Sound]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 0
value = 1, 5

[State 1160, EBlade.Helper]
type = Helper
trigger1 = Time = 2
name = "EBladeM"
stateno = 12510
postype = p1
pos = 24, -46
keyctrl = 0
ownpal = 1
id = 12510
size.xscale = 0.45
size.yscale = 0.45

;Chain Death Blade
[State 1160, Chain DBlade]
type = ChangeState
triggerall = (command = "DBlade1" || command = "DBlade2" || command = "DBlade3") && command != "holddown" && power >= 1000
trigger1 = helper(12510),movecontact && (helper(12510), stateno = 12510)
value = 2005

;Chain Kamehameha
[State 1160, Chain KHH]
type = ChangeState
triggerall = (command = "KameHameHa1" || command = "KameHameHa2" || command = "KameHameHa3") && command != "holddown" && power >= 1000
trigger1 = helper(12510),movecontact && (helper(12510), stateno = 12510)
value = 1905

[State 1160, Control]
type = CtrlSet
trigger1 = Time = 30
value = 1
;---------------------------------------------------------------------------
;Air Energy Blade Weak
[Statedef 1170]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 45
ctrl = 0
sprpriority = 2
;anim = 1170

[State 1170, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1170

[State 1170, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 1305, 0

[State 1170, Sound]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 0
value = 1, 5

[State 1170, EBlade.Helper]
type = Helper
trigger1 = Time = 2
name = "EBladeS"
stateno = 12520
postype = p1
pos = 24, -46
keyctrl = 0
ownpal = 1
id = 12520
size.xscale = 0.5
size.yscale = 0.5

;Chain Death Blade
[State 1170, Chain DBlade]
type = ChangeState
triggerall = (command = "DBlade1" || command = "DBlade2" || command = "DBlade3") && command != "holddown" && power >= 1000
trigger1 = helper(12520),movecontact && (helper(12520), stateno = 12520)
value = 2005

;Chain Kamehameha
[State 1170, Chain KHH]
type = ChangeState
triggerall = (command = "KameHameHa1" || command = "KameHameHa2" || command = "KameHameHa3") && command != "holddown" && power >= 1000
trigger1 = helper(12520),movecontact && (helper(12520), stateno = 12520)
value = 1905

[State 1170, Control]
type = CtrlSet
trigger1 = Time = 30
value = 1
;---------------------------------------------------------------------------
; Slide Kick
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 85
ctrl = 0
velset = 0,0
sprpriority = -1
;anim = 1300

[State 1300, AfterImage]
type = AfterImage
trigger1 = time = 3
time = 22
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1300, Dust]
type = Explod
triggerall = pos y = 0 && vel x > 3 && !movecontact
trigger1 = (timemod = 3,0)
Anim = 15000
Pos = 0, 0
Id = 15000
sprpriority = 3
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1300, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1300

[State 1300, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 1300, Voice]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 4
value = 1, 1
channel = 0

[State 1300, Sound]
type = PlaySnd
trigger1 = Time = 4
value = 101, 0

[State 1300, VarSet]
type = Varset
trigger1 = time = 0
fv = 18
value = 9

[State 1300, VarAdd]
type = Varadd
trigger1 = time >= 4 && fvar(18) > 0
fv = 18
value = -0.5

[State 1300, VelSet]
type = Velset
trigger1 = time > 4 && vel x >= 0
x = fvar(18)

[State 1300, VelSet]
type = Velset
trigger1 = time > 4 && vel x < 0
x = 0

[State 1300, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 50
guardflag = MA
pausetime = 12,14
sparkno = S11010
sparkxy = -7,-21
hitsound   = S305,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6.5,-3
air.velocity = -6,-3

[State 1300, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Slide Kick Medium
[Statedef 1310]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 85
ctrl = 0
velset = 0,0
sprpriority = -1
;anim = 1300

[State 1310, AfterImage]
type = AfterImage
trigger1 = time = 3
time = 22
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1310, Dust]
type = Explod
triggerall = pos y = 0 && vel x > 3 && !movecontact
trigger1 = (timemod = 3,0)
Anim = 15000
Pos = 0, 0
Id = 15000
sprpriority = 3
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1310, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1300

[State 1310, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 1310, Voice]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 4
value = 1, 4
channel = 0

[State 1310, Sound]
type = PlaySnd
trigger1 = Time = 4
value = 101, 0

[State 1310, VarSet]
type = Varset
trigger1 = time = 0
fv = 18
value = 10.5

[State 1310, VarAdd]
type = Varadd
trigger1 = time >= 4 && fvar(18) > 0
fv = 18
value = -0.5

[State 1310, VelSet]
type = Velset
trigger1 = time > 4 && vel x >= 0
x = fvar(18)

[State 1310, VelSet]
type = Velset
trigger1 = time > 4 && vel x < 0
x = 0

[State 1310, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 55
guardflag = MA
pausetime = 12,14
sparkno = S11010
sparkxy = -7,-21
hitsound   = S305,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6.5,-3
air.velocity = -6,-3

[State 1310, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Strong Slide Kick
[Statedef 1320]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 85
ctrl = 0
velset = 0,0
sprpriority = -1
;anim = 1300

[State 1320, AfterImage]
type = AfterImage
trigger1 = time = 3
time = 22
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1320, Dust]
type = Explod
triggerall = pos y = 0 && vel x > 3 && !movecontact
trigger1 = (timemod = 3,0)
Anim = 15000
Pos = 0, 0
Id = 15000
sprpriority = 3
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1320, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1300

[State 1320, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 1320, Voice]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 4
value = 1, 10
channel = 0

[State 1320, Sound]
type = PlaySnd
trigger1 = Time = 4
value = 101, 0

[State 1320, VarSet]
type = Varset
trigger1 = time = 0
fv = 18
value = 12

[State 1320, VarAdd]
type = Varadd
trigger1 = time >= 4 && fvar(18) > 0
fv = 18
value = -0.5

[State 1320, VelSet]
type = Velset
trigger1 = time > 4 && vel x >= 0
x = fvar(18)

[State 1320, VelSet]
type = Velset
trigger1 = time > 4 && vel x < 0
x = 0

[State 1320, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 60
guardflag = MA
pausetime = 12,14
sparkno = S11010
sparkxy = -7,-21
hitsound   = S305,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6.5,-3
air.velocity = -6,-3

[State 1320, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Solar Flare
[Statedef 1400]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = -1
;anim = 1400

[State 1400, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -6

[State 1400, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1400

[State 1400, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 1400, VarSet]
type = Varset
trigger1 = time = 0
fv = 19
value = 0.0

[State 1400, VarAdd]
type = Varadd
trigger1 = time >= 5 && fvar(19) < 1.5
fv = 19
value = 0.1

[State 1400, Flash]
type = Explod
trigger1 = time = [5,29]
Anim = 12900
Pos = 8, -68
Id = 12900
sprpriority = 999
removeongethit = 1
removetime = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = fvar(19), fvar(19)

[State 1400, Flash2]
type = Explod
trigger1 = time = 30
Anim = 12901
Pos = 8, -68
Id = 12900
sprpriority = 999
removeongethit = 0
;removetime = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = fvar(19), fvar(19)

[State 1400, Sound]
type = null;PlaySnd
trigger1 = Time = 0
value = 1001, 0
volume = 255

[State 1400, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 1024, 0
volume = 255

[State 1400, Sound]
type = PlaySnd
trigger1 = Time = 20
value = 1025, 0

[State 1400, Voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,0;1, 13
voice = 255
channel = 0

[State 1400, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = 0
hitflag = MA
guardflag = MA
getpower = 0
pausetime = 0,100
guard.pausetime = 0,10
sparkno = -1
sparkxy = 0,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -6
air.velocity = -6,0

[State 1400, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1400, End]
type = ChangeState
trigger1 = AnimTime = 0 && power > 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Flip Kick
[Statedef 1500]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 85
ctrl = 0
velset = 1,0
sprpriority = 2
;anim = 1500

[State 1500, AfterImageVarSet]
type = VarSet
trigger1 = time = 0
v = 24
value = 0

[State 1500, AfterImageVarAdd]
type = VarSet
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
v = 24
value = 1

[State 1500, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 18
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1500, Animation]
type = StateTypeSet
trigger1 = time = 1
type    = A
movetype= A
physics = A

[State 1500, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1500

[State 1500, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 1500, VarSet]
type = Varset
trigger1 = time = 0
fv = 23
value = 0.0

[State 1500, VarAdd]
type = Varadd
trigger1 = time >= 1 && (vel x > -4)
fv = 23
value = -0.1

[State 1500, VelSet]
type = Velset
trigger1 = time = [0,6]
x = fvar(23)
y = -3.5

[State 1500, VelSet]
type = Velset
trigger1 = time > 6
x = fvar(23)

[State 1500, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 205, 0

[State 1500, Sound]
type = PlaySnd
triggerall = Prevstateno != 901
trigger1 = random < 200
trigger1 = Time = 0
value = 1, 8

[State 1500, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 60
guardflag = MA
pausetime = 15,15
sparkno = S11020
sparkxy = -24,-73
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
air.hittime  = 20
ground.velocity = -4,-7.5
air.velocity = -4,-7.5
fall = 1
air.fall = 1
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 1500, 4]
type = ChangeState
trigger1 = AnimTime = 0 && pos y >= 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Flip Kick Medium
[Statedef 1510]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 85
ctrl = 0
velset = 1,0
sprpriority = 2
;anim = 1500

[State 1500, AfterImageVarSet]
type = VarSet
trigger1 = time = 0
v = 24
value = 0

[State 1500, AfterImageVarAdd]
type = VarSet
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
v = 24
value = 1

[State 1510, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 18
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1510, Animation]
type = StateTypeSet
trigger1 = time = 1
type    = A
movetype= A
physics = A

[State 1510, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1500

[State 1510, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 1510, VarSet]
type = Varset
trigger1 = time = 0
fv = 23
value = 0.0

[State 1510, VarAdd]
type = Varadd
trigger1 = time >= 1 && (vel x > -4)
fv = 23
value = -0.13

[State 1510, VelSet]
type = Velset
trigger1 = time = [0,6]
x = fvar(23)
y = -3.9

[State 1510, VelSet]
type = Velset
trigger1 = time > 6
x = fvar(23)

[State 1510, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 205, 0

[State 1510, Sound]
type = PlaySnd
triggerall = Prevstateno != 901
trigger1 = random < 200
trigger1 = Time = 0
value = 1, 8

[State 1510, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 70
guardflag = MA
pausetime = 15,15
sparkno = S11020
sparkxy = -24,-73
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
air.hittime  = 20
ground.velocity = -4,-8
air.velocity = -4,-8
air.fall = 1
fall = 1
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 1510, 4]
type = ChangeState
trigger1 = AnimTime = 0 && pos y >= 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Flip Kick Strong
[Statedef 1520]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 85
ctrl = 0
velset = 1,0
sprpriority = 2
;anim = 1500

[State 1520, AfterImageVarSet]
type = VarSet
trigger1 = time = 0
v = 24
value = 0

[State 1520, AfterImageVarAdd]
type = VarSet
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
v = 24
value = 1

[State 1520, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 18
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1520, Animation]
type = StateTypeSet
trigger1 = time = 1
type    = A
movetype= A
physics = A

[State 1520, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1500

[State 1520, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 1520, VarSet]
type = Varset
trigger1 = time = 0
fv = 23
value = 0.0

[State 1520, VarAdd]
type = Varadd
trigger1 = time >= 1 && (vel x > -4)
fv = 23
value = -0.16

[State 1520, VelSet]
type = Velset
trigger1 = time = [0,6]
x = fvar(23)
y = -4.4

[State 1520, VelSet]
type = Velset
trigger1 = time > 6
x = fvar(23)

[State 1520, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 205, 0

[State 1520, Sound]
type = PlaySnd
triggerall = Prevstateno != 901
trigger1 = random < 200
trigger1 = Time = 0
value = 1, 8

[State 1520, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 80
guardflag = MA
pausetime = 15,15
sparkno = S11020
sparkxy = -24,-73
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
air.hittime  = 20
ground.velocity = -4,-8.5
air.velocity = -4,-8.5
air.fall = 1
fall = 1
fall.recover = 0
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 1520, End]
type = ChangeState
trigger1 = AnimTime = 0 && pos y >= 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Teleport Elbow Bash - Teleport part
[Statedef 1550]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -200
anim = 1550

[State 1550, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1550, NotHitBy]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 1

[State 1550, Teleport1]
type = PosAdd
triggerall = prevstateno != 250
Trigger1 = time = 1
x = (p2dist X)+55
y = (p2dist Y)-30

[State 1550, Teleport2]
type = PosAdd
triggerall = prevstateno = 250
Trigger1 = time = 1
x = (p2dist X)+55
y = (p2dist Y)-40

[State 1560, Turn]
type = Turn
triggerall = prevstateno = 1561
Trigger1 = time = 1
;------------------------------------------------
[State 1550, AfterImageStill1]
type = Explod
triggerall = prevstateno = [1500,1520]
Trigger1 = time = 0
anim = 1555+Var(24)
removetime = 25
velocity = 0
offset = 0
trans = add

[State 1550, AfterImageLeft1]
type = Explod
triggerall = prevstateno = [1500,1520]
Trigger1 = time = 0
anim = 1555+Var(24)
removetime = 25
velocity = -1.5
offset = 0
trans = add

[State 1550, AfterImageRight1]
type = Explod
triggerall = prevstateno = [1500,1520]
Trigger1 = time = 0
anim = 1555+Var(24)
removetime = 25
velocity = 1.5
offset = 0
trans = add


[State 1550, AfterImageStill2]
type = Explod
triggerall = (prevstateno = [240,250]) || prevstateno = 1561
Trigger1 = time = 0
anim = 1565
removetime = 25
velocity = 0
offset = 0
trans = add

[State 1550, AfterImageLeft2]
type = Explod
triggerall = (prevstateno = [240,250]) || prevstateno = 1561
Trigger1 = time = 0
anim = 1565
removetime = 25
velocity = -1.5
offset = 0
trans = add

[State 1550, AfterImageRight2]
type = Explod
triggerall = (prevstateno = [240,250]) || prevstateno = 1561
Trigger1 = time = 0
anim = 1565
removetime = 25
velocity = 1.5
offset = 0
trans = add
;----------------------------------------------

[State 1550, PlaySND]
type = PlaySnd
Trigger1 = time = 0
value = 2900,0

[State 1550, Next]
type = ChangeState
Trigger1 = time = 1
value = 1551
ctrl = 1

[State 1550, ScreenBounderies]
type = null;ScreenBound
Trigger1 = Time = 0
Trigger2 = Time >= 10
Trigger3 = AnimElem = 2
Trigger4 = AnimElem = 3
Trigger5 = AnimElem = 4
Trigger6 = AnimTime = 0
value = 0
movecamera = 1,1
;---------------------------------------------------------------------------
; Teleport Elbow Bash-Reappear/Hit
[Statedef 1551]
type    = A 
movetype= A
physics = A 
juggle  = 0 
velset = 0,0 
ctrl = 0   
poweradd = 0                   
sprpriority = -2                 
;anim = 1551

[State 1551, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1551, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 1551, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1551

[State 1551, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 1551, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 1551, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, ST
damage = 30
guardflag = HA
pausetime = 16,16
sparkno = S11020
sparkxy = -23,-5
hitsound   = S306,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = 0,13
air.velocity = 0,13
fall = 1
fall.recover = 0
fall.xvelocity = -3
fall.yvelocity = -8
down.bounce = 1
envshake.time = 16
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 1551, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1552
ctrl = 1
;---------------------------------------------------------------------------
; Teleport Elbow Bash-Fall
[Statedef 1552]
type    = A 
movetype= I
physics = A 
juggle  = 0 
velset = 0,0 
ctrl = 0   
poweradd = 0                   
sprpriority = 2                 
;anim = 1552

[State 1552, VelSet]
type = VelSet
trigger1 = pos y > 0
x = 0
y = 0

[State 1551, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1552

[State 1552, FlightDetection]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 1552, End]
type = ChangeState
trigger1 = pos y = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Teleport Kick Up - Teleport part
[Statedef 1560]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -200
anim = 1550

[State 1560, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1560, NotHitBy]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 1

[State 1560, Teleport]
type = PosAdd
Trigger1 = time = 1
x = (p2bodydist X)+150
y = (p2bodydist Y)-5

[State 1560, Turn]
type = Turn
Trigger1 = time = 1

;------------------------------------------------
[State 1560, AfterImageStill1]
type = Explod
triggerall = prevstateno = [1500,1520]
Trigger1 = time = 0
anim = 1555+Var(24)
removetime = 25
velocity = 0
offset = 0
trans = add

[State 1560, AfterImageLeft1]
type = Explod
triggerall = prevstateno = [1500,1520]
Trigger1 = time = 0
anim = 1555+Var(24)
removetime = 25
velocity = -1.5
offset = 0
trans = add

[State 1560, AfterImageRight1]
type = Explod
triggerall = prevstateno = [1500,1520]
Trigger1 = time = 0
anim = 1555+Var(24)
removetime = 25
velocity = 1.5
offset = 0
trans = add


[State 1560, AfterImageStill2]
type = Explod
triggerall = prevstateno = [240,250]
Trigger1 = time = 0
anim = 1565
removetime = 25
velocity = 0
offset = 0
trans = add

[State 1560, AfterImageLeft2]
type = Explod
triggerall = prevstateno = [240,250]
Trigger1 = time = 0
anim = 1565
removetime = 25
velocity = -1.5
offset = 0
trans = add

[State 1560, AfterImageRight2]
type = Explod
triggerall = prevstateno = [240,250]
Trigger1 = time = 0
anim = 1565
removetime = 25
velocity = 1.5
offset = 0
trans = add
;-------------------------------------------------

[State 1560, PlaySND]
type = PlaySnd
Trigger1 = time = 0
value = 2900,0

[State 1560, Next]
type = ChangeState
Trigger1 = time = 1
value = 1561
ctrl = 1

[State 1560, ScreenBounderies]
type = null;ScreenBound
Trigger1 = Time = 0
Trigger2 = Time >= 10
Trigger3 = AnimElem = 2
Trigger4 = AnimElem = 3
Trigger5 = AnimElem = 4
Trigger6 = AnimTime = 0
value = 0
movecamera = 1,1
;---------------------------------------------------------------------------
; Kick Up-Reappear/Hit
[Statedef 1561]
type    = A 
movetype= A
physics = A 
juggle  = 0 
velset = 0,0 
ctrl = 0   
poweradd = 0                   
sprpriority = 2                 
;anim = 1561

[State 1560, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1561, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 1561, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1561

[State 1561, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 1561, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 1561, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, ST
damage = 30
guardflag = HA
pausetime = 16,16
sparkno = S11020
sparkxy = -23,-5
hitsound   = S306,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -2,-10
air.velocity = -2,-10
fall = 1
fall.recover = 0
envshake.time = 16
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 1561, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1562
ctrl = 1
;---------------------------------------------------------------------------
; Teleport Kick Up-Fall
[Statedef 1562]
type    = A 
movetype= I
physics = A 
juggle  = 0 
velset = 0,0 
ctrl = 0   
poweradd = 0                   
sprpriority = 2                 
;anim = 1562

[State 1562, VelSet]
type = VelSet
trigger1 = pos y > 0
x = 0
y = 0

[State 1562, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1562

[State 1562, FlightDetection]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 1562, End]
type = ChangeState
trigger1 = pos y = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------
; Charge Power Start
[Statedef 1700]
type = S
physics = S
velset = 0,0
ctrl = 0

[State 1700, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = time = 2
Anim = 10010
Pos = -11, 4
Id = 10010
sprpriority = -2
removeongethit = 0
removetime = 10
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.85, 0.85

[State 1700, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1700

[State 1700, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1700, Limit]
type = null;ChangeState
trigger1 = Power >= 3000
value = 0
ctrl = 1

[State 1700, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 1701
ctrl = 1
;-------------------------------------------------------------------------
; Charge Power Charging
[Statedef 1701]
type = S
movetype= I
physics = N
ctrl = 0
velset = 0,0

[State 1701, BackDust]
type = Explod
triggerall = pos y = 0
trigger1 = timemod = 17,1;trigger1 = time = 0
Anim = 15000
Pos = -50, 0
Id = 15000
sprpriority = -1
removeongethit = 0
removetime = 28
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1
velocity = -2,0

[State 1701, FwdDust]
type = Explod
triggerall = pos y = 0
trigger1 = timemod = 17,1
Anim = 15001
Pos = 50, 0
Id = 15001
sprpriority = -1
removeongethit = 0
removetime = 28
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1
velocity = 2, 0

[State 1701, WhirlWind]
type = Explod
trigger1 = time = 0
Anim = 15150
Pos = 4, -24
Id = 15150
sprpriority = 5
removeongethit = 0
;removetime = 28
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1
velocity = 0,0
scale = 0.7,0.7

[State 1701, PushBack.Helper]
type = Helper
trigger1 = Time = 0
trigger2 = Time = 5
trigger3 = Time = 10
name = "PushBack"
stateno = 12651
postype = p1
pos = -10, 0
keyctrl = 0
ownpal = 1
id = 12651

[State 1701, PushStill.Helper]
type = Helper
trigger1 = Time = 0
trigger2 = Time = 5
trigger3 = Time = 10
name = "PushStill"
stateno = 12652
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12652

[State 1701, PushFwd.Helper]
type = Helper
trigger1 = Time = 0
trigger2 = Time = 5
trigger3 = Time = 10
name = "PushFwd"
stateno = 12650
postype = p1
pos = 10, 0
keyctrl = 0
ownpal = 1
id = 12650

[State 1701, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1701

[State 1701, VarSet1]
type = VarSet
Triggerall = Pos Y < 0
Trigger1 = Var(2) = 2
Trigger1 = Vel Y >= 2.4
Trigger2 = Time = 0
v = 2
value = 1

[State 1701, VarSet2]
type = VarSet
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 1
Trigger1 = Vel Y <= -2.4
v = 2
value = 2

[State 1701, FloatUp]
type = VelAdd
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 1
y = -0.1

[State 1701, FloatDown]
type = VelAdd
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 2
y = 0.1

[State 1701, Stop.Charge]
type = VarSet
Triggerall = Pos Y < 0
trigger1 = (command != "hold_a") && (command != "hold_b")
v = 2
value = 0

[State 1701, Voice]
type = PlaySnd
trigger1 = Time = 1
value = 1, 12
channel = 0

[State 1701, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 1700, 0
;------------------------------------
[State 1701, WindCrap]
type = null;Explod
trigger1 = timemod = 16,0
Anim = 16000
Pos = -320,1
Id = 16000
sprpriority = 2
removeongethit = 1
removetime = 120
bindtime = 0
Postype = p1
SuperMove = 1
ownpal = 1
scale = 1, 1
velocity = 8,0
;------------------------------------
[State 1701, Aura]
type = Explod
trigger1 = timemod = 12,0
Anim = 10000
Pos = -6,6
Id = 10000
sprpriority = 2
removeongethit = 1
removetime = 12
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.9, 0.7

[State 1701, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = timemod = 12,0
Anim = 10010
Pos = -6, 1
Id = 10010
sprpriority = -2
removeongethit = 0
removetime = 12
Postype = p1
Bindtime = 12
SuperMove = 1
ownpal = 1
scale = 0.85, 0.85

[State 1701, ElecA]
type = Explod
trigger1 = timemod = 100,0
Anim = 10020
Pos = -1,-18
Id = 10020
sprpriority = 3
removeongethit = 1
removetime = 18
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 1701, ElecB]
type = Explod
trigger1 = timemod = 100,20
Anim = 10021
Pos = -29,-50
Id = 10021
velocity = 0,-0.02
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.6, 0.6

[State 1701, ElecC]
type = Explod
trigger1 = timemod = 100,40
Anim = 10022
Pos = -33,-50
Id = 10022
sprpriority = 3
removeongethit = 1
removetime = 20
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.7, 0.7

[State 1701, ElecD]
type = Explod
trigger1 = timemod = 100,60
Anim = 10023
Pos = -25,-16
Id = 10023
sprpriority = 3
removeongethit = 1
removetime = 18
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 1701, ElecE]
type = Explod
trigger1 = timemod = 100,80
Anim = 10024
Pos = 10,-36
Id = 10024
velocity = 0,0.02
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.6, 0.6

[State 1701, AuraSND]
type = PlaySnd
trigger1 = TimeMod = 26,0
value = 1700,1

[state 1701, ColorFX]
type = PalFX
trigger1 = Time > 0
trigger1 = TimeMod = 9,0
time = 2
add = 64,64,64

[State 1701, VarSet]
type = Varset
trigger1 = time = 0
v = 10
value = 0

[State 1701, VarSet]
type = Varset
trigger1 = time = 0
v = 11
value = 0

[State 1701, VarSet]
type = Varset
trigger1 = Var(10) = -60
v = 11
value = 1

[State 1701, VarSet]
type = Varset
trigger1 = Var(10) = 0
v = 11
value = 0

[State 1701, VarAdd]
type = VarAdd
trigger1 = time >= 50 && Var(11) = 0
v = 10
value = -1

[state 1701, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(10),Var(10),Var(10)

[State 1701, Shake]
type = EnvShake
trigger1 = time >= 100
trigger1 = Timemod = 8,0
Time = 8
freq = 60
ampl = -2
phase = 0

[State 1701, PowerAdd]
type = PowerAdd
trigger1 = Time > 0
value = 6

[State 1701, LifeAdd]
type = LifeAdd
triggerall = power < 3000
trigger1 = TimeMod = 10,0
value = 1

[State 1701, LifeAdd]
type = LifeAdd
triggerall = power >= 3000
trigger1 = TimeMod = 7,0
value = 1

[State 1701, RemoveAura]
Type = RemoveExplod
trigger1 = stateno != 1701
ID = 9060

[State 1701, Limit]
type = ChangeState
trigger1 = Power >= 3000
value = 1702
ctrl = 1

[State 1701, Stop.Next]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = command != "hold_a" && command != "hold_b"
value = 1702
ctrl = 0
;-------------------------------------------------------------------------
; Charge Power Over
[Statedef 1702]
type = S
movetype= I
physics = N
ctrl = 0
velset = 0,0

[State 1702, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1702

[State 1702, RemoveAura]
Type = RemoveExplod
trigger1 = AnimElem = 1
ID = 10000

[State 1701, Voice]
type = PlaySnd
trigger1 = Time = 0 && power >= 3000 && random < 333
value = 1,9
channel = 0

[State 1701, PlaySND]
type = PlaySnd
trigger1 = Time = 0 && power >= 3000
value = 1702,0

[State 1702, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Special Beam Cannon
[Statedef 1800]
type    = S
movetype= A
physics = S
poweradd= -5
ctrl = 0
velset = 0
;anim = 1900

[State 1800, Shake]
type = EnvShake
trigger1 = time = 1
time = 98
freq = 60
amp = -6
phase = 30

[State 1800, Dust1]
type = Explod
triggerall = pos y = 0
trigger1 = timemod = 17,1
Anim = 15000
Pos = -45, 0
Id = 15000
sprpriority = -2
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
velocity = -3
ownpal = 1

[State 1800, Dust2]
type = Explod
triggerall = pos y = 0
trigger1 = timemod = 17,1
Anim = 15001
Pos = 40, 0
Id = 15001
sprpriority = -2
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
velocity = 3
ownpal = 1

[State 1701, WhirlWind]
type = Explod
trigger1 = time = 0
Anim = 15150
Pos = 4, -24
Id = 15150
sprpriority = 5
removeongethit = 0
;removetime = 28
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1
velocity = 0,0
scale = 0.7,0.7

[State 1800, PushBack.Helper]
type = Helper
trigger1 = TimeMod = 7,0
name = "PushBack"
stateno = 12651
postype = p1
pos = -10, 0
keyctrl = 0
ownpal = 1
id = 12651

[State 1800, PushStill.Helper]
type = Helper
trigger1 = TimeMod = 7,0
name = "PushStill"
stateno = 12652
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12652

[State 1800, PushFwd.Helper]
type = Helper
trigger1 = TimeMod = 7,0
name = "PushFwd"
stateno = 12650
postype = p1
pos = 10, 0
keyctrl = 0
ownpal = 1
id = 12650

[State 1800, Sound-Charge]
type = PlaySnd
trigger1 = time = 0
value = 1021,0
channel = 6

[State 1800, Ring.Helper]
type = Helper
trigger1 = time = 20
trigger2 = time = 35
trigger3 = time = 50
trigger4 = time = 65
trigger5 = time = 80
name = "Ring"
stateno = 12630
postype = p1
pos = 9, -69
keyctrl = 0
ownpal = 1
id = 12630
bindtime = 0

[State 1800, Sound-Pulse]
type = PlaySnd
trigger1 = time = 20
trigger2 = time = 35
trigger3 = time = 50
trigger4 = time = 65
trigger5 = time = 80
value = 1020,0
channel = 7

[State 1800, Perse Effect]
type = Helper
trigger1 = time = 10
name = "PerseEffect"
stateno = 14510
postype = p1
pos = 9, -69
keyctrl = 0
ownpal = 0
id = 14510
bindtime = 0

[State 1800, Ball Effect]
type = Helper
trigger1 = time = 25
name = "Ball"
stateno = 12640
postype = p1
pos = 9, -69
keyctrl = 0
ownpal = 0
id = 12640
bindtime = -1

[State 1800, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1900

[State 1800, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 0
anim = -1
sound = S1800,0
pos = 9,-68
darken = 0
unhittable = 1

[State 1800, FingerSparks]
type = Explod
trigger1 = time = 0
Anim = 12101
Pos = 9, -68
Id = 12101
sprpriority = 3
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

;[State 1800, VarSet]
;type = Varset
;trigger1 = time = 0
;v = 12
;value = -200

;[State 1800, BGColorFX]
;type = BGPalFX
;trigger1 = Time > 0
;time = 1
;add = Var(12),Var(12),Var(12)

;[State 1800, BGColorFX]
;type = BGPalFX
;trigger1 = Time > 0
;time = 1
;add = Var(12),Var(12),Var(12)

;[State 1800, VarAdd]
;type = VarAdd
;trigger1 = time >= 15 && Var(12) < 0
;v = 12
;value = 3

[State 12640, AllPalFX- Fade to Gray]
type = AllPalFX
trigger1 = Time <= 95
time = 1
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 255-floor((Time*2)*1.3)

[State 1800, PowerAdd]
Type = PowerAdd
Trigger1 = time > 0
value = -21

[State 1800, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1800, Voice-"SBC"]
type = PlaySnd
trigger1 = time = 0
value = 5,0
volume = 255
channel = 0

[State 1800, End]
type = ChangeState
trigger1 = Time = 95 
value = 1801
ctrl = 1
;---------------------------------------------------------------------------
;Special Beam Cannon FIRE!
[Statedef 1801]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1901
sprpriority = 0

[State 12640, AllPalFX- Flash]
type = AllPalFX
trigger1 = Time < 10
time = 1
add = 256-time*25,256-time*25,256-time*25
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 255

[State 1800, Sound-BeamCharged]
type = PlaySnd
trigger1 = time = 0
value = 1022,0
channel = 6
volume = 255

[State 1800, Dust1]
type = Explod
triggerall = pos y = 0
trigger1 = time = 1
Anim = 15100
Pos = -45, 0
Id = 15100
sprpriority = -2
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
velocity = -3
ownpal = 1

[State 1801, BeamStart]
type = Explod
trigger1 = time = 1
Anim = 12600
Pos = 55, -51
Id = 12600
sprpriority = 7
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.6,0.6

[State 1801, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1901

[State 1801, Sound]
type = PlaySnd
trigger1 = time = 5
value = 1000,0
volume = 255

[State 1801, Shake]
type = EnvShake
trigger1 = time = 1
Time = 18

[State 1801, SpecialBeam.Helper]
type = Helper
trigger1 = Time = 1
name = "SpecialBeam"
stateno = 12600
postype = p1
pos = 60, -51
keyctrl = 0
ownpal = 1
id = 12600
size.xscale = 0.5
size.yscale = 0.5

[State 1801, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

;[State 1801, ScreenBound]
;type = ScreenBound
;trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
;movecamera = 0,0
;value	= 0

;[State 1801, End]
;type = ChangeState
;trigger1 = Time = 60
;value	= IfElse(BackEdgeBodydist >= 0, 0, 100)
;ctrl = 1

[State 1801, End]
type = ChangeState
trigger1 = Time = 60
value	= 0
ctrl = 1

;---------------------------------------------------------------------------
;Special Beam Cannon BEAM!!!! XD
[Statedef 12600]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 12610
sprpriority = 1

[State 12600, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 12600, WindSwirleffect1]
type = Explod
trigger1 = time = 0
Anim = 12625
Pos = 25, 2
Id = 12625
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 1,0.75

[State 12600, WindSwirleffect2]
type = Explod
trigger1 = time = 4
Anim = 12626
Pos = 115, 2
Id = 12626
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 1,0.75

[State 12600, WindSwirleffect3]
type = Explod
trigger1 = time = 8
Anim = 12627
Pos = 215, 2
Id = 12627
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 1,0.75

[State 12600, BeamSwirleffect]
type = Explod
trigger1 = time = 0
Anim = 12620
Pos = -5, 2
Id = 12620
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 12600, ElecA]
type = Explod
trigger1 = time = 0
Anim = 10021
Pos = 25, -5
Id = 10020
sprpriority = 2
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 1,1
velocity = 1,0

[State 12600, ElecB]
type = Explod
trigger1 = time = 5
Anim = 10025
Pos = 130, 4
Id = 10021
sprpriority = 2
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 1,1
velocity = 1,0

[State 12600, ElecC]
type = Explod
trigger1 = time = 10
Anim = 10021
Pos = 235, -5
Id = 10022
sprpriority = 2
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 1,1
velocity = 1,0

[State 12600, Explosion]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Hard
Damage = 250,75
getpower = 0
guardflag = MA
pausetime = 0,25
sparkno = S11180
sparkxy = -25,-4
hitsound   = S1300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -9, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -9, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12600, VarSet]
type = Varset
trigger1 = time = 0
v = 23
value = 1

[State 12600, VarAdd]
type = VarAdd
trigger1 = movehit && NumHelper(12600) = 0
v = 23
value = 1

[State 12600, Explosion.Helper]
type = Helper
trigger1 = movecontact && NumHelper(12600) = 0
name = "Explode"
stateno = 14310
postype = p1
pos = 30, 0
keyctrl = 0
ownpal = 1
id = 14310
bindtime = 0

[State 12600, Disperse Effect]
type = Helper
trigger1 = movehit && numhelper(14500) = 0
name = "DisperseEffect"
stateno = 14500
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 0
id = 14500
bindtime = 0

[State 12600, SlowMo]
type = Pause
triggerall = p2life > 0 && alive
trigger1 = movehit && GameTime%Var(23) = 0 && Var(23) <= 25
time = 1
movetime = 0

[State 12600, Destroy]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;SPC Charge Ring Spark: Used in State 1800
[StateDef 12630]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = 6

[State 12630, Spark]
type = Explod
trigger1 = time = 0
Anim = 12630
Pos = 0, 0
Id = 12630
sprpriority = 6
removeongethit = 0
Postype = p1
SuperMove = 1
scale = Var(17)*0.05, Var(17)*0.05

[State 12630, ModifySpark]
type = ModifyExplod
trigger1 = 1
id = 12630
scale = Var(17)*0.05, Var(17)*0.05

[State 12630, VarSet]
type = VarSet
trigger1 = time = 0
v = 17
value = 1

[State 12630, VarAdd]
type = VarAdd
trigger1 = 1
v = 17
value = 1

[State 12630, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12630, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12630, DestroySelf]
type = DestroySelf
trigger1 = time = 12
;---------------------------------------------------------------------------
;Special Beam Cannon Growing Ball
[Statedef 12640]
type    = S
movetype= I
physics = N
poweradd= 0
ctrl = 0
velset = 0
anim = 9999
sprpriority = 1

[State 12640, VarSet]
type = VarSet
trigger1 = time = 0
v = 10
value = 10

[State 12640, VarAdd]
type = VarAdd
trigger1 = time < 55
v = 10
value = 1

[State 12640, Explod]
type = Explod
trigger1 = 1
Anim = 12640
Pos = 0, 0
Id = 12640
sprpriority = 5
removeongethit = 0
Postype = p1
SuperMove = 1
scale = Var(10)*0.015, Var(10)*0.015

;[State 12640, ModifyExplod]
;type = ModifyExplod
;trigger1 = 1
;Id = 12640
;scale = floor(Var(10)*0.05), floor(Var(10)*0.05)

;[State 12640, RemoveExplod]
;type = RemoveExplod
;trigger1 = parent, stateno != 1800
;Id = 12640

[State 12640, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != 1800
trigger2 = time = 69
;---------------------------------------------------------------------------
;KameHameHa!
[Statedef 1900]
type    = S
movetype= A
physics = S
poweradd= -40
ctrl = 0
velset = 0
;anim = 1800

[State 1900, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1800

[State 1900, HyperSpark]
type = Explod
Trigger1 = Time = 0
anim = 12310
postype = p1
pos = -38,-41
sprpriority = 3
ownpal = 1
scale = 0.5,0.5

[State 1900, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 0
anim = -1
sound = S1800,0
pos = 0,0
darken = 0
unhittable = 1

[State 1900, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 1900, VarAdd]
type = VarAdd
trigger1 = time >= 15 && Var(12) < 0
v = 12
value = 6

[State 1900, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 1900, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -16

[State 1900, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1900, Voice-"KHH"]
type = PlaySnd
trigger1 = time = 15
value = 4,0
volume = 255
channel = 0

[State 1900, End]
type = ChangeState
trigger1 = Time = 55 
value = 1901
ctrl = 1
;---------------------------------------------------------------------------
;Hyper Ki Beam of Doom! FIRE!
[Statedef 1901]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1801
sprpriority = 0

[State 1901, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1801

[State 1901, Smoke]
type = Explod
Trigger1 = Time = 17
anim = 15301
postype = p1
pos = 47,-49
sprpriority = 3
ownpal = 1

[State 1901, Sound]
type = PlaySnd
trigger1 = time = 5
value = 1000,0
volume = 255

[State 1801, Shake]
type = EnvShake
trigger1 = time = 1
Time = 18

[State 1901, KiBeam.Helper]
type = Helper
trigger1 = Time = 1
name = "KiBeam"
stateno = 12400
postype = p1
pos = 50, -49
keyctrl = 0
ownpal = 1
id = 12400

[State 1901, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1901, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 1901, End]
type = ChangeState
trigger1 = Time = 60
value	= IfElse(BackEdgeBodydist >= 0, 0, 100)
ctrl = 1
;---------------------------------------------------------------------------
;Hyper Ki Beam Chain
[Statedef 1905]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1800

[State 1905, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1800

[State 1905, HyperSpark]
type = Explod
Trigger1 = Time = 0
anim = 12310
postype = p1
pos = -38,-41
sprpriority = 3
ownpal = 1
scale = 0.5,0.5
supermove = 1

[State 1905, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = -1
sound = S1800,0
pos = 0,0
darken = 1
unhittable = 1

[State 1905, PowerAdd]
Type = PowerAdd
Trigger1 = time = 1
value = -1000

[State 1905, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1905, End]
type = ChangeState
trigger1 = Time = 2 
value = 1901
ctrl = 1
;---------------------------------------------------------------------------
;Death Blade(freeza/frieza blade beam attack)
[Statedef 2000]
type    = S
movetype= A
physics = S
poweradd= -40
ctrl = 0
velset = 0
;anim = 2000

[State 2000, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 2000

[State 2000, HyperSpark]
type = Explod
Trigger1 = Time = 0
anim = 11560
postype = p1
pos = 22,-87
sprpriority = 3
ownpal = 1
scale = 0.5,0.5

[State 2000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 0
anim = -1
sound = S1800,0
pos = 0,0
darken = 0
unhittable = 1

[State 2000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 2000, VarAdd]
type = VarAdd
trigger1 = time >= 15 && Var(12) < 0
v = 12
value = 6

[State 2000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 2000, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -16

[State 2000, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1800, Voice-"Yaaah!"]
type = PlaySnd
trigger1 = time = 54
value = 1,14
volume = 200
channel = 0

[State 2000, End]
type = ChangeState
triggerall = command = "holdup" && command != "holddown"
trigger1 = Time = 55 
value = 2020
ctrl = 1

[State 2000, End]
type = ChangeState
triggerall = command != "holdup" && command = "holddown"
trigger1 = Time = 55 
value = ifelse(pos y >= -1, 2001, 2030)
ctrl = 1

[State 2000, End]
type = ChangeState
trigger1 = Time = 55 
value = 2010
ctrl = 1
;---------------------------------------------------------------------------
;Ki Blade Ground
[Statedef 2001]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1100
sprpriority = 0

[State 2001, Shake]
type = EnvShake
trigger1 = time = 1
Time = 18

[State 2001, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 2001, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1100

[State 2001, Sound]
type = PlaySnd
trigger1 = time = 5
value = 1306,0

[State 2001, KiBlade.Helper]
type = Helper
trigger1 = Time = 5
name = "KiBlade"
stateno = 14301
postype = p1
pos = 42, 0
keyctrl = 0
ownpal = 1
id = 14301
size.xscale = 0.4
size.yscale = 0.4

[State 2001, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 2001, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Death Blade Chain
[Statedef 2005]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 2000

[State 2005, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 2000

[State 2005, HyperSpark]
type = Explod
Trigger1 = Time = 0
anim = 11560
postype = p1
pos = 22,-87
sprpriority = 3
ownpal = 1
scale = 0.5,0.5
supermove = 1

[State 2005, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = -1
sound = S1800,0
pos = 0,0
darken = 1
unhittable = 1

[State 2005, PowerAdd]
Type = PowerAdd
Trigger1 = time = 1
value = -1000

[State 2005, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 2005, End]
type = ChangeState
triggerall = command = "holdup" && command != "holddown"
trigger1 = Time = 2 
value = 2020
ctrl = 1

[State 2005, End]
type = ChangeState
triggerall = command != "holdup" && command = "holddown"
trigger1 = Time = 2 
value = ifelse(pos y >= -1, 2001, 2030)
ctrl = 1

[State 2005, End]
type = ChangeState
trigger1 = Time = 2 
value = 2010
ctrl = 1
;---------------------------------------------------------------------------
;Ki Blade Forward
[Statedef 2010]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1110
sprpriority = 0

[State 2010, Shake]
type = EnvShake
trigger1 = time = 1
Time = 18

[State 2010, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 2010, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1110

[State 2010, Sound]
type = PlaySnd
trigger1 = time = 5
value = 1306,0

[State 2010, KiBlade.Helper]
type = Helper
trigger1 = Time = 5
name = "KiBlade"
stateno = 14300
postype = p1
pos = 32, -40
keyctrl = 0
ownpal = 1
id = 14300
size.xscale = 0.36
size.yscale = 0.36

[State 2010, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 2010, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Ki Blade Upwise!!
[Statedef 2020]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1110
sprpriority = 0

[State 2020, Shake]
type = EnvShake
trigger1 = time = 1
Time = 18

[State 2020, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 2020, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1110

[State 2020, Sound]
type = PlaySnd
trigger1 = time = 5
value = 1306,0

[State 2020, KiBlade.Helper]
type = Helper
trigger1 = Time = 5
name = "KiBlade"
stateno = 14302
postype = p1
pos = 35, -65
keyctrl = 0
ownpal = 1
id = 14302
size.xscale = 0.36
size.yscale = 0.36

[State 2020, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 2020, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Ki Blade Downwards
[Statedef 2030]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1100
sprpriority = 0

[State 2030, Shake]
type = EnvShake
trigger1 = time = 1
Time = 18

[State 2030, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 2030, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1100

[State 2030, Sound]
type = PlaySnd
trigger1 = time = 5
value = 1306,0

[State 2030, KiBlade.Helper]
type = Helper
trigger1 = Time = 5
name = "KiBlade"
stateno = 14303
postype = p1
pos = 30, -20
keyctrl = 0
ownpal = 1
id = 14303
size.xscale = 0.36
size.yscale = 0.36

[State 2030, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 2030, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Start
[Statedef 2900]
type    = S
movetype= I
physics = S
velset = 5,0
ctrl = 0
facep2 = 1
poweradd = -25

[State 2900, Animation]
type = AssertSpecial
trigger1 = time >= 0
flag = noautoturn

[State 2900, Animation]
type = ChangeAnim
triggerall = Var(1) = 0
trigger1 = time = 0
value = 2900

[State 2900, NotHitBy]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 25

[State 2900, TeleportFwd]
type = PosAdd
Trigger1 = AnimElem = 3 && (command != "holdup" || command != "holddown")
x = 400
y = 0

[State 2900, TeleportFwdUp]
type = PosAdd
Trigger1 = AnimElem = 3 && (command = "holdup" || (command = "holdup" && command = "holdfwd"))
x = 400
y = -100

[State 2900, TeleportDownFwd]
type = PosAdd
Trigger1 = AnimElem = 3 && (command = "holddown" || (command = "holddown" && command = "holdfwd"))
x = 400
y = 100

[State 2900, Border1]
type = PosAdd
Trigger1 =  Pos Y <= 1
Trigger1 =  Pos Y >= 100
x = 0
y = -100

[State 2900, GroundBorder]
type = PosSet
triggerall = Pos Y > 0
trigger1 = MoveType = A
trigger2 = MoveType = I
trigger2 = StateNo != 50
y = 0

[State 2900, AfterImageStill]
type = Explod
Trigger1 = AnimElem = 1
anim = 2902
removetime = 30
velocity = 0
offset = 0

[State 2900, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 2902
removetime = 25
velocity = -2
offset = 0

[State 2900, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 2902
removetime = 25
velocity = 2
offset = 0

[State 2900, Next]
type = ChangeState
Trigger1 = animtime = 0
value = 2901
ctrl = 1

[State 2900, ScreenBounderies]
type = ScreenBound
Trigger1 = Time = 0
Trigger2 = Time >= 10
Trigger3 = AnimElem = 2
Trigger4 = AnimElem = 3
Trigger5 = AnimElem = 4
Trigger6 = AnimTime = 0
value = 0
movecamera = 1,1

[State 2900, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2900,0

;----------------------------------------------------------------------------------------
;Zanzoken Reapear
;-=I see you!=-
[Statedef 2901]
type    = S
movetype= I
physics = S
velset = -5,0
ctrl = 0
facep2 = 1
poweradd = -25

[State 2900, VelSet]
type = Velset
Trigger1 = time = 0
y = 0

[State 2900, Turn]
type = Turn
Trigger1 = P2Dist X < 0

[State 2901, Normal anim]
type = ChangeAnim
trigger1 = time = 0
value = 2901

[State 2901, AfterImage]
type = AfterImage
Trigger1 = AnimElem = 1
time = 15
trans = add
palfx = 256,256,256

[State 2901, End]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Back Start
[Statedef 2905]
type    = S
movetype= I
physics = S
ctrl = 0
facep2 = 1
poweradd = -25

[State 2905, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 2905

[State 2905, NotHitBy]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 25

[State 2905, VelSet]
type = VelSet
Trigger1 = 1
y = 0

[State 2905, TeleportBack]
type = PosAdd
Trigger1 = AnimElem = 4 && (command != "holdup" && command != "holddown")
x = -200
y = 100

[State 2905, TeleportBackUp]
type = PosAdd
Trigger1 = AnimElem = 4
Trigger1 = command = "holdup" || (command = "holdup" && command = "holdback")
x = -200
y = -100

[State 2905, TeleportBackDown]
type = PosAdd
Trigger1 = AnimElem = 4
Trigger1 = command = "holddown" || (command = "holddown" && command = "holdback")
x = -200
y = 100

[State 2905, Border1]
type = PosAdd
Trigger1 =  Pos Y <= 1
Trigger1 =  Pos Y >= 100
x = 0
y = -100

[State 2905, GroundBorder]
type = PosSet
triggerall = Pos Y > 0
trigger1 = MoveType = A
trigger2 = MoveType = I
trigger2 = StateNo != 50
y = 0

[State 2905, AfterImageStill]
type = Explod
Trigger1 = AnimElem = 1
anim = 2906
removetime = 30
velocity = 0
offset = 0

[State 2905, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 2906
removetime = 25
velocity = -2
offset = 0

[State 2905, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 2906
removetime = 25
velocity = 2
offset = 0

[State 2905, Next]
type = ChangeState
Trigger1 = animtime = 0
value = 2906
ctrl = 1

[State 2905, ScreenBounderies]
type = ScreenBound
Trigger1 = Time = 0
Trigger2 = Time >= 10
Trigger3 = AnimElem = 2
Trigger4 = AnimElem = 3
Trigger5 = AnimElem = 4
Trigger6 = AnimTime = 0
value = 0
movecamera = 1,1

[State 2905, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2900,0

;----------------------------------------------------------------------------------------
;Zanzoken Back Reapear
[Statedef 2906]
type    = S
movetype= I
physics = S
velset = -5,0
ctrl = 0
facep2 = 1
poweradd = -25

[State 2906, Normal anim]
type = ChangeAnim
trigger1 = time = 0
value = 2901

[State 2906, AfterImage]
type = AfterImage
Trigger1 = AnimElem = 1
time = 15
trans = add
palfx = 256,256,256

[State 2906, End]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Air Back Start
[Statedef 2907]
type    = S
movetype= I
physics = S
ctrl = 0
facep2 = 1
poweradd = -25

[State 2905, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 2905

[State 2905, NotHitBy]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 25

[State 2905, VelSet]
type = VelSet
Trigger1 = 1
y = 0

[State 2905, TeleportBack]
type = PosAdd
Trigger1 = AnimElem = 4 && (command != "holdup" && command != "holddown")
x = -200
y = 0

[State 2905, TeleportBackUp]
type = PosAdd
Trigger1 = AnimElem = 4
Trigger1 = command = "holdup" || (command = "holdup" && command = "holdback")
x = -200
y = -100

[State 2905, TeleportBackDown]
type = PosAdd
Trigger1 = AnimElem = 4
Trigger1 = command = "holddown" || (command = "holddown" && command = "holdback")
x = -200
y = 100

[State 2905, Border1]
type = PosAdd
Trigger1 =  Pos Y <= 1
Trigger1 =  Pos Y >= 100
x = 0
y = -100

[State 2905, GroundBorder]
type = PosSet
triggerall = Pos Y > 0
trigger1 = MoveType = A
trigger2 = MoveType = I
trigger2 = StateNo != 50
y = 0

[State 2905, AfterImageStill]
type = Explod
Trigger1 = AnimElem = 1
anim = 2906
removetime = 30
velocity = 0
offset = 0

[State 2905, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 2906
removetime = 25
velocity = -1.5
offset = 0

[State 2905, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 2906
removetime = 25
velocity = 1.5
offset = 0

[State 2905, Next]
type = ChangeState
Trigger1 = animtime = 0
value = 2908
ctrl = 1

[State 2905, ScreenBounderies]
type = ScreenBound
Trigger1 = Time = 0
Trigger2 = Time >= 10
Trigger3 = AnimElem = 2
Trigger4 = AnimElem = 3
Trigger5 = AnimElem = 4
Trigger6 = AnimTime = 0
value = 0
movecamera = 1,1

[State 2905, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2900,0

;----------------------------------------------------------------------------------------
;Zanzoken Back Reapear
[Statedef 2908]
type    = S
movetype= I
physics = S
velset = -5,0
ctrl = 0
facep2 = 1
poweradd = -25

[State 2906, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 2906, Normal anim]
type = ChangeAnim
trigger1 = time = 0
value = 2901

[State 2906, AfterImage]
type = AfterImage
Trigger1 = AnimElem = 1
time = 15
trans = add
palfx = 256,256,256

[State 2906, End]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Fly-Lift off
[Statedef 3000]
type = A
movetype = I
physics = A
juggle  = 7
velset = 0, -8, 0
poweradd= -25
ctrl = 0
;anim = 3000

[State 3000, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 3000

[State 3000, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 15
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 3000, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3100, 0

[State 3000, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 3100
ctrl = 1

;---------------------------------------------------------------------------
;-=This is what you get after launching the U.S.A. out of a cannon...(Get It!? Flying States!)=-
;Flying States
[Statedef 3100]
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0

[State 3100, FlightVarSet]
type = VarSet
trigger1 = 1
v = 20
value = 1

[State 3100, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 3100

[State 3100, VelSet]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Var(3) = 0
trigger2 = Pos Y < -405
x = 0
y = 0

[State 3100, StillAnim]
type = ChangeAnim
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Anim != 3100
value = 3100

[State 3100, VarSet]
type = VarSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = var(3) != 2
trigger2 = var(3) = 2
trigger2 = Vel Y >= 0.5
v = 3
value = 1

[State 3100, VarSet]
type = VarSet
trigger1 = Var(3) = 1
trigger1 = Vel Y <= -0.5
trigger2 = P2BodyDist Y > 405
trigger2 = Vel Y < 0
v = 3
value = 2

[State 3100, Up Velocity]
type = VelAdd
trigger1 = Var(3) = 1
y = -0.025

[State 3100, Down Velocity]
type = VelAdd
trigger1 = Var(3) = 2
y = 0.025

[State 3100,Stop Velocity]
type = VelSet
triggerall = Var(3) != 0
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
y = 0

[State 3100,VarReset]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
v = 3
value = 0

[State 3100, UpBorder]
type = PosSet
trigger1 = Pos Y < -405
y = -405

[State 3100, DownBordera]
type = PosAdd
trigger1 = P2BodyDist Y > 405
trigger1 = Vel Y < 0
y = 1

[State 3100, DownBorderb]
type = VelSet
trigger1 = P2BodyDist Y > 405
trigger1 = Vel Y < 0
y = 0

[State 3100, GoDown1]
type = VelAdd
trigger1 = (command = "holddown") || (var(39) = 1 && p2bodydist Y > -35)
y = 0.2

[State 3100,GoDown2]
type = VelSet
trigger1 = (command = "holddown" && Vel Y < 0)  || (var(39) = 1 && p2bodydist Y > -35 && Vel Y < 0)
y = 0

[State 3100, GoDownAnim]
type = ChangeAnim
trigger1 = (Anim != 3104 && command = "holddown") || (Anim != 3104 && var(39) = 1 && p2bodydist Y > -35)
value = 3104

[State 3100, GoUp1]
type = VelAdd
trigger1 = (command = "holdup") || (var(39) = 1 && p2bodydist Y < 35)
y = -0.2

[State 3100,GoUp2]
type = VelSet
trigger1 = (command = "holdup" && Vel Y > 0) || (var(39) = 1 && p2bodydist Y < 35 && Vel Y > 0)
y = 0

[State 3100, GoUpAnim]
type = ChangeAnim
trigger1 = (Anim != 3103 && command = "holdup") || (Anim != 3103 && var(39) = 1 && p2bodydist Y < 35)
value = 3103

[State 3100, GoBack1]
type = VelAdd
trigger1 = command = "holdback"
x = -0.2

[State 3100,GoBack2]
type = VelSet
trigger1 = command = "holdback" && Vel X > 0
x = 0

[State 3100, GoBackAnim]
type = ChangeAnim
trigger1 = Anim != 3102 && command = "holdback"
value = 3102

[State 3100, GoFwd1]
type = VelAdd
trigger1 = (command = "holdfwd") || (var(39) = 1 && p2bodydist X > 45)
x = 0.2

[State 3100,GoFwd2]
type = VelSet
trigger1 = (command = "holdfwd" && Vel X < 0) || (var(39) = 1 && p2bodydist X > 45 && Vel X < 0)
x = 0

[State 3100, GoFwdAnim]
type = ChangeAnim
trigger1 = (Anim != 3101 && command = "holdfwd") || (Anim != 3101 && var(39) = 1 && p2bodydist X > 45)
value = 3101

[State 3100,Turn]
type = Turn
trigger1 = P2dist X < 0

[State 3100,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 50
ctrl = 1

[State 3100,End]
type = ChangeState
trigger1 = Time > 2
trigger1 = command = "fly"
value = 3105
ctrl = 1

[State 2000,WinALose]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 3105

;---------------------------------------------------------------------------
;-=What is this?=-
[Statedef 3105]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
;anim = 3105

[State 3105, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 3105

[State 3105, PlaySND]
type = PlaySnd
trigger1 = time = 1
value = 3000, 0

[State 3105, 3]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3

[State 3105, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 1
value = 3106

;---------------------------------------------------------------------------
;-=Stop asking questions!=-
[Statedef 3106]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0

[State 3106, 3]
type = PosSet
trigger1 = Vel Y = 0
y = 0

[State 3106, Anim]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 3106

[State 3106, 1]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 3106, 3]
type = ChangeState
trigger1 = animtime = 1
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Armor Mode
[Statedef 4000]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 4000

[State 4000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = 5

[State 4000, VarAdd]
type = VarAdd
trigger1 = (time = [0,20])
v = 12
value = 5

[State 4000, PalFX]
type = PalFX
trigger1 = Time = [0,25]
time = 1
add = Var(12),0,0

[State 4000, VarSet]
type = VarSet
trigger1 = time = 0
v = 4
value = 1

[State 4000, End]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Null State For Armor Mode
[Statedef 4100]
movetype= H
;ctrl = 1

[State 4100, ChangeAnim]
type = ChangeAnim
trigger1 = Alive
value = Anim
elem = AnimElemNo(0)

[State 4100, ChangeAnim]
type = ChangeAnim
trigger1 = !Alive
value = 5030

[State 4100, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 4100, NotHitBy]
type = NotHitBy 
trigger1 = 1
time = 1
value = SCA

[State 4100, End]
type = ChangeState
trigger1 = time = 1
value = Var(5)

[State 4100, End]
type = ChangeState
trigger1 = life = 0
value = 5030

;===========================================================================
;Helpers
;===========================================================================
;---------------------------------------------------------------------------
;Ki Shield Start: Used in State 1600
[StateDef 10100]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 10100
ctrl = 0
sprpriority = 4

[State 10100, VarSet]
type = VarSet
trigger1 = time = 1
fv = 17
value = 200

[State 10100, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 10100, Next]
type = Changestate
trigger1 = time = 6
value = 10101
;---------------------------------------------------------------------------
;Ki Shield : Used in State 1600
[StateDef 10101]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 10101
ctrl = 0
sprpriority = 4

[State 10101, Spark]
type = Explod
triggerall = Fvar(17) < 199 && NumExplod(10110) = 0
trigger1 = movecontact
Anim = 10110
Pos = 0, -15
Id = 10110
sprpriority = 5
removeongethit = 0
removetime = 6
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 1, 1

[State 10101, VarSet]
type = VarAdd
trigger1 = time = 0
fv = 17
value = -10

[State 10101, VarSet]
type = VarAdd
trigger1 = movecontact
fv = 17
value = -10

[State 10101, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 10101, HitDef]
type = HitDef
trigger1 = time >= 0
attr = S, SA
animtype  = Hard
Damage = floor(0.025*FVar(17)),0
guardflag = MA
pausetime = 1,0
sparkno = -1
sparkxy = 0,0
numhits = 0
hitsound   = -1
guardsound = -1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -12, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -12, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 1600, PlaySND]
type = PlaySnd
trigger1 = movehit
value = 1610, 0
channel = 1
lowpriority = 1
persistant = 0

[State 1600, PlaySND]
type = PlaySnd
triggerall = movehit
trigger1 = random <= 50
value = 1611, 0
persistant = 0

[State 10101, Next]
type = Changestate
trigger1 = (Movecontact || time >= 1) && FVar(17) > 0
value = 10101

[State 10101, Next]
type = Changestate
trigger1 = FVar(17) <= 0
value = 10102

[State 10101, GetHit]
type = HitOverride
trigger1 = time = 0
time = -1
attr = SCA, AA, AT, AP
slot = 0
stateno = 10101
;---------------------------------------------------------------------------
;Ki Shield End: Used in State 1600
[StateDef 10102]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 10102
ctrl = 0
sprpriority = 4

[State 10102, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 10102, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Absorb Sparks Helper
[StateDef 11160]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = 5

[State 11160, Spark1]
type = Explod
trigger1 = time = 20
Anim = 11160
Pos = -20,-40
Id = 13120
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.3, 0.3

[State 11160, Spark2]
type = Explod
trigger1 = time = 40
Anim = 11160
Pos = -20,-30
Id = 13121
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.25, 0.25

[State 11160, Spark3]
type = Explod
trigger1 = time = 0
Anim = 11160
Pos = 0,-60
Id = 13122
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.35, 0.35

[State 11160, Spark4]
type = Explod
trigger1 = time = 30
Anim = 11160
Pos = 10,-30
Id = 13123
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.2, 0.2

[State 11160, Spark5]
type = Explod
trigger1 = time = 34
Anim = 11160
Pos = -10,-10
Id = 13124
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.4, 0.4

[State 11160, Spark6]
type = Explod
trigger1 = time = 10
Anim = 11160
Pos = 5,-20
Id = 13125
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.25, 0.25

[State 11160, Spark7]
type = Explod
trigger1 = time = 24
Anim = 11160
Pos = -5,-55
Id = 13126
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.3, 0.3

[State 11160, Spark8]
type = Explod
trigger1 = time = 40
Anim = 11170
Pos = 20,-20
Id = 13127
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.25, 0.25

[State 11160, Spark9]
type = Explod
trigger1 = time = 52
Anim = 11170
Pos = -20,-10
Id = 13128
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.4, 0.4

[State 11160, Spark10]
type = Explod
trigger1 = time = 64
Anim = 11170
Pos = 0,-30
Id = 13129
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.25, 0.25

[State 11160, Spark11]
type = Explod
trigger1 = time = 12
Anim = 11170
Pos = -20,-30
Id = 13128
velocity = 0,0
sprpriority = 6
removeongethit = 0
bindtime = 1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.25, 0.25

[State 11160, Spark12]
type = Explod
trigger1 = time = 32
Anim = 11170
Pos = 10,-30
Id = 13128
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.3, 0.3

[State 11160, DestroySelf]
type = DestroySelf
trigger1 = time = 120
;---------------------------------------------------------------------------
;Ki Blade Ground: State 1100
[StateDef 11500]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11500
ctrl = 0
sprpriority = 3

[State 11500, Dust]
type = Explod
trigger1 = (timemod = 3,0)
Anim = 15000
Pos = 12, -3
Id = 15000
sprpriority = 4
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 11500, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 5
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 2
framegap = 2
trans = Add

[State 11500, VelSet.FWD]
type = VelSet
trigger1 = 1
x = 9
y = 0

[State 11500, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 11500, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11500, Explosion]
type = HitDef
trigger1 = time = 0 
attr = S, SP
animtype  = Hard
Damage = 50,12
hitflag = MAFP
guardflag = MA
pausetime = 0,0
sparkno = -1
sparkxy = -5,0
hitsound   = S1100,1
guardsound = S1100,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -9, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -9, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 11500, Next]
type = Changestate
trigger1 = Movecontact
value = 12101

[State 11500, DestroySelf]
type = DestroySelf
trigger1 = time = 40
;---------------------------------------------------------------------------
;Ki Blade Fwd: State 1110
[StateDef 11510]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11510
ctrl = 0
sprpriority = 3

[State 11510, Dust]
type = Explod
triggerall = pos y = -40
trigger1 = (timemod = 3,0)
Anim = 15000
Pos = 0, 40
Id = 15000
sprpriority = 4
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 11510, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 5
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 2
framegap = 2
trans = Add

[State 11510, VelSet.FWD]
type = VelSet
trigger1 = 1
x = 9
y = 0

[State 11510, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 11510, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11510, Explosion]
type = HitDef
trigger1 = time = 0 
attr = S, SP
animtype  = Hard
Damage = 50,12
hitflag = MAFP
guardflag = MA
pausetime = 0,0
sparkno = -1
sparkxy = -5,0
hitsound   = S1100,1
guardsound = S1100,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -9, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -9, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 11510, Next]
type = Changestate
trigger1 = Movecontact
value = 12101

[State 11510, DestroySelf]
type = DestroySelf
trigger1 = time = 40
;---------------------------------------------------------------------------
;Ki Blade Up: State 1120
[StateDef 11520]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11520
ctrl = 0
sprpriority = 3

[State 11520, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 5
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 2
framegap = 2
trans = Add

[State 11520, VelSet.FWD]
type = VelSet
trigger1 = 1
x = 8
y = -4

[State 11520, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 11520, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11520, Explosion]
type = HitDef
trigger1 = time = 0 
attr = S, SP
animtype  = Hard
Damage = 50,12
hitflag = MAFP
guardflag = MA
pausetime = 0,0
sparkno = -1
sparkxy = -5,0
hitsound   = S1100,1
guardsound = S1100,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -9, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -9, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 11520, Next]
type = Changestate
trigger1 = Movecontact
value = 12101

[State 11520, DestroySelf]
type = DestroySelf
trigger1 = time = 60
;---------------------------------------------------------------------------
;Ki Blade Down: State 1130
[StateDef 11530]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11530
ctrl = 0
sprpriority = 3

[State 11530, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 5
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 2
framegap = 2
trans = Add

[State 11530, VelSet.FWD]
type = VelSet
trigger1 = 1
x = 8
y = 4

[State 11530, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 11530, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11530, Explosion]
type = HitDef
trigger1 = time = 0 
attr = S, SP
animtype  = Hard
Damage = 50,12
hitflag = MAFP
guardflag = MA
pausetime = 0,0
sparkno = -1
sparkxy = -5,0
hitsound   = S1100,1
guardsound = S1100,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -9, 4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -9, 4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 11530, Next]
type = Changestate
trigger1 = Movecontact
value = 12101

[State 11530, DestroySelf]
type = DestroySelf
trigger1 = time = 60
;---------------------------------------------------------------------------
;Special Beam Cannon : Used in State 1801
[StateDef 12100]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12100
ctrl = 0
sprpriority = 4

[State 12100, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12100, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12100, Explosion]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Hard
Damage = 250,50
guardflag = MA
pausetime = 1,18
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -8, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -8, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12100, Explosion.Sound1]
type = PlaySND
trigger1 = movehit && numhelper(12101) = 0
value = 1100,2

[State 12100, Explosion.Sound2]
type = PlaySND
trigger1 = moveguarded && numhelper(12101) = 0
value = 1100,1

[State 12100, Explosion.Helper]
type = Helper
trigger1 = movecontact && numhelper(12101) = 0
name = "Explosion"
stateno = 12101
postype = p2
pos = 0, -30
keyctrl = 0
ownpal = 1
id = 12101

[State 12100, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[state 12100, ColorFX]
type = AllPalFX
trigger1 = Time = 13
time = 3
add = 255,255,255

[State 12100, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Ki Blast Explosion: Used in State 1801
[StateDef 12101]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 13100
ctrl = 0
sprpriority = 4

[State 12101, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12101, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;KameHameHa Beam : Used in State 1901
[StateDef 12400]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12400
ctrl = 0
sprpriority = 4

[State 12400, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12400, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12400, Explosion]
type = HitDef
trigger1 = time >= 0
attr = S, NA
animtype  = Hard
Damage = 9,2
guardflag = MA
pausetime = 1,1
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -25, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -25, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12400, Explosion.Sound1]
type = PlaySND
trigger1 = movehit && numhelper(12101) = 0
value = 1100,2

[State 12400, Explosion.Sound2]
type = PlaySND
trigger1 = moveguarded && numhelper(12101) = 0
value = 1100,1

[State 12400, Explosion.Helper]
type = Helper
trigger1 = movecontact && numhelper(12101) = 0
name = "Explosion"
stateno = 12101
postype = p2
pos = 0, -30
keyctrl = 0
ownpal = 1
id = 12101

[State 12400, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 12400, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Energy Blade Weak: State 1100
[StateDef 12500]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12500
ctrl = 0
sprpriority = 4

[State 12500, VelSet.FWD]
type = BindtoParent
trigger1 = parent, stateno = 1150
time = 2
pos = 13, -61

[State 12500, AfterImage]
type = AfterImage
triggerall = parent, stateno != 1150
trigger1 = time = 0
time = 12
length = 8
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 12500, VelSet.FWD]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 12500, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12500, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12500, Hit]
type = HitDef
trigger1 = animelem = 3 
attr = S, SP
animtype  = Hard
Damage = 22,6
hitflag = MAFP
guardflag = MA
pausetime = 1,12
sparkno = S11150
sparkxy = -8,-40
hitsound   = S307,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -9, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -9, -3
fall = 0
fall.recover = 1
air.fall = 1
kill = 1
guard.kill = 1

[State 12500, Hit]
type = HitDef
trigger1 = animelem = 4 
attr = S, SP
animtype  = Hard
Damage = 22,6
hitflag = MAFP
guardflag = MA
pausetime = 1,12
sparkno = S11150
sparkxy = -22,-10
hitsound   = S307,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -9, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -9, -3
fall = 0
fall.recover = 1
air.fall = 1
kill = 1
guard.kill = 1

[State 12500, Hit]
type = HitDef
trigger1 = animelem = 5 
attr = S, SP
animtype  = Hard
Damage = 22,6
hitflag = MAFP
guardflag = MA
pausetime = 1,12
sparkno = S11150
sparkxy = 5,20
hitsound   = S307,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -9, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -9, -3
fall = 0
fall.recover = 1
air.fall = 1
kill = 1
guard.kill = 1

[State 12500, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0 || parent, prevstateno = 1150
;---------------------------------------------------------------------------
;Energy Blade Medium: State 1110
[StateDef 12510]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12501
ctrl = 0
sprpriority = 4

[State 12510, VelSet.FWD]
type = BindtoParent
trigger1 = parent, stateno = 1160
time = 2
pos = 13, -63

[State 12510, AfterImage]
type = AfterImage
triggerall = parent, stateno != 1160
trigger1 = time = 0
time = 12
length = 8
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 12510, VelSet.FWD]
type = VelSet
trigger1 = time = [0,8]
x = 1
y = 0

[State 12510, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12510, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12510, Hit]
type = HitDef
trigger1 = animelem = 3 
attr = S, SP
animtype  = Hard
Damage = 25,7
hitflag = MAFP
guardflag = MA
pausetime = 1,12
sparkno = S11150
sparkxy = -11,-45
hitsound   = S307,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -12, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -10, -3
fall = 1
fall.recover = 1
air.fall = 1
kill = 1
guard.kill = 1

[State 12510, Hit]
type = HitDef
trigger1 = animelem = 4 
attr = S, SP
animtype  = Hard
Damage = 25,7
hitflag = MAFP
guardflag = MA
pausetime = 1,12
sparkno = S11150
sparkxy = -25,-12
hitsound   = S307,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -12, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -10, -3
fall = 1
fall.recover = 1
air.fall = 1
kill = 1
guard.kill = 1

[State 12510, Hit]
type = HitDef
trigger1 = animelem = 5 
attr = S, SP
animtype  = Hard
Damage = 25,7
hitflag = MAFP
guardflag = MA
pausetime = 1,12
sparkno = S11150
sparkxy = 5,26
hitsound   = S307,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -12, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -10, -3
fall = 1
fall.recover = 1
air.fall = 1
kill = 1
guard.kill = 1

[State 12510, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0  || parent, prevstateno = 1160
;---------------------------------------------------------------------------
;Energy Blade Strong: State 1120
[StateDef 12520]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12502
ctrl = 0
sprpriority = 4

[State 12520, VelSet.FWD]
type = BindtoParent
trigger1 = parent, stateno = 1170
time = 2
pos = 13, -65

[State 12520, AfterImage]
type = AfterImage
triggerall = parent, stateno != 1170
trigger1 = time = 0
time = 12
length = 8
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 12520, VelSet.FWD]
type = VelSet
trigger1 = time = [0,8]
x = 2
y = 0

[State 12520, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12520, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12520, Hit]
type = HitDef
trigger1 = animelem = 3 
attr = S, SP
animtype  = Hard
Damage = 28,8
hitflag = MAFP
guardflag = MA
pausetime = 1,12
sparkno = S11150
sparkxy = -15,-45
hitsound   = S307,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -9, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -9, -3
fall = 1
fall.recover = 1
air.fall = 1
kill = 1
guard.kill = 1

[State 12520, Hit]
type = HitDef
trigger1 = animelem = 4 
attr = S, SP
animtype  = Hard
Damage = 28,8
hitflag = MAFP
guardflag = MA
pausetime = 1,12
sparkno = S11150
sparkxy = -29,-12
hitsound   = S307,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -9, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -9, -3
fall = 1
fall.recover = 1
air.fall = 1
kill = 1
guard.kill = 1

[State 12520, Hit]
type = HitDef
trigger1 = animelem = 5 
attr = S, SP
animtype  = Hard
Damage = 28,8
hitflag = MAFP
guardflag = MA
pausetime = 1,12
sparkno = S11150
sparkxy = 1,30
hitsound   = S307,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -9, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -9, -3
fall = 1
fall.recover = 1
air.fall = 1
kill = 1
guard.kill = 1

[State 12520, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0  || parent, prevstateno = 1170
;---------------------------------------------------------------------------
;Charge-Push Forward
[StateDef 12650]
type = A
physics = N
movetype = A
velset = 12, 0
anim = 12650
ctrl = 0

[State 12650, VelAdd]
type = VelAdd
trigger1 = 1
x = -0.25

[State 12650, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 12650, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 12650, End]
type = DestroySelf
trigger1 = time = 12
;---------------------------------------------------------------------------
;Charge-Push Back
[StateDef 12651]
type = A
physics = N
movetype = A
velset = -12, 0
anim = 12650
ctrl = 0

[State 12651, VelAdd]
type = VelAdd
trigger1 = 1
x = 0.25

[State 12651, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 12651, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 12651, End]
type = DestroySelf
trigger1 = time = 12

;---------------------------------------------------------------------------
;Charge-Push Still
[StateDef 12652]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12650
ctrl = 0

[State 12651, BindToParent]
type = BindToParent
trigger1 = 1
time = 1

[State 12651, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 12651, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 12651, End]
type = DestroySelf
trigger1 = time = 7
;---------------------------------------------------------------------------
;Advance Guard-Push Forward
[StateDef 12700]
type = A
physics = N
movetype = A
velset = 20, 0
anim = 12700
ctrl = 0

[State 12700, VelAdd]
type = VelAdd
trigger1 = 1
x = -0.5

[State 12700, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 12700, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 12700, End]
type = DestroySelf
trigger1 = time = 20
;---------------------------------------------------------------------------
;Recoome Meteor Ground Damage
[StateDef 12800]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12800
ctrl = 0
sprpriority = 0

[State 12800, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12700, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 12800, Explosion]
type = HitDef
trigger1 = time = 0
attr = S, ST
animtype  = Hard
Damage = 50,50
hitflag = MAFD
guardflag = MA
pausetime = 3,3
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -10, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -10, 0
fall = 1
fall.recover = 0

[State 12800, DestroySelf]
type = DestroySelf
trigger1 = time = 1
;---------------------------------------------------------------------------
;Blade Beam : Used in State 2010
[StateDef 14300]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11511
ctrl = 0
sprpriority = 4

[State 14300, BBSparkle.PosVarX]
type = VarRandom
triggerall = numhelper(14300) > 0
trigger1 = time = [1,14];Timemod = 2,0
v = 12
range = -15,5

[State 14300, BBSparkle.PosVarY]
type = VarRandom
triggerall = numhelper(14300) > 0
trigger1 = time = [1,14];Timemod = 2,0
v = 13
range = 40,-40

[State 14300, BBSparkle.VelVarX]
type = VarRandom
trigger1 = time = [1,14]
v = 14
range = 1,4

[State 14300, BBSparkle.Explod]
type = Explod
triggerall = numhelper(14300) > 0
trigger1 = Time = [1,14]
anim = 11550
id = 11550
postype = p1
pos = Var(12), Var(13)
ownpal = 1
velocity = Var(14), 0
scale = 0.5, 0.5

[State 14300, Dust]
type = null;Explod
trigger1 = timemod = 2,0
Anim = 11011
Pos = -50, 40
Id = 11011
sprpriority = 3
removeongethit = 0
removetime = 14
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 14300, Dust]
type = Explod
triggerall = pos y = -40
trigger1 = (timemod = 2,0)
Anim = 15000
Pos = -6, 40
Id = 15000
sprpriority = 5
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 14300, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 60
length = 60
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 14300, VelSet.FWD]
type = VelSet
trigger1 = 1
x = 16
y = 0.0

[State 14300, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 14300, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 14300, Explosion]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Hard
Damage = 180,45
guardflag = MA
pausetime = 3,25
sparkno = -1
sparkxy = -5,0
hitsound   = S1300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -5, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -5, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 14300, Explosion.Helper]
type = Helper
trigger1 = movecontact && NumHelper(14310) = 0
name = "Explode"
stateno = 14310
postype = p1
pos = 30, 0
keyctrl = 0
ownpal = 1
id = 14310
bindtime = 0

[State 14300, SlowMo]
type = Pause
triggerall = p2life > 0 && alive
trigger1 = movehit && GameTime%2 = 0 && NumHelper(14310) != 0
time = 1
movetime = 0

[State 14300, DestroySelf]
type = DestroySelf
trigger1 = time = 60
;---------------------------------------------------------------------------
;In-ground Blade Beam : Used in State 2001
[StateDef 14301]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11501
ctrl = 0
sprpriority = 4

[State 14301, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1030, 0
volume = 100

[State 14301, BBSparkle.PosVarX]
type = VarRandom
triggerall = numhelper(14301) > 0
trigger1 = time = [1,14];Timemod = 2,0
v = 12
range = -15,5

[State 14301, BBSparkle.PosVarY]
type = VarRandom
triggerall = numhelper(14301) > 0
trigger1 = time = [1,14];Timemod = 2,0
v = 13
range = 0,-50

[State 14301, BBSparkle.VelVarX]
type = VarRandom
trigger1 = time = [1,14]
v = 14
range = 1,4

[State 14301, VarSet]
type = VarRandom
trigger1 = timemod = 3,0
v = 16
range = 0,11

[State 14301, VarSet]
type = VarRandom
trigger1 = timemod = 3,0
v = 17
range = -20,10

[State 14301, Rock Scatter.Helper]
type = Helper
helpertype = normal
triggerall = ScreenPos X = [0,320]
trigger1 = timemod = 3,0
name = "Rocks"
stateno = 15210
postype = p1
pos = var(17), -1
keyctrl = 0
ownpal = 1
id = 15210
size.xscale = 0.5
size.yscale = 0.5

[State 14301, BBSparkle.Explod]
type = Explod
helpertype = normal
triggerall = numhelper(14301) > 0 && ScreenPos X = [-20,340]
trigger1 = (Time = [1,14]) % 2
anim = 11550
id = 11550
postype = p1
pos = Var(12), Var(13)
ownpal = 1
velocity = Var(14), 0
scale = 0.5, 0.5

[State 14301, Dust]
type = null;Explod
trigger1 = timemod = 2,0
Anim = 11011
Pos = -50, 40
Id = 11011
sprpriority = 3
removeongethit = 0
removetime = 14
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 14301, Dust]
type = Explod
trigger1 = (timemod = 2,0)
Anim = 15000
Pos = -10, 0
Id = 15000
sprpriority = 5
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 14301, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 60
length = 30
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 14301, VelSet.FWD]
type = VelSet
trigger1 = 1
x = 14
y = 0.0

[State 14301, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 14301, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 14301, Explosion]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Hard
Damage = 195,48
guardflag = MA
pausetime = 3,25
sparkno = -1
sparkxy = -5,0
hitsound   = S1300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -5, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -5, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 14300, Explosion.Helper]
type = Helper
trigger1 = movecontact && NumHelper(14310) = 0
name = "Explode"
stateno = 14310
postype = p1
pos = 0, -45
keyctrl = 0
ownpal = 1
id = 14310

[State 14301, SlowMo]
type = Pause
triggerall = p2life > 0 && alive
trigger1 = movehit && GameTime%2 = 0 && NumHelper(14310) != 0
time = 1
movetime = 0

[State 14301, DestroySelf]
type = DestroySelf
trigger1 = time = 60
;---------------------------------------------------------------------------
;Blade Beam Up: Used in State 1120
[StateDef 14302]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11521
ctrl = 0
sprpriority = 4

[State 14302, BBSparkle.PosVarX]
type = VarRandom
triggerall = numhelper(14302) > 0
trigger1 = time = [1,14];Timemod = 2,0
v = 12
range = -19,3

[State 14302, BBSparkle.PosVarY]
type = VarRandom
triggerall = numhelper(14302) > 0
trigger1 = time = [1,14];Timemod = 2,0
v = 13
range = 52,-32

[State 14302, BBSparkle.VelVarX]
type = VarRandom
trigger1 = time = [1,14]
v = 14
range = 1,4

[State 14302, BBSparkle.Explod]
type = Explod
triggerall = numhelper(14302) > 0
trigger1 = Time = [1,14]
anim = 11550
id = 11550
postype = p1
pos = Var(12), Var(13)
ownpal = 1
velocity = Var(14), -ceil((Var(14))/3)
scale = 0.5, 0.5

[State 14302, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 60
length = 30
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 14302, VelSet.FWD]
type = VelSet
trigger1 = 1
x = 14
y = -5

[State 14302, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 14302, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 14302, Explosion]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Hard
Damage = 180,45
guardflag = MA
pausetime = 3,25
sparkno = -1
sparkxy = -5,0
hitsound   = S1300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -5, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -5, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 14302, Explosion.Helper]
type = Helper
trigger1 = movecontact && NumHelper(14310) = 0
name = "Explode"
stateno = 14310
postype = p1
pos = 30, 0
keyctrl = 0
ownpal = 1
id = 14310

[State 14302, SlowMo]
type = Pause
triggerall = p2life > 0 && alive
trigger1 = movehit && GameTime%2 = 0 && NumHelper(14310) != 0
time = 1
movetime = 0

[State 14302, DestroySelf]
type = DestroySelf
trigger1 = time = 60
;---------------------------------------------------------------------------
;Blade Beam Down: Used in State 1130
[StateDef 14303]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11531
ctrl = 0
sprpriority = 4

[State 14303, BBSparkle.PosVarX]
type = VarRandom
triggerall = numhelper(14303) > 0
trigger1 = time = [1,14];Timemod = 2,0
v = 12
range = -19,3

[State 14303, BBSparkle.PosVarY]
type = VarRandom
triggerall = numhelper(14303) > 0
trigger1 = time = [1,14];Timemod = 2,0
v = 13
range = 37,-47

[State 14303, BBSparkle.VelVarX]
type = VarRandom
trigger1 = time = [1,14]
v = 14
range = 1,4

[State 14303, BBSparkle.Explod]
type = Explod
triggerall = numhelper(14303) > 0
trigger1 = Time = [1,14]
anim = 11550
id = 11550
postype = p1
pos = Var(12), Var(13)
ownpal = 1
velocity = Var(14), floor((Var(14))/3)
scale = 0.5, 0.5

[State 14303, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 60
length = 30
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 14303, VelSet.FWD]
type = VelSet
trigger1 = 1
x = 14
y = 5

[State 14303, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 14303, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 14303, Explosion]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Hard
Damage = 180,45
guardflag = MA
pausetime = 3,25
sparkno = -1
sparkxy = -5,0
hitsound   = S1300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -5, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -5, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 14303, Explosion.Helper]
type = Helper
trigger1 = movecontact && NumHelper(14310) = 0
name = "Explode"
stateno = 14310
postype = p1
pos = 30, 0
keyctrl = 0
ownpal = 1
id = 14310

[State 14303, SlowMo]
type = Pause
triggerall = p2life > 0 && alive
trigger1 = movehit && GameTime%2 = 0 && NumHelper(14310) != 0
time = 1
movetime = 0

[State 14303, DestroySelf]
type = DestroySelf
trigger1 = time = 60
;---------------------------------------------------------------------------
;Blade Beam Circle Spark: Used in State 14300
[StateDef 14310]
type = A
physics = N
movetype = I
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = 6

[State 14310, Spark]
type = Explod
trigger1 = time = 0
Anim = 11570
Pos = 0, 0
Id = 14311
sprpriority = 6
removeongethit = 0
Postype = p1
SuperMove = 1
scale = Var(17)*0.03, Var(17)*0.03

[State 14310, ModifySpark]
type = ModifyExplod
trigger1 = 1
id = 14311
scale = Var(17)*0.05, Var(17)*0.05

[State 14310, VarSet]
type = VarSet
trigger1 = time = 0
v = 17
value = 1

[State 14310, VarAdd]
type = VarAdd
trigger1 = 1
v = 17
value = 1

[State 14310, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 14310, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 14310, DestroySelf]
type = DestroySelf
trigger1 = time = 26
;---------------------------------------------------------------------------
;Circular Disperse Effect
[StateDef 14500]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = 0

[State 14500, PosAdd]
type = PosAdd
trigger1 = time = 0
x = (p2dist X)+15

[State 14500, RandomVariable-1]
type = VarRandom
trigger1 = 1
v = 14
range = -8,8

[State 14500, RandomVariable-2]
type = VarRandom
trigger1 = 1
v = 15
range = -8,8

[State 14500, Sparkle-1]
type = Explod
triggerall = time < 12
trigger1 = Timemod = 2,0
anim = 11550
id = 11550
postype = p1
pos = 0, 0
ownpal = 1
velocity = Var(14)*0.5, var(15)*0.5
scale = 0.25, 0.25
sprpriority = 3

[State 14500, Sparkle-2]
type = Explod
triggerall = time < 12
trigger1 = Timemod = 2,1
anim = 11555
id = 11555
postype = p1
pos = 0, 0
ownpal = 1
velocity = Var(14)*0.75, var(15)*0.75
scale = 0.25, 0.25
sprpriority = 3

[State 14500, DestroySelf]
type = DestroySelf
trigger1 = time = 50

;---------------------------------------------------------------------------
;Circular Perse Effect
[StateDef 14510]
type = A
physics = N
movetype = I
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = 0

[State 14510, RandomVariable-1]
type = VarRandom
trigger1 = 1
v = 14
range = -6,6

[State 14510, RandomVariable-2]
type = VarRandom
trigger1 = 1
v = 15
range = -6,6

[State 14510, Sparkle-1]
type = Explod
trigger1 = Timemod = 8,0
anim = ifelse(random >= 500, 11550, 11555)
id = 11550
postype = p1
pos = floor(12.5*(var(14))), floor(12.5*(var(15)))
ownpal = 1
velocity = -Var(14)*0.625, -var(15)*0.625
scale = 0.25, 0.25
sprpriority = 3

[State 14510, Sparkle-2]
type = Explod
trigger1 = Timemod = 8,2
anim = ifelse(random >= 500, 11550, 11555)
id = 11551
postype = p1
pos = floor(-12.5*(var(14))), floor(12.5*(var(15)))
ownpal = 1
velocity = Var(14)*0.625, -var(15)*0.625
scale = 0.25, 0.25
sprpriority = 3

[State 14510, Sparkle-3]
type = Explod
trigger1 = Timemod = 8,4
anim = ifelse(random >= 500, 11550, 11555)
id = 11552
postype = p1
pos = floor(-12.5*(var(14))), floor(-12.5*(var(15)))
ownpal = 1
velocity = Var(14)*0.625, var(15)*0.625
scale = 0.25, 0.25
sprpriority = 3

[State 14510, Sparkle-4]
type = Explod
trigger1 = Timemod = 8,6
anim = ifelse(random >= 500, 11550, 11555)
id = 11553
postype = p1
pos = floor(12.5*(var(14))), floor(-12.5*(var(15)))
ownpal = 1
velocity = -Var(14)*0.625, var(15)*0.625
scale = 0.25, 0.25
sprpriority = 3

[State 14510, DestroySelf]
type = DestroySelf
trigger1 = time = 50
trigger2 = parent, stateno != 1800
;---------------------------------------------------------------------------
;Blue Circular Disperse Effect
[StateDef 14520]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = 0

[State 14520, PosAdd]
type = PosAdd
trigger1 = time = 0
x = (p2dist X)+15

[State 14520, RandomVariable-1]
type = VarRandom
trigger1 = 1
v = 14
range = -8,8

[State 14520, RandomVariable-2]
type = VarRandom
trigger1 = 1
v = 15
range = -8,8

[State 14520, Sparkle-1]
type = Explod
triggerall = time < 10
trigger1 = Timemod = 2,0
anim = 11555
id = 11555
postype = p1
pos = 0, 0
ownpal = 1
velocity = Var(14)*0.5, var(15)*0.5
scale = 0.25, 0.25
sprpriority = 3

[State 14520, Sparkle-2]
type = Explod
triggerall = time < 10
trigger1 = Timemod = 2,1
anim = 11555
id = 11555
postype = p1
pos = 0, 0
ownpal = 1
velocity = Var(14)*0.75, var(15)*0.75
scale = 0.25, 0.25
sprpriority = 3

[State 14520, DestroySelf]
type = DestroySelf
trigger1 = time = 50

;---------------------------------------------------------------------------
;P2 Smoke/Explosions
[StateDef 15300]
type = A
physics = N
movetype = I
velset = 0, 0
anim = -1
ctrl = 0
sprpriority = 4

[State 15300, Smoke1]
type = Explod
trigger1 = time = 8
Anim = 15300
Pos = 0,-25
Id = 15300
velocity = 0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = -1
Postype = p2
ownpal = 1
scale = 0.9, 0.9

[State 15300, Smoke2]
type = Explod
trigger1 = time = 15
Anim = 15300
Pos = 20,-15
Id = 15301
velocity = 0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = -1
Postype = p2
ownpal = 1
scale = 0.9, 0.9

[State 15300, Smoke3]
type = Explod
trigger1 = time = 23
Anim = 15300
Pos = -10,-5
Id = 15302
velocity = 0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = -1
Postype = p2
ownpal = 1
scale = 0.7, 0.7

[State 15300, Smoke4]
type = Explod
trigger1 = time = 31
Anim = 15300
Pos = 10,-25
Id = 15303
velocity = 0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = -1
Postype = p2
ownpal = 1
scale = 0.9, 0.9

[State 15300, DestroySelf]
type = DestroySelf
trigger1 = p2stateno = 5120
;---------------------------------------------------------------------------
;Rock Helper 00
[StateDef 15200]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15200 + Parent, Var(16)
ctrl = 0
sprpriority = 4

[State 15200, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = parent, stateno = 1701
y = -2

[State 15200, VelAdd]
type = VelAdd
trigger1 = parent, stateno != 1701
y = 0.08

[State 15201, VelAdd]
type = VelAdd
triggerall = vel y > -3
trigger1 = parent, stateno = 1701
y = -0.08

[State 15200, Next]
type = ChangeState
trigger1 = pos Y < -240 && parent, stateno = 1701
value = 15255

[State 15200, Next]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 15255
;---------------------------------------------------------------------------
;Rock Helper 01
[StateDef 15201]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15200 + Parent, Var(16)
ctrl = 0
sprpriority = 4

[State 15201, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = parent, stateno = 1701
y = -3

[State 15201, VelAdd]
type = VelAdd
trigger1 = parent, stateno != 1701
y = 0.08

[State 15201, VelAdd]
type = VelAdd
triggerall = vel y > -3
trigger1 = parent, stateno = 1701
y = -0.08

[State 15201, Next]
type = ChangeState
trigger1 = pos Y < -240 && parent, stateno = 1701
value = 15255

[State 15201, Next]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 15255
;---------------------------------------------------------------------------
;Rock Helper 02
[StateDef 15202]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15200 + Parent, Var(16)
ctrl = 0
sprpriority = 4

[State 15202, VelSet]
type = VelSet
triggerall = time = 0
trigger1 =  parent, stateno = 1701
y = -4

[State 15202, VelAdd]
type = VelAdd
trigger1 = parent, stateno != 1701
y = 0.08

[State 15201, VelAdd]
type = VelAdd
triggerall = vel y > -4
trigger1 = parent, stateno = 1701
y = -0.08

[State 15202, Next]
type = ChangeState
trigger1 = pos Y < -240 && parent, stateno = 1701
value = 15255

[State 15202, Next]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 15255
;---------------------------------------------------------------------------
;Rock Helper Die
[StateDef 15255]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15255
ctrl = 0
sprpriority = 4

[State 15202, PlaySND]
type = PlaySnd
trigger1 = time= 0
value = 1720,0
volume = 245

[State 15255, DestroySelf]
type = DestroySelf
trigger1 = time = 4
;---------------------------------------------------------------------------
;Death Blade Beam Rock Helper
[StateDef 15210]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15200 + Parent,Var(16)
ctrl = 0
sprpriority = 4

[State 15210, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 15210, AngleAdd]
type = AngleAdd
trigger1 = 1
value = ifelse(vel x >= 0, 10, -10)

[State 15210, VarSet]
type = VarRandom
trigger1 = time = 0
v = 10
range = -8,-4

[State 15210, VelSet]
type = VelSet
trigger1 = time = 0
y = var(10)
x = ifelse(random > 500, abs(var(10))/4, var(10)/4)

[State 15210, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.44

[State 15210, Next]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 15255
;---------------------------------------------------------------------------
;Dust Helper
[StateDef 15000]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = 2

[State 15000, Bind]
type = BindtoParent
trigger1 = 1
time = 1
pos = -50,1

[State 15000, Dust]
type = Explod
triggerall = Parent, Pos Y > -20
trigger1 = (timemod = 3,0)
Anim = 15000
Pos = 0, -Floor(Parent, Pos Y)
Id = 15000
sprpriority = 3
removeongethit = 0
removetime = 14
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 15000, DestroySelf]
type = DestroySelf
trigger1 = (Parent, Stateno != 1300) && (Parent, Stateno != 1305)
;---------------------------------------------------------------------------
;Dust Helper Ki Blast
[StateDef 15010]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = 2

[State 15010, Bind]
type = BindtoParent
trigger1 = 1
time = 1
pos = -40,1

[State 15010, Dust]
type = Explod
triggerall = Parent, Pos Y > -80
trigger1 = (timemod = 3,0)
Anim = 15000
Pos = 0, -Floor(Parent, Pos Y)
Id = 15000
sprpriority = 3
removeongethit = 0
removetime = 14
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 15010, DestroySelf]
type = DestroySelf
trigger1 = (Parent, Stateno != 12100)
;---------------------------------------------------------------------------
;WinKO Effect by FlowaGirl! FlowaGirl receives all the credit for this code.

[Statedef 9998]
type = S
movetype = I
physics = N
anim = 9999

[State 9998: Pause]
type = Pause
trigger1 = !Time
time = 12
movetime = 12

[State 9998: EnvColor]
type = EnvColor
trigger1 = Time < 12
value = Time*4, Time*4, Time*4
time = 1
under = 1

[State 9998: EnvShake]
type = EnvShake
trigger1 = !Time
time = 12
freq = 120
ampl = -3
phase = 90

[State 9998: AllPalFX]
type = AllPalFX
trigger1 = Time < 50
time = 1
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = Time*5
;===========================================================================
;Player 2 Custom States
;===========================================================================
; Wall Bounce : Used in State 1300
; Part 1 : P2 Fly Back
[Statedef 95000]
type    = A
movetype= H
physics = N
velset = 0,0

[State 95000, P2Anim]
type = ChangeAnim2
trigger1 = Time >= 0
value = 95000

[State 95000, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 95001

;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 2 : P2 Hit Wall
[Statedef 95001]
type    = A
movetype= H
physics = N

[State 95001, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 95001, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .45

[State 95001, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 95001, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 95002

[State 95001, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 3 : P2 Pre-Fall from Wall
[Statedef 95002]
type    = A
movetype= H
physics = N

[State 95002, P2Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 95002

[State 95002, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 95002, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 95002, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = -24, -50
postype = p1
sprpriority = 3

[State 95002, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 95002, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 95003
;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 4 : P2 Falling from Wall
[Statedef 95003]
type    = A
movetype= H
physics = N

[State 95003, P2Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 95003

[State 95003, VelSet]
type = VelSet
trigger1 = Time = 0
x = 1.6
y = -4

[State 95003, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 95004

;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 5 : P2 Fall into Ground
[Statedef 95004]
type    = A
movetype= H
physics = N

[State 95004, VelSet]
type = VelSet
trigger1 = Time = 0
x = 1.6
y = -4

[State 95004, VelAdd]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 95004, ChangeAnim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 95004, ChangeAnim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 95004, ChangeAnim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 95004, ChangeAnim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 95004, ChangeAnim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 95004, ChangeAnim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 95004, ChangeAnim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 95004, ChangeAnim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 95004, HitGround]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
; p2state Meteor Grabbed
[Statedef 95010]
type    = A
movetype= H ;Get hit
physics = N
velset = 1,0
ctrl = 0
;anim = 95020
sprpriority = 2

[State 95010, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 95020

[State 95010, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 95010, End]
type = ChangeState
trigger1 = Time >= 40
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; p2state Meteor Grabbed
[Statedef 95011]
type    = A
movetype= H ;Get hit
physics = N
velset = 1,0
ctrl = 0
;anim = 95020
sprpriority = 2

[State 95011, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
;---------------------------------------------------------------------------
; p2state Meteor Grabbed Going Up
[Statedef 95012]
type    = A
movetype= H ;Get hit
physics = N
velset = 1,0
ctrl = 0
;anim = 95012
sprpriority = 2

[State 95012, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 95012

[State 95012, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
;---------------------------------------------------------------------------
; p2state Meteor Grabbed Going Down
[Statedef 95013]
type    = A
movetype= H ;Get hit
physics = N
velset = 1,0
ctrl = 0
;anim = 95013
sprpriority = 2

[State 95013, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 95013

[State 95013, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 95013, HitGround]
type = SelfState
trigger1 = (Vel y >= 0) && (Pos y >= -20)
value = 5100
;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
;
;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[StateDef -2]
;---------------------------------------------------------------------------
;Character, Creator Display
[State -2, DisplayToClipboard]
type = DisplayToClipboard
triggerall = Var(1) = 0
trigger1 = 1
text = "Recoome by Chrono_Strife"
;---------------------------------------------------------------------------
;WinKO Effect by FlowaGirl
[State -2, Helper]
type = Helper
trigger1 = (WinKO) && (NumHelper(9998) = 0)
helpertype = Normal
name = "WinKO"
id = 9998
pos = 0,0
postype = p1
facing = 0
stateno = 9998
keyctrl = 0
ownpal = 1
supermovetime = 1000
pausemovetime = 1000
ignorehitpause = 1
;---------------------------------------------------------------------------
; Flight Detection Variable Reset
[State -2, FlightDetectionReset]
type = VarSet
trigger1 = stateno != [200, 399]
v = 21
value = 0
;---------------------------------------------------------------------------
; Chrono_Strife Hotness Detection
[State -2, How Hot is Chrono_Strife?]
type = null;SVarSet                  ;Nulled SVarSet, MUGEN can't handle my sexiness.
trigger1 = 1                         ;Always Triggered
sv = 69                              ;SexVariable(69)
value = 100                          ;100% Sexiness
;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
[Statedef -3]
;---------------------------------------------------------------------------
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 52 ;Jump land
value = 40, 1

[State -3, LowHealthVariable]
type = VarRandom
trigger1 = life < 250 && Var(7) = 0
v = 7
range = 1,3

[State -3, P2LowHealthVariable]
type = VarRandom
trigger1 = p2life < 250 && Var(8) = 0
v = 8
range = 1,2
;---------------------------------------------------------------------------
;Damage Dampener
[State -3, VarSet]
type = VarSet
triggerall = p2movetype != H
trigger1 = time > 3
v = 29
value = 0

[State -3, AttackMulSet]
type = AttackMulSet
trigger1 = Var(29) = 0
value = 1

[State -3, AttackMulSet]
type = AttackMulSet
trigger1 = Var(29) > 0 && Var(29) <= 10
value = 1-(Var(29)*0.075)

[State -3, VarAdd]
type = VarAdd
trigger1 = (stateno = [200,799]) && movehit
v = 29
value = 1
;---------------------------------------------------------------------------
[State -3, Armor.HitOverride]
type = HitOverride
trigger1 = Var(4) = 1
attr = SCA, AA, AP, AT
stateno = 4100

[State -3, Armor.PalFX]
type = PalFX
triggerall = Var(4) = 1
trigger1 = timemod = 4,0
time = 2
add = 100,0,0

[State -3, VarSet]
type = VarSet
trigger1 = movetype != H
v = 5
value = stateno
;---------------------------------------------------------------------------
;Artificial Intelligence
;---------------------------------------------------------------------------
;Close-Up States
;Throw
[State -3, AI.Throw]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [1,10]) && p2bodydist x < 7 && stateno = 0 
value = 900
;-----------
;Elbow
[State -3, AI.Elbow]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [11,20]) && (p2bodydist x < 10) && stateno = 0 
value = 205

;Weak Punch
[State -3, AI.WPunch]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [11,20]) && (p2bodydist x < 40) && stateno = 0
trigger2 = (prevstateno = 205) && movecontact && random < 300
value = 200

;Weak Slash
[State -3, AI.WSlash]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [21,30]) && (p2bodydist x < 40) && stateno = 0
trigger2 = (prevstateno = 210 || prevstateno = 230) && movecontact && random < 100
value = 210

;Strong Slash
[State -3, AI.SSlash]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [31,40]) && (p2bodydist x < 40) && stateno = 0
trigger2 = (prevstateno = 210 || prevstateno = 235) && movecontact && random < 100
value = 220

;Tail Whip
[State -3, AI.TWhip]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [41,50]) && (p2bodydist x < 40) && stateno = 0
trigger2 = (prevstateno = 210) && movecontact && random < 100 
value = 230

;Weak Kick
[State -3, AI.WKick]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [51,60]) && (p2bodydist x < 40) && stateno = 0
trigger2 = (prevstateno = 210 || prevstateno = 230) && movecontact && random < 100
value = 235

;Launcher
[State -3, AI.Launcher]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [61,70]) && (p2bodydist x < 40) && stateno = 0 
trigger2 = (prevstateno = 220 || prevstateno = 235) && movecontact && random < 100
value = 250

;Flip Kick 1
[State -3, AI.FKick1]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [71,73]) && (p2bodydist x < 40) && stateno = 0 
trigger2 = (prevstateno = [200, 235]) && movecontact && random < 100
value = 1500
;Flip Kick 2
[State -3, AI.FKick2]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [74,76]) && (p2bodydist x < 40) && stateno = 0 
trigger2 = (prevstateno = [200, 235]) && movecontact && random < 100
value = 1510
;Flip Kick 2
[State -3, AI.FKick3]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [77,80]) && (p2bodydist x < 40) && stateno = 0 
trigger2 = (prevstateno = [200, 235]) && movecontact && random < 100
value = 1520

;D.Blade 1
[State -3, AI.DBlade1]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [81,83]) && (p2bodydist x < 50) && stateno = 0 
trigger2 = (prevstateno = [200, 235]) && movecontact && random < 100
value = 1100
;D.Blade 2
[State -3, AI.DBlade2]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [84,86]) && (p2bodydist x < 60) && stateno = 0 
trigger2 = (prevstateno = [200, 235]) && movecontact && random < 100
value = 1110
;D.Blade 3
[State -3, AI.DBlade3]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [87,90]) && (p2bodydist x < 70) && stateno = 0 
trigger2 = (prevstateno = [200, 235]) && movecontact && random < 100
value = 1120

;S.Slide 1
[State -3, SSlide]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [91,93]) && (p2bodydist x < 80) && stateno = 0 
trigger2 = (prevstateno = [200, 235]) && movecontact && random < 100
value = 1300
;M.Slide 2
[State -3, AI.MSlide]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [94,96]) && (p2bodydist x < 90) && stateno = 0
trigger2 = (prevstateno = [200, 235]) && movecontact && random < 100
value = 1310
;L.Slide 3
[State -3, AI.LSlide]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [97,100]) && (p2bodydist x < 100) && stateno = 0
trigger2 = (prevstateno = [200, 235]) && movecontact && random < 100
value = 1320
;------------------------------------------------------------------------------
:Far Away States
;Run Forward
;SJ Fwd
[State -3, AI.RunoJumpFwd]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [1,25]) && p2dist x > 70 && stateno = 0
trigger2 = (Var(40) = [1,35]) && p2dist x > 100 && stateno = 0
value = ifelse(random > 500, 41,100)

;Air Run Forward
[State -3, AI.ARunFwd]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [1,25]) && p2dist x > 70 && (stateno = 40 || stateno = 41) && sysvar(1) = 0
trigger2 = (Var(40) = [1,35]) && p2dist x > 100 && (stateno = 40 || stateno = 41) && sysvar(1) = 0
value = 102

;Fire Ball
[State -3, AI.Fireball]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1000, 1022]
trigger1 = (Var(40) = [41,50]) && p2dist x > 100 && (stateno = 0 || stateno = 3100) && power > 100
value = 1000

;DeathBlade
[State -3, AI.KHH]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [51,70]) && p2dist x > 100 && (stateno = 0 || stateno = 3100) && power >= 1000
value = 2000
;KamehameHa
[State -3, AI.KHH]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [61,80]) && p2dist x > 100 && stateno = 0 && power >= 1000
trigger2 = (Var(40) = [61,80]) && p2dist x > 100 && stateno = 3100 && power >= 1000 && (p2bodydist y >= -50 && p2bodydist y <= 50)
value = 1900
;Special Beam Cannon
[State -3, AI.SPC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [71,100]) && p2dist x > 100 && stateno = 0 && power >= 2000
trigger2 = (Var(40) = [71,100]) && p2dist x > 100 && stateno = 3100 && power >= 2000 && (p2bodydist y >= -50 && p2bodydist y <= 50)
trigger3 = (prevstateno = 1400) && random < 100 && stateno = 0 && power >= 2000
value = 1800
;------------------------------------------------------------------------------
;Weak Air Punch
[State -3, AI.WAPunch]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [1,15]) && (p2bodydist x < 40) && stateno = 0
value = 600

;Medium Air Punch
[State -3, AI.MAPunch]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [16,25]) && (p2bodydist x < 40) && stateno = 0 
trigger2 = (prevstateno = 600 || prevstateno = 630) && movecontact && random < 100
value = 610

;Strong Air Punch
[State -3, AI.SAPunch]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0 && vel x = [-3,3]
trigger1 = (Var(40) = [26,35]) && (p2bodydist x < 40) && stateno = 0 
trigger2 = (prevstateno = 610 || prevstateno = 640) && movecontact && random < 100
value = 615

;Strong Air Slash
[State -3, AI.SASlash]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0 && vel x != [-3,3]
trigger1 = (Var(40) = [26,35]) && (p2bodydist x < 40) && stateno = 0 
trigger2 = (prevstateno = 610 || prevstateno = 640) && movecontact && random < 100
value = 620

;Weak Air Kick
[State -3, AI.WAKick]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [36,50]) && (p2bodydist x < 40) && stateno = 0
trigger2 = (prevstateno = 600) && movecontact && random < 100
value = 630

;Strong Air Kick
[State -3, AI.MAKick]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = [51,60]) && (p2bodydist x < 40) && stateno = 0 
trigger2 = (prevstateno = 620 || prevstateno = 630) && movecontact && random < 100
value = 640

;------------------------------------------------------------------------------
[State -3, AI.Fly]
type = ChangeState
triggerall = (var(39) = 1) && Pos Y >= 0 && MoveType != H && ctrl = 1 && p2life > 0 && stateno != [3000,3106]
trigger1 = p2StateType = S && p2MoveType != H && p2BodyDist Y < -99
value = 3000

[State -3, AI.Land]
type = ChangeState
triggerall = (var(39) = 1) && MoveType != H && stateno = 3100
trigger1 = (p2StateType = S && p2stateno = 0) || (p2MoveType = H && p2BodyDist Y > 40)
value = 3105
;------------------------------------------------------------------------------
;Elbow Chain
[State -3, AI.WAPunch]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (stateno = 1561 && time >= 20 && movecontact) && random < 250
value = 1550
;------------------------------------------------------------------------------
[State -3,AIGuard]
type = null;ChangeState
triggerall = Var(39)= 1 && statetype = S && ctrl = 1
trigger1 = (stateno = 100 || stateno = 52) && p2movetype = A
value = 130

[State -3,AIGuard]
type = null;ChangeState
triggerall = Var(39)= 1 && statetype = C && ctrl = 1
trigger1 = (stateno = 140 || stateno = 150 || stateno = 151) && p2movetype = A
value = 131

[State -3,AIGuard]
type = null;ChangeState
triggerall = Var(39)= 1 && statetype = A && ctrl = 1
trigger1 = p2movetype = A
value = 132
;----------------------------------------------------------------------------
;State Decider Reset
[State -3, AI.StateDeciderReset]
type = VarSet
triggerall = (var(39) = 1) && alive = 1 && Var(40) != 0
trigger1 = (stateno != 0 && statetype = S) || (statetype = A && (stateno = 40 || stateno = 41)) || (statetype = A && (stateno = [600,650]) && time > 20)
v= 40
value = 0

;State Decider
[State -3, AI.StateDecider]
type = VarRandom
triggerall = (var(39) = 1) && alive = 1 && ctrl = 1 && Var(40) = 0
trigger1 = ((stateno = 0 || stateno = 100) && statetype = S) || statetype = A
v= 40
range = 1,100
