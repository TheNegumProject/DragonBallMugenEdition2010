; UUBU

[Data]
life = 800          ;Amount of life to start with
attack = 80         ;100% attack power (more is stronger)
defence = 80        ;100% defensive power (more is stronger)
fall.defence_up = 50 ;Def goes up by 50% everytime player is hit on ground
liedown.time = 30    ;Time player takes before getting up from HIT_LIEDOWN
airjuggle = 15       ;Can do 15 points of juggling
sparkno = 2        ;Default spark number
guard.sparkno = 40 ;Default guard spark number
KO.echo = 0  ;1 to enable echo on KO
volume =30     ;Volume offset (negative for softer)

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 15     ;Player width (back, ground)
ground.front = 15    ;Player width (front, ground)
air.back = 12        ;Player width (back, air)
air.front = 12       ;Player width (front, air)
z.width = 3          ;Player width (into and out)
height = 60	     ;Height of player (for opponent to jump over)
attack.width = 4,4   ;Default attack width: back, front
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too   

[Velocity]
walk.fwd  = 0.9      ;Walk forward
walk.back = -0.9     ;Walk backward
run.fwd  = 4.5, 0    ;Run forward (x, y)  - if y<0, player will hop
run.back = -4.7,-3    ;Run backward (x, y) - if y=0, player will run
jump.neu = 0,-9.4    ;Neutral jumping velocity (x, y)
jump.back = -3.02    ;Jump back Speed (x, y)
jump.fwd = 3.0       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55,-8.1 ;Air jump speeds (opt)
airjump.fwd = 2.5,-8.1    ;.

[Movement]
airjump.num = 1      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .43         ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...
;---------------------------------------------------------------------------
;Instant Fall
[Statedef 60]
type    = A
physics = A

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 50, 1]
type = VelSet
trigger1 = Time >= 0
x = 0

[State 50, 1]
type = VelAdd
trigger1 = Time >= 0
x = 0
y = 3

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0 && Var(9) = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0 && Var(9) = 1
value = ifelse((vel x)=0,10041, ifelse((vel x)>0,10042,10043))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3
;---------------------------------------------------------------------------
;Super Jump Start
[Statedef 70]
type    = S
physics = S
ctrl = 0
sprpriority = 1

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0 && Var(9) = 0
value = 40

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0 && Var(9) = 1
value = 10040

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1


[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -15.5

[State 40, 6]
type = ChangeState
trigger1 = Animtime = 0
value = 71
ctrl = 1
;---------------------------------------------------------------------------
; Jump Up
[Statedef 71]
type    = A
physics = A

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 80
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 40, 3]
type = VelSet
trigger1 = Vel X <= 0
trigger1 = command = "holdback"
x = -3

[State 40, 3]
type = VelSet
trigger1 = Vel X >= 0
trigger1 = command = "holdfwd"
x = 3

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0 && Var(9) = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0 && Var(9) = 1
value = ifelse((vel x)=0,10041, ifelse((vel x)>0,10042,10043))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3


[Statedef 5656]
type = A
Movetype=A
physics = A
anim = 56
ctrl = 0

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 80
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 0]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 56, ifelse((vel x)>0, 57, 58))

[State 0]
type = ChangeState
trigger1 =Pos y !=0 && time >=10 &&  (p2dist x <= 80) && (p2bodydist y > -50 && p2bodydist y <  30)
value = 620

;[State 0]
;type = VelSet
;trigger1 = (Var(0) = 0 && command = "holdfwd")
;x = const(velocity.jump.fwd.x)

;[State 0]
;type = VelSet
;trigger1 = (Var(0) = 0 && command = "holdback")
;x = const(velocity.jump.back.x)

[State 0]
type = VelSet
trigger1 = Time = 0
y = -15

;[State 0]
;type = VelAdd
;trigger1 = Time > 0
;y = .35


[State 0]
type = ChangeState
trigger1 =time>=10 && (Pos Y >= 0 && Vel Y > 0)
value = 50

;---------------------------------------------------------------------------
; LOSE (Time over)
[Statedef 170]
type = S
ctrl = 0
anim = 5300
velset = 0,0,0

[State 170, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; WIN
[Statedef 180]
type = S

[State 180, 2]
type = ChangeState
trigger1 = Life = 1 && Var(3) = 1
value = 5150

[State 180, 2]
type = ChangeState
trigger1 = Win = 0
value = 9797

[State 180, 2]
type = ChangeState
trigger1 = Life = 1 && Var(3) = 1
value = 5150



[State 180, 3]
type = ChangeState
trigger1 = Life <= 200
value = 183

[State 180, 1]
type = ChangeState
trigger1 =Matchover = 1 && Life < 1999
value = 181

[State 180, 1]
type = ChangeState
trigger1 =  Matchover != 1 && Life < 1999
value = 184

[State 180, 2]
type = ChangeState
trigger1 = Life >= 1999 && var(9)=0
value = 182

;---------------------------------------------------------------------------
; WIN1
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=0 && var(9)=0
value = 181
ignorehitpause = 1
persistent = 1


[State 181, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1




;---------------------------------------------------------------------------
; WIN2
[Statedef 182]
type = S
ctrl = 0
anim = 800
velset = 0,0,0

[State 191, 1]
type = AssertSpecial
trigger1 = Time = [0,450]
flag = Intro

[State 0, Explod]
type = Explod
trigger1 =anim=800  && NUMExplod(748)=0
anim =  748
ID =  748
pos = 0,0
postype = p1
removetime = -2
scale = 1, 1
sprpriority = 3

;[State 730, Seeking]
;type = Helper
;trigger1 = time=1
;helpertype = Normal
;name = "ki"
;id = 888
;pos = 0,-10
;postype= p1
;facing= 1
;stateno= 888
;keyctrl= 0
;ownpal= 1

[State 0, PalFXWiz]
type = PalFX
trigger1 =timemod=8,0
time =8
add = 100,100,180
mul = 186,186,186
sinadd = -80,-80,-80,4
invertall = 0
color = 240
ignorehitpause = 1
persistent = 1

[state 735, treme]
type = envshake
trigger1 =  AnimElem = 3
time = 450
ampl = -3
 
[State 191,Som]
type = PlaySnd
trigger1 = AnimElem = 3
value = 760,0

[State 191,Som]
type = StopSnd
trigger1 =  AnimElem = 4
channel = 9

[State 191,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,0

[State 191, 5]
type = ChangeState
trigger1 = AnimTime = 450
value = 0

[State 182, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1


;---------------------------------------------------------------------------
; WIN3
[Statedef 183]
type = S
ctrl = 0
velset = 0,0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=0 && var(9)=0
value = 183
ignorehitpause = 1
persistent = 1



[state 735, treme]
type = envshake
trigger1 =  time=29 && var(9)=1
time = 30
ampl = -3


[State 0, VarSet]
type = VarSet
trigger1 = time=30
v =  9
value = 0
ignorehitpause = 1
persistent = 1

[State 183, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; WIN4
[Statedef 184]
type = S
ctrl = 0
velset = 0,-0.0,0

[State 191, 1]
type = AssertSpecial
trigger1 = Time = [0,650]
flag = Intro

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=0 && var(9)=0
value = 190
Elem= 3
ignorehitpause = 1
persistent = 1


[State 181, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 191, 5]
type = ChangeState
trigger1 = AnimTime = 100
value = 0
;---------------------------------------------------------------------------
;Final
[Statedef 9797]
type = S
ctrl = 0
velset = 0,0,0

[state 9797,final]
type = explod
trigger1 = time = 0
anim = 9797
postype = left
pos = 0,0
sprpriority = 5
;---------------------------------------------------------------------------
; INTRO
[Statedef 191]
type = S
ctrl = 0
;anim = 190
velset = 0,0,0

[State 191, 1]
type = AssertSpecial
trigger1 = Time = [0,500]
flag = Intro

[State 999,Sombra]
type = AfterImage
trigger1 =Anim=190
trigger1 =AnimElem=2 || AnimElem=6  || AnimElem=9  || AnimElem=11  || AnimElem=14  || AnimElem=16
time = 2
trans = add1
TimeGap  = 1
FrameGap = 1
length = 16
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1




[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=0
value =800

[State 191,Som]
type = PlaySnd
trigger1 = animElem=3  && anim=800
value =760,0


[State 0, Explod]
type = Explod
trigger1 =anim=800  && NUMExplod(748)=0
anim =  748
ID =  748
pos = 0,0
postype = p1
removetime = -2
scale = 1, 1
sprpriority = 3



[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=400
value =190

[State 191,Som]
type = PlaySnd
trigger1 = time=390
value =800,0

[State 0, PalFXWiz]
type = allPalFX
trigger1 =time=0
time =80
add = -100,-100,-100
mul = 200,200,200
sinadd = 10,10,10,80
invertall = 0
color = 170
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = allPalFX
trigger1 =time=80
time =140
add = 200,200,200
mul = 200,200,200
sinadd = 140,140,140,140
invertall = 0
color = 200
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = allPalFX
trigger1 =time=220
time =165
add = 10,10,10
mul = 180,180,150
sinadd = 0,0,0,0
invertall = 0
color =255
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 =time=220
time =165
add = -100,-100,-100
mul = 200,200,200
sinadd = 0,0,0,165
invertall = 0
color = 170
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = allPalFX
trigger1 =time=385
time =10
add = 100,100,180
mul = 186,186,186
sinadd = -20,-20,-20,10
invertall = 0
color = 240
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 =time=395
time =20
add = 100,100,180
mul = 286,286,286
sinadd = -20,-20,-20,20
invertall = 0
color = 240
ignorehitpause = 1
persistent = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time=400
ID =  748



[State 0, EnvShake]
type = EnvShake
trigger1 =animElem=3  && anim=800
time = 15
freq = 160
ampl = -6
phase =60


[State 191, 5]
type = ChangeState
trigger1 =Time = 500
value = 0



;---------------------------------------------------------------------------
; INTRO
[Statedef 198]
type = S
ctrl = 0
;anim = 181
velset = 0,0,0

[State 191, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = Intro


[State 190, Intro super veloz]
type = ChangeState
trigger1 = time=0
value = 191

;---------------------------------------------------------------------------
;Intro contra Goku
[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0,0

[State 190, begin]
type = AssertSpecial
trigger1 = time = [0,650]
flag = intro

[State 192,Fala]
type = Explod
trigger1 = time = 1
anim = 192
facing = 1
pos = 10,65
postype = left
sprpriority = 1
bindtime = 650
ownpal = 1
supermove = 1
removetime = 650

[State 190, 3]
type = changestate
trigger1 = time > 1
trigger1 = numexplod = 0
value = 0
ctrl = 0
;---------------------------------------------------------------------------
; INTRO versus Trunks
[Statedef 193]
type = S
ctrl = 0
anim = 191
velset = 0,0,0

[State 190, begin]
type = AssertSpecial
trigger1 = time = [0,750]
flag = intro

[State 192,Fala]
type = Explod
trigger1 = time = 1
anim = 193
facing = 1
pos = 10,65
postype = left
sprpriority = 1
bindtime = 750
ownpal = 1
supermove = 1
removetime = 750

[State 190, 3]
type = changestate
trigger1 = time > 1
trigger1 = numexplod = 0
value = 0
ctrl = 0
;---------------------------------------------------------------------------
;Intro contra Freeza
[Statedef 194]
type = S
ctrl = 0
anim = 191
velset = 0,0,0

[State 190, begin]
type = AssertSpecial
trigger1 = time = [0,600]
flag = intro

[State 192,Fala]
type = Explod
trigger1 = time = 1
anim = 194
facing = 1
pos = 10,65
postype = left
sprpriority = 1
bindtime = 600
ownpal = 1
supermove = 1
removetime = 600

[State 190, 3]
type = changestate
trigger1 = animtime = 500
value = 0
ctrl = 0
;---------------------------------------------------------------------------
; STAND_A
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 200                       ;Change animation (Def: no change)
poweradd = -150                    ;Power to add (Def: 0)


[State 0, VelSet]
type = VelSet
trigger1 = command ="holdfwd"
x = 2
y =  0
ignorehitpause = 1
persistent = 1


[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage    = 70                  ;Damage that move inflicts
animtype = Heavy                ;Animation type: Light, Medium, Heavy, Back (def: Light)
;getpower = 30,15                 ;Power to get on hit, on guard
;                                 ;(Def Hit: 0)  (Def Guard: 1/2 of hit power)
;givepower = 15,8                 ;Power to give opponent on hit, on guard
;                                 ;(Def Hit: 0)  (Def Guard: 1/2 of hit power)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 4,8                  ;Time attacker pauses, time victim shakes
numhits = 1                      ;Number of hits to count as (Def: 1)
sparkno = 1                   ;Spark image group and no (Def: set above)
sparkxy = 10,-64                ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5,0                   ;Sound to play on hit
guardsound = S6,0                 ;Sound to play on guard
; mindist  = 0,0,0                 ;Min distance of p2 from p1 when hit
; maxdist  = 0,0,0                 ;Max distance of p2 from p1 when hit
; snap = 0,0,0                     ;Snaps p2 to position rel to p1
ground.type = High              ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 18             ;Time that the victim slides back
ground.hittime  = 18             ;Time victim is in hit state
ground.velocity = -2,0             ;Velocity at which victim is pushed
; guard.slidetime = 5              ;Values for guarded attack (def: ground.slidetime)
; guard.hittime  = 15              ; (def: ground.hittime)
; guard.velocity = -4              ; (def: ground.velocity)
; guard.ctrltime = 7               ;Time to regain control after guard (def: guard.slidetime)
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
; airguard.ctrltime = 7            ;Time to regain control after air guard (def: ground.ctrltime)
; air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.1,-1           ;X-velocity at which victim is pushed,
                                 ;Y-velocity at which victim is pushed
;air.hittime = 20                  ;Time before oppoment regains control in air
; attack.width = 3, 3              ;Override default attack width
; fall = 0                         ;1 to cause opponent to fall (def: 0)
; fall.damage = 0                  ;Damage opponent takes on fall
; fall.velocity = n/a,-4.5         ;X, Y-velocity after bouncing off ground
; fall.animtype = Back             ;Animation type for falling people (def: Back)
; air.fall = 0                     ;1 to cause opponent to fall if in air (def: same as fall)
; down.velocity = ?,?              ;Velocity for opponents lying down (def: same as air.velocity)
; down.hittime = 20                ;Time opponent is stunned on ground (only for down.y-velocity = 0) (def: 20)
; down.bounce = 0                  ;Set to 1 for opponent to bounce on ground (def: 0)
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4
kill = !var(33)


[state 6100,ki]
type = projectile
trigger1 = animelem = 2
projanim =217
projremovetime = 12
projhits = 3
projmisstime = 4
projremove = 0
velocity = 0,0
offset = -6,0
attr = A, SA
animtype  = Heavy
damage    = 45,8
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S5,4            
guardsound = S6,0                
ground.type = High
ground.slidetime = 15	
ground.hittime  = 15
ground.velocity = -3,-7.6
;air.velocity = -3,-7.6
air.animtype = Back
air.juggle = 1
fall = 0


[State 200, 1]
type = HitDef
trigger1 = Time = 0 && Var(6)=32
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage    = 70                  ;Damage that move inflicts
animtype = Heavy                ;Animation type: Light, Medium, Heavy, Back (def: Light)
;getpower = 30,15                 ;Power to get on hit, on guard
;                                 ;(Def Hit: 0)  (Def Guard: 1/2 of hit power)
;givepower = 15,8                 ;Power to give opponent on hit, on guard
;                                 ;(Def Hit: 0)  (Def Guard: 1/2 of hit power)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 4,8                  ;Time attacker pauses, time victim shakes
numhits = 1                      ;Number of hits to count as (Def: 1)
sparkno = 1                   ;Spark image group and no (Def: set above)
sparkxy = 10,-64                ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5,0                   ;Sound to play on hit
guardsound = S6,0                 ;Sound to play on guard
; mindist  = 0,0,0                 ;Min distance of p2 from p1 when hit
; maxdist  = 0,0,0                 ;Max distance of p2 from p1 when hit
; snap = 0,0,0                     ;Snaps p2 to position rel to p1
ground.type = High              ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 18             ;Time that the victim slides back
ground.hittime  = 18             ;Time victim is in hit state
ground.velocity = -2,0             ;Velocity at which victim is pushed
; guard.slidetime = 5              ;Values for guarded attack (def: ground.slidetime)
; guard.hittime  = 15              ; (def: ground.hittime)
; guard.velocity = -4              ; (def: ground.velocity)
; guard.ctrltime = 7               ;Time to regain control after guard (def: guard.slidetime)
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
; airguard.ctrltime = 7            ;Time to regain control after air guard (def: ground.ctrltime)
; air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.1,-1           ;X-velocity at which victim is pushed,
                                 ;Y-velocity at which victim is pushed
;air.hittime = 20                  ;Time before oppoment regains control in air
; attack.width = 3, 3              ;Override default attack width
; fall = 0                         ;1 to cause opponent to fall (def: 0)
; fall.damage = 0                  ;Damage opponent takes on fall
; fall.velocity = n/a,-4.5         ;X, Y-velocity after bouncing off ground
; fall.animtype = Back             ;Animation type for falling people (def: Back)
; air.fall = 0                     ;1 to cause opponent to fall if in air (def: same as fall)
; down.velocity = ?,?              ;Velocity for opponents lying down (def: same as air.velocity)
; down.hittime = 20                ;Time opponent is stunned on ground (only for down.y-velocity = 0) (def: 20)
; down.bounce = 0                  ;Set to 1 for opponent to bounce on ground (def: 0)
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4
p2stateno=20050

[State 0]
type = PlayerPush
trigger1 = p2stateno=20050
trigger1 = Time >= 0
value = 0

[State 0]
type = TargetBind
trigger1 = p2stateno=20050
pos = 12,-4


[State 200,Som]
type = PlaySnd
trigger1 = Time = 2
value = 3000, 9

[State 200,Som]
type = PlaySnd
trigger1 = Time = 3
value = 200, 0

[State 3001,Voa]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 3001

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; STAND_B
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 210

[State 0, VelSet]
type = VelSet
trigger1 = command ="holdfwd"
x = 2
y =  0
ignorehitpause = 1
persistent = 1

[State 210, 1] ;Uncomment if you want to play a sound
type = null; PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 35
guardflag = MA
pausetime = 4,8
sparkxy = 3,-53
hitsound   = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -3
air.velocity = -2.2,-3.2
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4

[State 210, 2]
type = HitDef
trigger1 = Time = 0 && Var(10) 
attr = S, NA
animtype  = Medium
damage    = 35
guardflag = MA
pausetime = 4,8
sparkxy = -3,-49
hitsound   = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -3
air.velocity = -2.2,-3.2
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 210,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 0

[State 3001,Voa]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 3001

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND_X 
[Statedef 201]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 30
ctrl = 0
velset = 0,0,0
anim = 201

[State 0, VelSet]
type = VelSet
trigger1 = command ="holdfwd"
x = 2
y =  0
ignorehitpause = 1
persistent = 1

[State 220,Som]
type = PlaySnd
trigger1 = Time = 8
value = 200, 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = 30
guardflag = MA
pausetime = 4,8
sparkxy = 4,-52
sparkno=1
hitsound   = S5,0              
guardsound = S6,0                
;ground.type = Low
;ground.slidetime = 9
ground.hittime  =9
ground.velocity = -2,0
;air.velocity = 0,-6
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4



[State 3001,Voa]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 3001

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; STAND_Y
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 230

[State 0, VelSet]
type = VelSet
trigger1 =animElem=1
x = 4
y =  0
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = command ="holdfwd"
x = 2
y =  0
ignorehitpause = 1
persistent = 1

[State 230,Som]
type = PlaySnd
trigger1 = Time = 3
value = 200, 1

[State 230, 2]
type = HitDef
trigger1 = animElem = 2
attr = S, NA
animtype  = Hard
damage    = 21
guardflag = MA
pausetime = 9,11
sparkxy = 8,-51
sparkno=0
hitsound   = S5,3              
guardsound = S6,0                
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -3
air.velocity = -2.2,-3.2
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4


[State 3001,Voa]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 3001

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; STAND_Y
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 240


[State 0, VelSet]
type = VelSet
trigger1 = command ="holdfwd"
x = 2
y =  0
ignorehitpause = 1
persistent = 1

[State 230,Som]
type = PlaySnd
trigger1 = Time = 3
value = 200, 1

[State 230, 2]
type = HitDef
trigger1 = animElem = 2
attr = S, NA
animtype  = Hard
damage    = 21
guardflag = MA
pausetime = 9,11
sparkxy = 8,-51
sparkno=0
hitsound   = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -3
air.velocity = -2.2,-3.2
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4


[State 3001,Voa]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 3001

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;CROUCH_A
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 15
ctrl = 0
anim = 400

[State 400,Som]
type = PlaySnd
trigger1 = Time = 8
value = 200, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 19
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MAFD
guardflag = L
pausetime = 10,12
sparkxy = -2,-36
sparkno = 0                   ;Spark image group and no (Def: set above)
hitsound   = S5,0              
guardsound = S6,0                
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -4
air.velocity = -1.3,-3
down.velocity = -4,0
down.hittime = 20
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4


[State 400, 2]
type = HitDef
trigger1 = Time = 0 && Var(10) 
attr = C, NA
damage    = 19
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MAFD
guardflag = L
pausetime = 10,12
sparkxy = -2,-26
sparkno = 0                   ;Spark image group and no (Def: set above)
hitsound   = S5,0              
guardsound = S6,0                
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -4
air.velocity = -1.3,-3
down.velocity = -4,0
down.hittime = 20
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8


[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;CROUCH_B
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 400

[State 410,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 0

[State 410, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
animtype  = Hard
damage    = 25
getpower  = 40
givepower = 40
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = -3,-36
sparkno = 0
hitsound   = S5,1            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -4.5,0
air.velocity = -3.2,0
guard.velocity = -5
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4

[State 410, 3]
type = HitDef
trigger1 = Time = 0 && Var(10)
attr = C, NA
damage    = 25
getpower  = 40
givepower = 40
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = -3,-43
sparkno = 0
hitsound   = S5,1            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8


[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;CROUCH_X
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 400

[State 420,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 19
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MAFD
guardflag = L
pausetime = 10,12
sparkxy = -2,-36
sparkno = 0                   ;Spark image group and no (Def: set above)
hitsound   = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -4
air.velocity = -1.3,-3
down.velocity = -4,0
down.hittime = 20
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4

[State 420, 3]
type = HitDef
trigger1 = Time = 0 && Var(10) 
attr = C, NA
damage    = 39
getpower  = 40
givepower = 40
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = -3,-30
sparkno = 0
hitsound   = S5,2            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -3
air.velocity = -3
guard.velocity = -2
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8



[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;CROUCH_Y
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 430

[State 430,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200,1

[State 430, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 21
getpower  = 20
givepower = 20
hitflag = MAFD
guardflag = L
pausetime = 6,6
sparkxy = -5,-45
sparkno = 0
hitsound   = S5,1            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4

[State 430, 3]
type = HitDef
trigger1 = AnimElem = 2 && Var(10) 
attr = C, NA
damage    = 21
getpower  = 20
givepower = 20
hitflag = MAFD
guardflag = L
pausetime = 6,6
sparkxy = -5,-15
sparkno = 0
hitsound   = S5,1            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 430,4]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 21
getpower  = 20
givepower = 20
hitflag = MAFD
guardflag = L
pausetime = 6,6
sparkxy = -5,-10
sparkno = 0
hitsound   = S5,2            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -1
air.velocity = -2
guard.velocity = -2



[State 430,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;JUMP_A
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600

[State 600,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 0

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 32
getpower  = 10
givepower = 10
guardflag = HA
priority = 3
pausetime = 8,12
sparkxy = 4,-28
hitsound   = S5,2              
guardsound = S6,0                
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4

[State 600, 2]
type = HitDef
trigger1 = Time = 0 && Var(10)
attr = A, NA
damage    = 32
getpower  = 10
givepower = 10
guardflag = HA
priority = 3
pausetime = 8,12
sparkxy = -10,-58
hitsound   = S5,2              
guardsound = S6,0                
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 600, 3]
type = CtrlSet
trigger1 = Time = 17
value = 1

[State 600, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50

;---------------------------------------------------------------------------
;JUMP_B
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 55
ctrl = 0
anim = 600

[State 610,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 0


[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 32
getpower  = 10
givepower = 10
guardflag = HA
priority = 3
pausetime = 8,12
sparkxy = 4,-28
hitsound   = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4

[State 610, 3]
type = HitDef
trigger1 = Time = 0 && Var(10)
attr = A, NA
damage    = 48
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 8,12
sparkxy = -10,-51
hitsound   = S5,3            
guardsound = S6,0                
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,-3
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 610, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;JUMP_X
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 55
ctrl = 0
anim = 620

[State 620,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 1

[State 620, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 34
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 8,12
sparkxy = 0,-11
hitsound   = S5,4            
guardsound = S6,0                
ground.type = High
ground.slidetime = 24
ground.hittime  = 24
ground.velocity = -0
air.velocity = -0.3,-0
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4

[State 620, 3]
type = HitDef
trigger1 = Time = 0 && Var(10) 
attr = A, NA
damage    = 34
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 8,12
sparkxy = -10,-51
hitsound   = S5,4            
guardsound = S6,0                
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,-3
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 620, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;JUMP_Y
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 55
ctrl = 0
anim = 620


[State 630,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 1

[State 630, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 50
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 8,12
sparkxy = -0,-11
hitsound   = S5,5            
guardsound = S6,0                
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,-3
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4

[State 630, 3]
type = HitDef
trigger1 = Time = 0 && Var(10) 
attr = A, NA
damage    = 50
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 8,12
sparkxy = -10,-51
hitsound   = S5,5            
guardsound = S6,0                
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,-3
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 630, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Agarrão(Throw)
[Statedef 900]
type = S
movetype = A
physics = S
anim = 900
velset = 0,0
ctrl = 0

[State 0]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 32,0,0,1
p1Stateno = 501
p2Stateno = 502

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 501]
type = S
movetype = A
physics = S
anim = 901
velset = 0,0


[State 2000,Som]
type = PlaySnd
trigger1 = animelem = 6
value = 3000, 0

[State 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 0]
type = TargetLifeAdd
trigger1 = Animtime = 0
value = -60

[State 0, TargetFacing]
type = TargetFacing
trigger1 =time>=0
value =-1


[State 0, VelSet]
type = VelSet
trigger1 = animelem= 5
x = 0
y = -4
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem= 6
x = 0
y = 0
ignorehitpause = 1
persistent = 1

[State 0, Width]
type = Width
trigger1 = time>=0
edge = 50,0
player = 1,1
ignorehitpause = 1
persistent = 1



[State 0]
type = TargetBind
trigger1 = AnimElem = 2, >= 0 && (AnimElem = 3, < 0)
pos = 12,0

[State 0]
type = TargetBind
trigger1 = AnimElem = 3, >= 0 && (AnimElem = 4, < 0)
pos = 10,-5

[State 0]
type = TargetBind
trigger1 = AnimElem = 4, >= 0 && (AnimElem = 5, < 0)
pos = 0,-45

[State 0]
type = TargetBind
trigger1 = AnimElem = 5, >= 0 && (AnimElem = 6, < 0)
pos = 10,-50


; ptrunks

[State 0]
type = TargetBind
triggerall = P2Name ="Pequeno Trunks BY SOUZA"
trigger1 = AnimElem = 2, >= 0 && (AnimElem = 3, < 0)
pos = 12,0

[State 0]
type = TargetBind
triggerall = P2Name ="Pequeno Trunks BY SOUZA"
trigger1 = AnimElem = 3, >= 0 && (AnimElem = 4, < 0)
pos = 10,-35

[State 0]
type = TargetBind
triggerall = P2Name ="Pequeno Trunks BY SOUZA"
trigger1 = AnimElem = 4, >= 0 && (AnimElem = 5, < 0)
pos = 0,-65

[State 0]
type = TargetBind
triggerall = P2Name ="Pequeno Trunks BY SOUZA"
trigger1 = AnimElem = 5, >= 0 && (AnimElem = 6, < 0)
pos = 10,-70

;.......


[State 0]
type = TargetState
trigger1 = AnimElem = 6
value = 503

;[State 0]
;type = Turn
;trigger1 = Time = 39

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0

[Statedef 502]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
facep2= 1
hitdefpersist= 0
movehitpersist= 0
hitcountpersist= 0

[State 0, Turn]
type = Turn
trigger1 =  time=1
trigger1 = p2bodydist x < 0



[State 0]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

[State 0, SprPriority]
type = SprPriority
trigger1 = time  = 18
value =   2
ignorehitpause = 1
persistent = 1


[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -28  && p2Stateno!=501
ignorehitpause = 0
persistent = 1


[State 0]
type = HitBy
Trigger1 = Time >= 0
value = SCA
time = 1


[Statedef 503]
type = A
movetype = H
physics = N
velset = -15.5,6.5
anim = 5050
ctrl = 0

[State 0]
type = PosAdd
Trigger1 = Time = 0
x = 0
y = 20

[State 0]
type = VelAdd
Trigger1 = Time > 0
y = .4

;[State 0]
;type = Turn
;trigger1 = Time = 10

[State 0]
type = LifeAdd
Trigger1 = Time = 0
value = -105


[State 0, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0 && (Pos Y >= 10)
time = 20
freq = 170
ampl = -6
phase = 80
ignorehitpause = 1
persistent = 1


[State 0]
type = SelfState
trigger1 = Vel Y > 0 && (Pos Y >= 10)
value = 5100

;---------------------------------------------------------------------------
[Statedef 689]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 5900
sprpriority = 2
poweradd = 1000

[State 181,Som]
type = PlaySnd
trigger1 =animElem=2
value = 3000,9
volume=150

[State 181,Som]
type = PlaySnd
trigger1 =animElem=3
trigger2 =animElem=5
value = 5,1
volume=0

[State 0, Explod]
type = Explod
trigger1 = animElem=3
trigger2 =animElem=5
anim = F0
pos = 6,-52
postype = p1
facing = 1
removetime = 3
sprpriority = 4

[State 0, ]
type = ChangeState
trigger1 = AnimElem=6
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 700]
type    = S
movetype= A
physics = S
;juggle  = 16
velset = 0,0
ctrl = 0
anim = 810
sprpriority = 2



[State 0]
type = HitBy
Trigger1 = Time >= 5
value = SCA
time = 1

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 4
time = 30
trans = add1
TimeGap  = 1
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1



[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
;guardflag =
;hitflag = M-
sparkno = -1
sparkxy = 0, 0
;pausetime = 8,8
priority = 2,miss ;dodge
p1stateno = 801
p2stateno = 802
;snap = 32,0,0,1
p2facing = 1
;givepower = 50
;getpower =  ifelse(var(5)=0,100,0)

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 801]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
;anim = 801
poweradd = 0
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=0
value =801
elem = 2
ignorehitpause = 1
persistent = 1


[State 999,Sombra]
type = AfterImage
trigger1 = Time = 1
time = 30
trans = add1
TimeGap  = 3
FrameGap = 2
length = 7
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0, ]
type = PlayerPush
trigger1 = 1
value = 0

;[State 0, ]
;type = Turn
;trigger1 = Time = 0
;trigger1 = command = "holdback"
;ignorehitpause = 0
;persistent = 1

[State 0, ]
type = TargetFacing
trigger1 = time < 4
value = -1
;ignorehitpause = 0
;persistent = 1

[State 0, ]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = -14,-45

[State 0, ]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(6) < 0
pos = -4,-45

[State 0]
type = Explod
trigger1 =AnimElem=7
persistent = 0
anim = F2
pos = -33,-65
postype = p1
sprpriority = 2
bindtime = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem=7
value =5 ,3
volume = 200
ignorehitpause = 1
persistent = 1


[State 0, ]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
pos = -10,-40

[State 0, ]
type = TargetState
trigger1 = AnimElem = 7
value = 803

;[State 0, ]
;type = PosAdd
;trigger1 = animelem= 2
;x = -60

[State 0, ]
type = ChangeState
trigger1 = AnimTime = 0
value = 8021
ctrl = 0

[Statedef 8021]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
;anim = 801
poweradd = 0
sprpriority = 2

[State 0]
type = Turn
trigger1 = Time = 0

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 1
time = 28
trans = add1
TimeGap  = 3
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=0
value =8012
ignorehitpause = 1
persistent = 1


[State 0, ]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 802]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
;anim = 802
poweradd = 0
sprpriority = 1



[State 0, ]
type = ChangeAnim2
trigger1 = !time
value = 720
;elem =
;ignorehitpause = 0
;persistent = 1

[State 0, ]
type = changeState
;trigger1 =!gethitvar(isbound)
trigger1 = Time = 100
value = 5050

;---------------------------------------------------------------------------
[Statedef 803]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 7,15
ctrl = 0
;anim = 802
poweradd = 0
sprpriority = 1

[State 0]
type = Turn
trigger1 = Time = 0

[State 0, ]
type = ChangeAnim
trigger1 = !time
value = 5061

[State 0, ]
type = Gravity
trigger1 = 1

[State 0, ]
type = ChangeState
trigger1 = Vel Y >0 && pos Y >= 0
value = 804
;---------------------------------------------------------------------------
[Statedef 804]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 1


[State 0, ]
type = ChangeAnim
trigger1 = !time
value = 5061

[State 0, ]
type = ChangeAnim
trigger1 = (Anim = 5061 && AnimElem = 3)
value = 5061
Elem = 3

[State 0, ]
type = PosSet
trigger1 = !time
y = 0

[State 192, 0]
type = GameMakeAnim
trigger1 = !time
pos = 0,0
value = 62

[State 0, ]
type = PlaySnd
trigger1 = !time
value = F7,1
volume = 255

[State 0, ]
type = EnvShake
trigger1 = !time
time = 20
ampl = -4
freq = 100
phase = 100

[State 0, ]
type = LifeAdd
trigger1 = !time
value = -140

[State 0, ]
type = VelAdd
trigger1 = Time = 3
x = -2
y = -14

[State 0, ]
type = Gravity
trigger1 = time > 3

[State 0, ]
type = ChangeAnim
trigger1 = time > 20 && Vel Y > -2 && (Anim = 5061 && AnimElem = 3)
value = 5061
elem = 4
;ignorehitpause = 0
;persistent = 1

[State 0, 0]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
; Final Flash
[Statedef 2000]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 2001
ctrl = 0

[State 1700,6]
type = Explod
trigger1 = AnimElem = 1
anim = 8585
ID=8585
pos = -320,-0
postype = Right
sprpriority = -9
supermove = 1
ownpal = 1
removetime = 45
bindtime = -1

[State 0]
type = SuperPause
trigger1 = Time = 1
anim =s3
pos = -4, -66
time = 48
sound = F20, 0

[State 1700,6]
type = Explod
trigger1 = time= 1
anim = 33
ID=33
pos = 11,-68
postype = p1
sprpriority = -2
supermove = 1
ownpal = 1
removetime =42
bindtime = -1

[State 2000,1000]
type = PowerAdd
trigger1 = animelem = 1
value = -1000

[State 2000,2000]
type = PowerAdd
trigger1 = animelem = 2
value = -2000

[State 7500,hit.no.voa]
type = null;StateTypeSet
trigger1 = Time >= 0
trigger1 = Pos Y != 0
value = a

[State 2000,Som]
type = PlaySnd
trigger1 =AnimElem = 3
value = 3000, 0

;;[State 2000,NoHit]
;type = NotHitBy
;trigger1 = Time > 34
;value = ,NP,SP,NA,SA



[State 2000,Raio]
type = Explod
trigger1 = AnimElem = 1
anim = 6666
pos = 21,-42
ownpal = 1
;postype = left
sprpriority = 3
removetime = 36
supermovetime = 36

[State 9999,Foto]
type = Explod
trigger1 = AnimElem = 1
anim = 9999
pos = 157,237
ownpal = 1
postype = left
sprpriority = -4
removetime = 36
supermove = 1
supermovetime = 36

[State 2000,Raio2]
type = Explod
trigger1 = AnimElem = 1
anim = 6666
pos = -19,-42
ownpal = 1
sprpriority = 3
removetime = 36
supermovetime = 36

[State 2000,Fundo]
type = Envcolor
trigger1 = AnimElem = 1
persistent = 0
ignorehitpause = 1
Time = 45
value = 0, 0, 0
under = 1
supermove = 1

[State 1000,Som]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3000,2
volume=100

[State 2000, 1]
type = SuperPause
trigger1 = animelem = 1
pos = 21, -41
anim = -1
time = 36



[State 0]
type = Explod
trigger1 =  time=[19,25]
anim = 2088
Id=2088
pos = 95,-46
velocity = 4.0,0.0
scale=2.4,2.4
ownpal = 1
postype = p1
sprpriority = 2
removetime = 200
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=[25,33]
anim = 2088
Id=2088
pos = 82,-48
velocity = 4.0,0.0
scale=2.0,2.0
ownpal = 1
postype = p1
sprpriority = 2
removetime = 200
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=[34,40]
anim = 2088
Id=2088
pos = 71,-52
velocity = 4.0,0.0
scale=1.6,1.6
ownpal = 1
postype = p1
sprpriority = 2
removetime = 200
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=[41,50]
anim = 2088
Id=2088
pos = 61,-54
velocity = 4.0,0.0
scale=1.3,1.3
ownpal = 1
postype = p1
sprpriority = 2
removetime = 200
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=[51,77]
anim = 2088
Id=2088
pos = 57,-56
velocity = 4.0,0.0
scale=1.0,1.0
ownpal = 1
postype = p1
sprpriority = 2
removetime = 200
ignorehitpause = 1
persistent = 1



[State 0]
type = Explod
trigger1 =  time=19
anim = 2099
Id=2099
pos = 36,-67
velocity = 0.0,0.0
ownpal = 1
scale=0.5,0.5
postype = p1
sprpriority = 3
removetime = 250
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=4
anim = 1035
Id=1035
pos = 5,-57
velocity = 0.0,0.0
scale=0.5,0.5
ownpal = 1
postype = p1
sprpriority = 3
removetime = 2
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=6
anim = 1035
Id=1035
pos = 5,-57
velocity = 0.0,0.0
scale=0.7,0.7
ownpal = 1
postype = p1
sprpriority = 3
removetime = 2
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=8
anim = 1035
Id=1035
pos = 5,-57
velocity = 0.0,0.0
scale=0.9,0.9
ownpal = 1
postype = p1
sprpriority = 3
removetime = 4
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=12
anim = 1035
Id=1035
pos = 5,-57
velocity = 0.0,0.0
scale=1.1,1.1
ownpal = 1
postype = p1
sprpriority = 3
removetime = 3
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=15
anim = 1035
Id=1035
pos = 4,-57
velocity = 0.0,0.0
scale=1.3,1.3
ownpal = 1
postype = p1
sprpriority = 3
removetime = 4
ignorehitpause = 1
persistent = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  time>=77
trigger2 =  NumProjid(3050)=0
ID = 2088
ignorehitpause = 1
persistent = 1

;[State 0]
;type = Pause
;trigger1 = Time = [4,15]
;time=2

;[State 0]
;type = Pause
;trigger1 = Time = [15,19]
;time=3


[State 1000, 1]
type = Projectile
trigger1 = AnimElem = 3
projanim = 2050
ProjHitAnim = 2007
projhits = 2
velocity = 4.0
offset =60,-64
attr = S, SP
animtype  = Hard
damage    = 220,5
getpower  = 0
sparkno = S2007
projid = 3050
sparkxy = -20,5
projpriority = 9
projsprpriority = 9
guardflag = MA
hitsound   = S5,4
guardsound = S6,0
ground.type = trip
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -3 ,-3
air.velocity = -3,-1
fall=1
envshake.time= 20
envshake.freq = 150
envshake.ampl = -6
palfx.time=10
palfx.add=247,247,115
palfx.mul=247,130,0
palfx.sinadd=66,196,254,20

[State 3001,Fim.no.voa]
type = ChangeState
trigger1 = animtime = 0
trigger1 = pos Y < 0
value = 3001

[State 2000,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; Final Flash
[Statedef 2001]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 2001
ctrl = 0

[State 0]
type = SuperPause
trigger1 = Time = 1
anim =s3
pos = -4, -66
time = 48
sound = F20, 0

[State 1700,6]
type = Explod
trigger1 = time= 1
anim = 33
ID=33
pos = 11,-68
postype = p1
sprpriority = -2
supermove = 1
ownpal = 1
removetime =42
bindtime = -1

[State 2000,1000]
type = PowerAdd
trigger1 = animelem = 2
value = -1000


[State 7500,hit.no.voa]
type = null;StateTypeSet
trigger1 = Time >= 0
trigger1 = Pos Y != 0
value = a

[State 2000,Som]
type = PlaySnd
trigger1 =AnimElem = 3
value = 3000, 0

;[State 2000,NoHit]
;type = NotHitBy
;trigger1 = Time > 34
;value = ,NP,SP,NA,SA

;[State 2000, 1]
;type = SuperPause
;trigger1 = animelem = 1
;pos = -41, -61
;anim = -1
;time = 36


[State 2000,Raio]
type = Explod
trigger1 = AnimElem = 1
anim = 6666
pos = 21,-42
ownpal = 1
;postype = left
sprpriority = 3
removetime = 36
supermovetime = 36

[State 9999,Foto]
type = Explod
trigger1 = AnimElem = 1
anim = 9999
pos = 157,237
ownpal = 1
postype = left
sprpriority = -4
removetime = 36
supermove = 1
supermovetime = 36

[State 2000,Raio2]
type = Explod
trigger1 = AnimElem = 1
anim = 6666
pos = -19,-42
ownpal = 1
sprpriority = 3
removetime = 36
supermovetime = 36

;[State 2000,Fundo]
;type = Envcolor
;trigger1 = AnimElem = 1
;persistent = 0
;ignorehitpause = 1
;Time = 36
;value = 0, 0, 0
;;under = 1
;supermove = 1

[State 1000,Som]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3000,2
volume=100

[State 0]
type = Explod
trigger1 =  time=[19,77]
anim = 2088
Id=2088
pos = 56,-56
velocity = 4.0,0.0
ownpal = 1
postype = p1
sprpriority = 2
removetime = 200
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=19
anim = 2099
Id=2099
pos = 35,-67
velocity = 0.0,0.0
scale=0.5,0.5
ownpal = 1
postype = p1
sprpriority = 3
removetime = 250
ignorehitpause = 1
persistent = 1


[State 0]
type = Explod
trigger1 =  time=4
anim = 1035
Id=1035
pos = 5,-57
velocity = 0.0,0.0
scale=0.5,0.5
ownpal = 1
postype = p1
sprpriority = 3
removetime = 2
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=6
anim = 1035
Id=1035
pos = 5,-57
velocity = 0.0,0.0
scale=0.5,0.5
ownpal = 1
postype = p1
sprpriority = 3
removetime = 2
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=8
anim = 1035
Id=1035
pos = 5,-57
velocity = 0.0,0.0
scale=0.7,0.7
ownpal = 1
postype = p1
sprpriority = 3
removetime = 4
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=12
anim = 1035
Id=1035
pos = 5,-57
velocity = 0.0,0.0
scale=1.0,1.0
ownpal = 1
postype = p1
sprpriority = 3
removetime = 3
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=15
anim = 1035
Id=1035
pos = 5,-57
velocity = 0.0,0.0
scale=1.0,1.0
ownpal = 1
postype = p1
sprpriority = 3
removetime = 4
ignorehitpause = 1
persistent = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  time>=77
trigger2 =  NumProjid(3050)=0
ID = 2088
ignorehitpause = 1
persistent = 1

;[State 0]
;type = Pause
;trigger1 = Time = [4,15]
;time=2

;[State 0]
;type = Pause
;trigger1 = Time = [15,19]
;time=3

[State 1000, 1]
type = Projectile
trigger1 = AnimElem = 3
projanim = 2055
ProjHitAnim = 1006
projhits = 2
velocity = 4.0
offset =40,-64
attr = S, SP
animtype  = Hard
damage    = 120,5
getpower  = 0
sparkno = -1
projid = 3050
sparkxy = -20,5
projpriority = 7
projsprpriority = 7
guardflag = MA
hitsound   = S5,4
guardsound = S6,0
ground.type = trip
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -3,-3
air.velocity = -2,-1
fall=1
envshake.time= 20
envshake.freq = 150
envshake.ampl = -3
palfx.time=10
palfx.add=247,247,115
palfx.mul=247,130,0
palfx.sinadd=66,196,254,20


[State 3001,Fim.no.voa]
type = ChangeState
trigger1 = animtime = 0
trigger1 = pos Y < 0
value = 3001

[State 2000,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------


;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 3006]
type    = L
movetype= H
physics = N

[State 3052,2]
type = ChangeAnim
trigger1 = Time = 0
value = 5100

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
;value = F7, 0 ;Hit ground
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
trigger4 = Time = 30
value = 3005

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = null;VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine


;---------------------------------------------------------------------------
; WIN2
[Statedef 801]
type    = S
movetype= I
physics = N
ctrl = 0
;anim = 182
velset = 0,0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time=0
value = 800
;elem = 0
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time=5
value = 800
elem = 2
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time=10
value = 800
elem = 3
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time>=15
value = 10800
elem = 2
ignorehitpause = 1
persistent = 1

[State 0, VarSet]
type = VarSet
trigger1 = time=15
var(9)=1

[State 191,Som]
type = PlaySnd
trigger1 = time=15
value = 800,0

[State 800,Charge]
type = PowerAdd
trigger1 = AnimElem = 2
value = 300


[State 0, PalFXWiz]
type = PalFX
trigger1 = animelem = 2 && anim=800
trigger2 = animelem = 3 && anim=800
time =20
add = 100,100,180
mul = 186,186,186
sinadd = -80,-80,-80,4
invertall = 0
color = 240
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = AllPalFX
trigger1 = animelem = 2 && anim=800
trigger2 = animelem = 3 && anim=800
time =5
add = 100,100,180
mul = 186,186,186
sinadd = -80,-80,-80,4
invertall = 0
color = 240
ignorehitpause = 1
persistent = 1

[State 730, Seeking]
type = Helper
trigger1 = AnimElem = 1
helpertype = Normal
name = "ki"
id = 888
pos = 0,-10
postype= p1
facing= 1
stateno= 888
keyctrl= 0
ownpal= 1

[State 730, Seeking]
type = Helper
trigger1 = AnimElem = 2 && anim=10800 && NumHelper(10888)=0
helpertype = Normal
name = "ki"
id = 10888
pos = 0,-10
postype= p1
facing= 1
stateno= 10888
keyctrl= 0
ownpal= 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time=15 && anim=10800
time = 10
add = 100,100,0
mul = 196,196,0
sinadd = -80,-80,-80,13
invertall = 0
color = 240
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = AllPalFX
trigger1 = time=15 && anim=10800
time = 5
add = 100,100,0
mul = 196,196,0
sinadd = -80,-80,-80,13
invertall = 0
color = 240
ignorehitpause = 1
persistent = 1


[State 735,Ki]
type = Explod
trigger1 = timemod = 14,0
trigger1 = pos y = 0
Anim = F61
Pos = -2,-4
Id = 800
sprpriority = -2
removetime = 14
bindtime = 14
Postype = p1
Bindtime = 1
SuperMove = 1

[state 6100,spr]
type = sprpriority
trigger1 = time >= 0
value = 3

[state 735, treme]
type = envshake
trigger1 =  AnimElem = 2
time = 50
ampl = -3

[State 191,Som]
type = PlaySnd
trigger1 = timemod = 28,0
value = 760,0

[State 191,Som]
type = StopSnd
trigger1 =  AnimElem = 4
channel = 9

[State 191,Som]
type = PlaySnd
trigger1 = time=10
value = 3000,0
volume=255

[State 800,Fim]
type = ChangeState
trigger1 = time = 40
value = 0
ctrl = 1

;--------------------------------------------------------------------------
;Carregamento Inicio 
[Statedef 800]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 800
velset = 0,0


[State 191,Som]
type = PlaySnd
trigger1 = time=1
value = 3000,0

[State 730, Seeking]
type = Helper
trigger1 = AnimElem = 2
helpertype = Normal
name = "ki"
id = 888
pos = 0,-10
postype= p1
facing= 1
stateno= 888
keyctrl= 0
ownpal= 1

[State 0, PalFXWiz]
type = PalFX
trigger1 =timemod=8,0
time =8
add = 100,100,180
mul = 186,186,186
sinadd = -80,-80,-80,4
invertall = 0
color = 240
ignorehitpause = 1
persistent = 1


;[State 0, PalFXWiz] nao
;type = PalFX
;trigger1 =timemod=28,0
;time = 28
;add = 0,0,25
;mul = 256,256,256
;sinadd = 0,0,80,36
;invertall = 0
;color = 256
;ignorehitpause = 0
;persistent = 1



[State 735,Ki]
type = Explod
trigger1 = timemod = 14,0 
trigger1 = pos y = 0
Anim = F61
Pos = -2,-4
Id = 800
sprpriority = -2
removetime = 14
bindtime = 14
Postype = p1
Bindtime = 1
SuperMove = 1

[State 800,Charge]
type = PowerAdd
trigger1 = TimeMod = 4,0
value = 20



[state 735, treme]
type = envshake
trigger1 = timemod = 28,0
time = 28
ampl = 3
 
[State 191,Som]
type = PlaySnd
trigger1 = timemod = 28,0
value = 760,0
channel = 9

[State 191,Som]
type = PlaySnd
trigger1 = time = 0
value = 800,0

[State 191,Som]
type = StopSnd
trigger1 = time = 0
channel = 9


[State 8250:BGPalFX]
type= BGPalFX
trigger1= (GameTime%2) = 0 && (Time > 25) && (Var(10)) 
time= 15
add= 100,100,100
mul= 40,40,40
sinadd= -100,-100,-100,15
;invertall= 1
color= 256      

[state 735, treme]
type = envshake
trigger1 = timemod = 28,0 && Var(10) 
time = 28
ampl = -3

[State 800,Fim]
type = ChangeState
triggerall = animtime = 0
trigger1 = command != "charge"
trigger2 = command != "charge1"
trigger3 = power >= 3000
value = 0
ctrl = 1





;---------------------------------------------------------------------------
;Carregamento ki
[Statedef 888]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 777
velset = 0,0

; timemod=28,0
;time =  28

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time>=2  && anim!=13
value =13
ignorehitpause = 1
persistent = 1

[State 0]
type = Turn
trigger1 = Time >= 1 && p2bodydist x < -10

[State 0]
type = posadd
trigger1 = Time >= 0
x = (ParentDist X) -0
y = (ParentDist Y) -10



[State 0, PalFXWiz]
type = PalFX
trigger1 =time>=0
time =10000
add = 100,100,180
mul = 256,256,256
sinadd = -80,-80,-80,1
invertall = 1
color = 0
ignorehitpause = 1
persistent = 0



[State 0, ChangeState]
type = ChangeState
trigger1 = parent,stateno!=[800,802]
trigger1 =parent,stateno!=182
trigger2 = Parent,Var(9)=1
value = 972
ctrl = 0

[Statedef 972]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 777
velset = 0,0

; timemod=28,0
;time =  28



[State 0, PalFXWiz]
type = PalFX
trigger1 =timemod=1,0
time =1
add = 100,100,180
mul = 256,256,256
sinadd = -80,-80,-80,1
invertall = 1
color = 0
ignorehitpause = 1
persistent = 0


[State 0, DestroySelf]
type = DestroySelf
trigger1 =  time=5
ignorehitpause = 1
persistent = 0


;---------------------------------------------------------------------------
; WIN2
[Statedef 802]
type    = S
movetype= I
physics = N
ctrl = 0
;anim = 182
velset = 0,0,0

[State 800,Charge]
type = PowerAdd
trigger1 = AnimElem =1
value = -1000

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time=[0,10]
value = 10800
elem = 2
ignorehitpause = 1
persistent = 1


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time=[10,20]
value = 800
elem = 3
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time=[20,30]
value = 800
elem = 2
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time=30
value = 0
elem = 0
ignorehitpause = 1
persistent = 1

[State 0, VarSet]
type = VarSet
trigger1 = time=11
var(9)=0

[State 191,Som]
type = PlaySnd
trigger1 = time=9
value = 800,0



[State 0, PalFXWiz]
type = PalFX
trigger1 =time= 10
time =10
add = 100,100,180
mul = 186,186,186
sinadd = -80,-80,-80,4
invertall = 0
color = 240
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = AllPalFX
trigger1 = time=10
time =4
add = 100,100,180
mul = 186,186,186
sinadd = -80,-80,-80,4
invertall = 0
color = 240
ignorehitpause = 1
persistent = 1


[State 730, Seeking]
type = Helper
trigger1 = AnimElem = 2 && anim=10800 && NumHelper(10888)=0
helpertype = Normal
name = "ki"
id = 10888
pos = 0,-10
postype= p1
facing= 1
stateno= 10888
keyctrl= 0
ownpal= 1




[State 735,Ki]
type = Explod
trigger1 = timemod = 14,0
trigger1 = pos y = 0
Anim = F61
Pos = -2,-4
Id = 800
sprpriority = -2
removetime = 14
bindtime = 14
Postype = p1
Bindtime = 1
SuperMove = 1

[state 6100,spr]
type = sprpriority
trigger1 = time >= 0
value = 3

[state 735, treme]
type = envshake
trigger1 =  AnimElem = 2
time = 50
ampl = -2

[State 191,Som]
type = PlaySnd
trigger1 = timemod = 28,0
value = 760,0

[State 191,Som]
type = StopSnd
trigger1 =  AnimElem = 4
channel = 9


[State 800,Fim]
type = ChangeState
trigger1 = time = 40
value = 0
ctrl = 1

; Magia_A
[Statedef 1000]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1000
ctrl = 0


[State 2000,1000]
type = PowerAdd
trigger1 = animelem = 2
value = -150

[State 1000,Som]
type = PlaySnd
trigger1 = time=0
value = 3000,9

[State 1000,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,1


[State 1000, 1]
type = Projectile
trigger1 = AnimElem = 2
projanim = 1005
ProjHitAnim = 2007
projsprpriority = 2
velocity = 5.5
offset = 46,-60
attr = S, SP
animtype  = Hard
damage    = 53,9
getpower  = 0
sparkno = -1
;sparkxy = 12,-35
priority  = 6
guardflag = MA
pausetime = 215,15
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -9
air.velocity = -9,-3
palfx.time=10
palfx.add=247,247,115
palfx.mul=247,130,0
palfx.sinadd=66,196,254,20
;palfx.time = 22
;palfx.add = 104,176,248
envshake.time= 10
envshake.freq = 70
envshake.ampl = -3

[State 1000,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Magia_B
[Statedef 1500]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 450
ctrl = 0

[State 1700,6]
type = Explod
trigger1 = AnimElem = 1
anim = 8585
ID=8585
pos = -320,-0
postype = Right
sprpriority = -9
supermove = 1
ownpal = 1
removetime = 45
bindtime = -1

[State 0]
type = SuperPause
trigger1 = Time = 1
anim = s3
pos = 4, -57
time = 45
sound = F20, 0

[State 2000,Fundo]
type = Envcolor
trigger1 = AnimElem = 1
persistent = 0
ignorehitpause = 1
Time = 45
value = 0, 0, 0
under = 1
supermove = 1

[State 2000,1000]
type = PowerAdd
trigger1 = animelem = 3
value = -2000

[State 1000,Som]
type = PlaySnd
trigger1 = time=20
value = 3000,7

[State 0, EnvShake]
type = EnvShake
trigger1 =time=20
time = 7
freq = 160
ampl = -4
phase = 160
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 = time=20
persistent = 0
anim = F3
pos = 35,-45
postype = p1
sprpriority = 2
bindtime = 1
ignorehitpause = 1


[State 1000,Som]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3000,1

[State 0]
type = Explod
trigger1 =  time=4
anim = 1035
Id=1035
pos = 5,-57
velocity = 0.0,0.0
scale=0.5,0.5
ownpal = 1
postype = p1
sprpriority = 3
removetime = 2
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=6
anim = 1035
Id=1035
pos = 5,-57
velocity = 0.0,0.0
scale=0.7,0.7
ownpal = 1
postype = p1
sprpriority = 3
removetime = 2
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=8
anim = 1035
Id=1035
pos = 5,-57
velocity = 0.0,0.0
scale=0.9,0.9
ownpal = 1
postype = p1
sprpriority = 3
removetime = 4
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=12
anim = 1035
Id=1035
pos = 5,-57
velocity = 0.0,0.0
scale=1.1,1.1
ownpal = 1
postype = p1
sprpriority = 3
removetime = 3
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
trigger1 =  time=15
anim = 1035
Id=1035
pos = 8,-57
velocity = 2.1,0.0
scale=1.3,1.3
ownpal = 1
postype = p1
sprpriority = 3
removetime = 5
ignorehitpause = 1
persistent = 1


[State 0]
type = Pause
trigger1 = Time = [4,15]
time=2

[State 0]
type = Pause
trigger1 = Time = [15,19]
time=3

[State 1000, 1]
type = Projectile
trigger1 = AnimElem = 3
projanim = 1035
ProjHitAnim = 1006
projhits=3
projsprpriority = 2
projscale=1.3,1.3
velocity = 8.5
offset = 30,-45
attr = S, SP
animtype  = Hard
damage    = 93,9
getpower  = 0
sparkno =S1006
sparkxy = 40,-5
projpriority = 7
projsprpriority = 7
guardflag = MA
hitsound   = S5,4
guardsound = S6,0
ground.type = trip
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -6 ,-6
air.velocity = -5,-3
fall=1
envshake.time= 40
envshake.freq = 150
envshake.ampl = -5
palfx.time=10
palfx.add=247,247,115
palfx.mul=247,130,0
palfx.sinadd=66,196,254,20

[State 1003, 0]
type = ScreenBound
trigger1 = P2MoveType = H || BackEdgeBodyDist < -1
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 = P2MoveType = H || BackEdgeBodyDist < -1
value = 0,0

[State 1003, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = BackEdgeBodyDist <= -1
value = 2970
ctrl = 0


[State 3001,Voa]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 3001

[State 1500,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Magia_A
[Statedef 11500]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1000
ctrl = 0

[State 730, Seeking]
type = Helper
trigger1 = AnimElem = 2
helpertype = Normal
name = "vira chocolate"
id = 2111
pos = 45,-60
postype= p1
facing= 1
stateno= 11501
keyctrl= 0
ownpal= 1

[State 2000,1000]
type = PowerAdd
trigger1 = animelem = 2
value = -150

[State 1000,Som]
type = PlaySnd
trigger1 = time=0
value = 3000,0

[State 1000,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,1


[State 1000,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




[Statedef 11501]
type = S
movetype = A
poweradd = 0
physics = N
juggle = 0
ctrl = 0
anim = 1005
sprpriority = 1

[State 1002, Assertspecial]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 2600, 2]
type = HitOverride
trigger1 = time >= 0  ;&& (enemy, NumProj = 0)
slot = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT,AA,AT,AP
stateno = 11502

[State 0, PalFXWiz]
type = PalFX
trigger1 = time>=0
time =20
add = 60,-120,-250
mul = 100,100,100
sinadd = -40,-30,0,20
invertall = 0
color = 0
ignorehitpause = 10
persistent = 10

;[State 1002, NotHitBy]
;type = NotHitBy
;trigger1 = 1
;time = 1
;value = SCA, NA, SA, HA, NT, ST, HT
;ignorehitpause = 1

[State 1002, 2]
type = VelSet
trigger1 = 1
x = 6

[State 1002, 1]
type = HitDef
trigger1 = p2stateno != 0001 ;&& (p2stateno!=[888,889]) && (p2stateno!=[222,223])
trigger1 = p2stateno != 0002; && (p2stateno!=[888,889]) && (p2stateno!=[222,223])
trigger1 = AnimElem >= 1
attr = S,SP
animtype = Hard
damage  = 0,0
getpower = 30
givepower = 30
hitflag = MAF
guardflag = MF
hitsound = S5, 5
guardsound=S5,5
sparkno = 72
sparkxy = 15,0
guard.sparkno = 3
;guard.sparkxy = 15,-0
pausetime = 0,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
air.animtype = Back
ground.velocity = -3, 0
air.velocity = -2, 0
p2stateno = 0001
;kill = !var(58) || 1*p2stateno = 003 ; evita que o P2 morra antes do Finish Him


[State 1002, 1]
type = HitDef
trigger1 = p2stateno = 0001;  && (p2stateno!=[888,889]) && (p2stateno!=[222,223])
trigger1 = p2stateno != 0002 ; && (p2stateno!=[888,889]) && (p2stateno!=[222,223])
trigger1 = AnimElem >= 1
attr = S,SP
animtype = Hard
damage  = 0,0
getpower = 30
givepower = 30
hitflag = MAF
guardflag = MF
hitsound = S5, 5
guardsound=S5,5
guard.sparkno = 3
sparkno = 3
sparkxy = 15,-0
pausetime = 0, 0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
air.animtype = Back
ground.velocity = -3, 0
air.velocity = -2,-9
p2stateno = 0002
;kill = !var(58) || 1*p2stateno = 003 ; evita que o P2 morra antes do Finish Him


[State 1002, ChangeState]
type = DestroySelf
trigger1 = movecontact || Time > 60

[Statedef 11502]
type = S
movetype = H
poweradd = 0
physics = N
juggle = 0
ctrl = 0
velset = 1,0
anim = 1006
sprpriority = 5

[State 1002, ChangeState]
type = DestroySelf
trigger1 = Time=27

;( Congelado 1ª vez )

[Statedef 0001]
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 0,Displaytarget]
type = DisplayToClipboard
trigger1 = time>=1
text = "Target do ubu virou chocolate %d"
params = Var(9)

[State 0, Explod]
type = Explod
trigger1 =NumExplod(0002)=0    && p2stateno=0002
trigger1 = time=0  && p1name= "Ultimate Ubu BY SOUZA"
anim =  F72
ID = 0002
pos = 25,-45
postype = p1
facing = -1
vel = 0,0
removetime = -2
supermove = 0
sprpriority = 2

[State 001, treme]
type = PosAdd
trigger1 = anim!=5300
trigger1 = time >= 110
x = 1-2*(time%2)

[State 001, treme]
type = PosAdd
trigger1 = anim=5300
trigger1 = time >= 150
x = 1-2*(time%2)

[State 001, 3]
type = PosFreeze
trigger1 = 1
trigger1 = time > 1
value = 1

[State 001, 2]
type = changeanim
trigger1 = 1
value = (anim)
elem = (animelemno(0))

[State 0, PalFXWiz]
type = PalFX
trigger1 = time>=0
time =1
add = 60,-120,-250
mul = 100,100,100
sinadd = 0,0,0,1
invertall = 0
color = 0
;ignorehitpause = 10
;persistent = 10

[State 001, Cair no Ar]
type = HitOverride
trigger1 = p2stateno = 0001
forceair = 1
time = -1
attr = SCA

[State 001, 1]
type = HitOverride
trigger1 = Pos Y < 0
time = 130
attr = SCA,AA, AT, NP
forceair = 1

[State 001, CS]
type = SelfState
trigger1 = anim!=5300
trigger1 = time = 120
ctrl = 1
value = 5201

[State 001, 3]
type = SelfState
trigger1 = anim!=5300
trigger1 = time = 119
trigger1 = Pos Y != 0
ctrl = 1
value = 5210

[State 001, CS]
type = SelfState
trigger1 = anim=5300
trigger1 = time = 170
ctrl = 1
value = 5201

[State 001, 3]
type = SelfState
trigger1 = anim=5300
trigger1 = time = 169
trigger1 = Pos Y != 0
ctrl = 1
value = 5210

[State 001, 3]
type = SelfState
trigger1 =life=0    && time=70
ctrl = 1
value = 5050


;( congelado 2ª vez )

[Statedef 0002]
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 0,Displaytarget]
type = DisplayToClipboard
trigger1 = time>=1
text = "Target do ubu desvira chocolate %d"
params = Var(9)

[State 0, PalFXWiz]
type = PalFX
trigger1 = time=0
time =3
add = 60,-120,-250
mul = 100,100,100
sinadd = -40,-30,0,3
invertall = 0
color = 0
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=1
value =5000


[State 002, 3]
type = SelfState
trigger1 = time = 2
trigger1 = Pos Y >= 0
ctrl = 1
value = 5000

[State 002, 3]
type = SelfState
trigger1 = time = 2
trigger1 = Pos Y < 0
ctrl = 1
value = 5050

; ( congela-se )

[Statedef 003]
movetype= H
velset = 0,0
ctrl = 0

[State 0, Explod]
type = Explod
trigger1 = time=0
anim =  F72
ID = 003
pos = 25,-45
postype = p1
facing = -1
vel = 0,0
removetime = -2
supermove = 0
sprpriority = 2


[State 001, treme]
type = PosAdd
trigger1 = anim!=5300
trigger1 = time >= 110
x = 1-2*(time%2)

[State 001, treme]
type = PosAdd
trigger1 = anim=5300
trigger1 = time >= 150
x = 1-2*(time%2)

[State 001, 3]
type = PosFreeze
trigger1 = 1
trigger1 = time > 1
value = 1

[State 001, 2]
type = changeanim
trigger1 = 1
value = (anim)
elem = (animelemno(0))

[State 0, PalFXWiz]
type = PalFX
trigger1 = time>=0
time =1
add = 60,-120,-250
mul = 100,100,100
sinadd = 0,0,0,1
invertall = 0
color = 0
;ignorehitpause = 10
;persistent = 10

[State 001, Cair no Ar]
type = HitOverride
trigger1 = p2stateno = 001
forceair = 1
time = -1
attr = SCA

[State 001, 1]
type = HitOverride
trigger1 = Pos Y < 0
time = 130
attr = SCA,AA, AT, NP
forceair = 1

[State 001, CS]
type = SelfState
trigger1 = anim!=5300
trigger1 = time = 120
ctrl = 1
value = 5201

[State 001, 3]
type = SelfState
trigger1 = anim!=5300
trigger1 = time = 119
trigger1 = Pos Y != 0
ctrl = 1
value = 5210

[State 001, CS]
type = SelfState
trigger1 = anim=5300
trigger1 = time = 170
ctrl = 1
value = 5201

[State 001, 3]
type = SelfState
trigger1 = anim=5300
trigger1 = time = 169
trigger1 = Pos Y != 0
ctrl = 1
value = 5210
;---------------------------------------------------------------------------
;Big Bang Attack (Pro alto)
[Statedef 2500]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 404
ctrl = 0


[State 730, Seeking]
type = Helper
trigger1 = AnimElem = 2
helpertype = Normal
name = "Galak-Hoo"
id = 2111
pos = 45,-115
postype= p1
facing= 1
stateno= 2111
keyctrl= 0
ownpal= 1


[State 2000,1000]
type = PowerAdd
trigger1 = animelem = 2
value = -100

[State 1000,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,7

[State 1000,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,1

[State 0]
type = Explod
trigger1 = time=3
persistent = 1
anim = 1035
pos = -6,-91
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.7,0.7

[State 0]
type = Explod
trigger1 = time>=10  && time <25
persistent = 1
anim = 1035
pos = -6,-91
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.8,0.8

[State 0]
type = Explod
trigger1 = time=25
persistent = 1
anim = 1035
pos = -6,-91
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.9,0.9

;[State 2500, 1]
;type = Projectile
;trigger1 = AnimElem = 3
;projanim = 2550
;ProjHitAnim = 2551      ;Action id when fireball hits
;velocity = 2.2,-2
;offset = 55,-95
;attr = S, SP
;animtype  = Hard
;damage    = 100,9
;getpower  = 0
;sparkno = -1
;sparkxy = -1
;priority  = 1
;guardflag = MA
;pausetime = 15,15
;hitsound   = S5,4            
;guardsound = S6,0                
;ground.type = Low
;ground.slidetime = 22
;ground.hittime  = 22
;ground.velocity = -6
;air.velocity = -3,-3
;fall.animtype = Hard
;palfx.time=10
;palfx.add=247,247,115
;palfx.mul=247,130,0
;palfx.sinadd=66,196,254,20
;fall = 1


[State 2500,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------

[Statedef 216]
type = S
movetype = A
physics = S
juggle = 5
velset = 0,0
ctrl = 0

[State 0]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 216
value = 216

[State 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200, 1

[State 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000, 0

[State 0]
type = Explod
trigger1 = movehit
persistent = 0
anim = 555
pos = 40,-85
postype = p1
sprpriority = 2
bindtime = 1
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = moveguarded
persistent = 0
anim = 556
pos = 40,-85
postype = p1
sprpriority = 2
bindtime = 1
ignorehitpause = 1

[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
animtype  = Up  
damage = 40, 10
guardflag = HA
Animtype = hard
priority = 4
pausetime = 12,12
sparkno = -1
guard.sparkno = -1
hitsound = 5, 0
guardsound = 6, 0
Animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime = 5
air.hittime = 5
ground.velocity = 0,-24
air.velocity = 0,-14
down.velocity = -1,-9
p2facing = 1
fall = 1
fall.damage = 70   
fall.recover = 0
fall.envshake.ampl = 6       ;Parameters for shaking the screen on fall
fall.envshake.freq = 178
fall.envshake.time = 15
mindist = 50,-100            ;Keep p2 a minimum of 50 pixels away from p1, and no higher than 100 pixels up
maxdist = 100,-10            ;Keep p2 a maximum of 100 pixels away from p1, and no lower than 10 pixels below
yaccel = .8  

[State 0]
type = HitDef
trigger1 = AnimElem = 4 && Var(10)
attr = A, NA
animtype  = Up  
damage = 40, 10
guardflag = HA
Animtype = hard
priority = 4
pausetime = 12,12
sparkno = -1
guard.sparkno = -1
hitsound = 5, 0
guardsound = 6, 0
Animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime = 5
air.hittime = 5
ground.velocity = 0,-24
air.velocity = 0,-14
down.velocity = -1,-9
p2facing = 1
fall = 1
fall.damage = 70   
fall.recover = 0
fall.envshake.ampl = 6       ;Parameters for shaking the screen on fall
fall.envshake.freq = 178
fall.envshake.time = 15
mindist = 50,-100            ;Keep p2 a minimum of 50 pixels away from p1, and no higher than 100 pixels up
maxdist = 100,-10            ;Keep p2 a maximum of 100 pixels away from p1, and no lower than 10 pixels below
yaccel = .8  

[State 3001,Voa]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 3001
ctrl = 1

[State 0]
type = ChangeState
trigger1 = animTime=0
value = 0
ctrl = 1


; Bakuhatsu Ha
[Statedef 2600]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 2600
ctrl = 0
poweradd=-100



[State 0, VelSet]
type = VelSet
trigger1 = time>=8
x =  10
y =  0
ignorehitpause = 1
persistent = 1

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 8
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 35
guardflag = MA
pausetime = 4,8
sparkxy = 3,-53
hitsound   = S5,1
guardsound = S6,0
ground.type = low
ground.slidetime = 55
ground.hittime  = 55
ground.velocity = -3
air.velocity = -2.2,-0.0
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4


[State 2600,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,9

[State 2600,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,1
volume=200

[State 2600,Fim]
type = ChangeState
triggerall = movehit=1
trigger1 =command="holdfwd"
value = 2601
ctrl = 0

[State 2600,Fim]
type = ChangeState
triggerall = movehit=1
trigger1 =command="holdback"  && Var(6)!= [32,33]
value = 12900
ctrl = 0

[State 2600,Fim]
type = ChangeState
triggerall = movehit=1 && Pos y =0
trigger1 =command="holddown"  && Var(6)!= [32,33]
value = 700
ctrl = 0

[State 2600,Fim]
type = ChangeState
triggerall = movehit=1 && Pos y !=0
trigger1 =command="holddown"   && Var(6)!= [32,33]
value = 900
ctrl = 0


[State 2600,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 2601]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 2601
ctrl = 0
poweradd=-500


[State 0, VelSet]
type = VelSet
trigger1 = time < 18
x =  4
y =  0
ignorehitpause = 1
persistent = 1

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 8
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 0]
type = HitDef
trigger1 = time=0
attr = A, NA
animtype  = Up
damage = 80, 10
guardflag = HA
Animtype = hard
priority = 4
pausetime = 8,12
sparkno = 2
sparkxy = 5,-68
guard.sparkno = -1
hitsound = 5, 2
guardsound = 6, 0
Animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime = 5
air.hittime = 5
ground.velocity = -1,-14
air.velocity = -1,-14
down.velocity = -6,-14
p2facing = 1
fall = 1
fall.damage = 70
fall.recover = 0
fall.envshake.ampl = 6       ;Parameters for shaking the screen on fall
fall.envshake.freq = 178
fall.envshake.time = 15
mindist = 50,-100            ;Keep p2 a minimum of 50 pixels away from p1, and no higher than 100 pixels up
maxdist = 100,-10            ;Keep p2 a maximum of 100 pixels away from p1, and no lower than 10 pixels below
yaccel = .8


[State 2600,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,0

[State 2600,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,0
volume=200

[State 2600,Fim]
type = ChangeState
triggerall = movehit=1 &&  AnimTime = 0  && Var(6)!= [32,33]
trigger1 =command="holdup"  || command="holddown"
value = 12911
ctrl = 0

[State 2600,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Knee Attack Counter
[Statedef 2701]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 130
ctrl = 0
sprpriority = 3


[State 2000,Pause]
type = superpause
trigger1 = animelem = 1
time = 25
anim = -1


[State 2800,Nohit]
type = NotHitBy
trigger1 = Pos Y < 0 && Vel Y != 0
value = ,NP,SP,NA,SA
time = 1

[State 2700,Fim]
type = ChangeState
trigger1 = Time=1
value = 2700


;---------------------------------------------------------------------------
; Knee Attack
[Statedef 2700]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 2700
ctrl = 0

[State 2800,Nohit]
type = NotHitBy
trigger1 = Pos Y < 0 && Vel Y != 0
value = ,NP,SP,NA,SA
time = 1

[State 2700,1]
type = VelSet
trigger1 = animelem = 3
;x = 3
y = -6

[State 2700,2]
type = Veladd
trigger1 = animelem = 3
x = 0.1
y = -0.1

[State 2700,3]
type = null;CtrlSet
trigger1 = AnimElem = 3
value = 1

[State 2700,4]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
attr = S, SA
animtype  = Hard
damage    = 15,8
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 12,7
sparkxy = -10,-60
hitsound   = S5,2            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 21
ground.hittime  = 21
;ground.velocity = -5,-8.5
;air.velocity = -5,-8
fall.animtype = Hard

[State 2700,4]
type = HitDef
trigger1 = AnimElem = 1 && Var(10) 
trigger2 = AnimElem = 2 && Var(10) 
attr = S, SA
animtype  = Hard
damage    = 15,8
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 12,7
sparkxy = -10,-60
hitsound   = S5,2            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 21
ground.hittime  = 21
;ground.velocity = -5,-8.5
;air.velocity = -5,-8
fall.animtype = Hard
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8
;fall = 0

[State 2700,4]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = Hard
damage    = 25,8
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 10,7
sparkxy = -10,-60
hitsound   = S5,2            
guardsound = S6,0                
ground.type = High
ground.slidetime = 2
ground.hittime  = 2
ground.velocity = -3,-6.5
air.velocity = -2,-2
fall.animtype = Hard
fall = 1

[State 2700,4]
type = HitDef
trigger1 = AnimElem = 3 && Var(10) 
attr = S, SA
animtype  = Hard
damage    = 25,8
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 10,7
sparkxy = -10,-60
hitsound   = S5,2            
guardsound = S6,0                
ground.type = High
ground.slidetime = 2
ground.hittime  = 2
ground.velocity = -3,-6.5
air.velocity = -2,-2
fall.animtype = Hard
fall = 1
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 2700,Fim]
type = ChangeState
trigger1 = AnimElem = 4
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Renzoku Energy Dan (Ar)
[Statedef 2800]
type = A
movetype = A
ctrl = 0 
physics = A
facep2 = !(PrevStateno = 9000)

[State 240,Som]
type = PlaySnd
trigger1 = Time = 16
value = 200, 1



[State 0]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 505
value = 505

[State 0]
type = VelSet
trigger1 = Time <= 15
x = 0
y = 0

[State 0]
type = VelSet
trigger1 = Time > 15
x = 18
y = 15

[State 0]
type = ChangeState
trigger1 = Vel Y > 0 && (Pos Y >= 0)
value = 52

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
animtype  = Hard
damage = 80, 10
getpower = 20
givepower = 10
guardflag = L
hitflag = MAFD
pausetime = 12,12
sparkno = 2
sparkxy = 15, -8
guard.sparkno = -1
hitsound = 5,2
guardsound = 6,0
ground.type = High
air.type = low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -3,-4
air.velocity = -2,-4
fall = 1
fall.recover = 0
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4

[State 2700,Fim]
type = ChangeState
trigger1 = movehit=1
value = 506
ctrl = 0



[Statedef 506]
type = A 
movetype = A 
physics = A 
juggle = 0 
ctrl = 0
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State 0]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 506
value = 506

[State 0]
type = VelAdd
trigger1 = AnimElem = 1
y = -5
x = -4

[State 0]
type = VelMul
trigger1 = AnimElem = 5
x = .85

[State 0]
type = VelMul
trigger1 = Vel X < 0
x = .85

[State 0]
type = ChangeState
trigger1 = Time = 30
value = 50
ctrl = 0

;[state 7000, fim]
;type = changestate
;trigger1 = (animtime = 0 && prevstateno = 3001)
;value = 3001


; Renzoku Energy Dan (Ar)
[Statedef 2801]
type = S
movetype = A
ctrl = 0
physics = S
facep2 = !(PrevStateno = 9000)


[State 0, VelAdd]
type = VelAdd
trigger1 =time < 9
x = 0.3
y = -0.2
ignorehitpause =
persistent = 1


[State 240,Som]
type = PlaySnd
trigger1 = Time = 16
value = 200, 1



[State 0]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 230
value = 230


[State 0]
type = ChangeAnim
trigger1 = Time = 8 && Anim != 430
value = 430
elem=2



[State 0, PosAdd]
type = PosAdd
trigger1 =  Time = 8 && Anim = 430
x = 5
y = -12
ignorehitpause = 1
persistent = 1

;[State 0]
;type = VelSet
;trigger1 = Time <= 8
;x = 0
;y = 0

[State 0]
type = VelSet
trigger1 = Time > 8
x = 10
y = -5

[State 0]
type = ChangeState
trigger1 =time=20 || movehit=1
value = 50
ctrl = 1


[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 80, 10
getpower = 20
givepower = 10
guardflag = L
hitflag = MAFD
pausetime = 7,12
sparkno = 2
sparkxy = 10, -18
guard.sparkno = -1
hitsound = 5,2
guardsound = 6,0
ground.type = High
air.type = low
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -7,-8
air.velocity = -7,-7
fall = 1
fall.recover = 1
envshake.time= 10
envshake.freq = 70
envshake.ampl = -4




;---------------------------------------------------------------------------
; Renzoku Energy Dan (Ar)
[Statedef 12800]
type = A
movetype = A
ctrl = 0
physics = A
facep2 = !(PrevStateno = 9000)

[State 240,Som]
type = PlaySnd
trigger1 = Time = 16
value = 200, 1



[State 0]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 10505
value = 10505

[State 0]
type = VelSet
trigger1 = Time <= 15
x = 0
y = 0

[State 0]
type = VelSet
trigger1 = Time > 15
x = 15
y = 10

[State 0]
type = ChangeState
trigger1 = Vel Y > 0 && (Pos Y >= 0)
value = 52

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
animtype  = Hard
damage = 40, 10
getpower = 20
givepower = 10
guardflag = L
hitflag = MAFD
pausetime = 12,12
sparkno = 2
sparkxy = 15, -8
guard.sparkno = -1
hitsound = 5,2
guardsound = 6,0
ground.type = High
air.type = low
ground.slidetime = 80
ground.hittime = 80
ground.velocity = -3,0
air.velocity = -2,0
fall = 0
fall.recover = 0

[State 2700,Fim]
type = ChangeState
trigger1 = movehit=1
value = 10506
ctrl = 0



[Statedef 10506]
type = A
movetype = A
physics = A
juggle = 0
ctrl = 0
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State 0]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 10506
value = 10506

[State 0]
type = VelAdd
trigger1 = AnimElem = 1
y = -5
x = -4

[State 0]
type = VelMul
trigger1 = AnimElem = 5
x = .85

[State 0]
type = VelMul
trigger1 = Vel X < 0
x = .85

[State 0]
type = ChangeState
trigger1 = Time = 20
value = 12801
ctrl = 0

;[state 7000, fim]
;type = changestate
;trigger1 = (animtime = 0 && prevstateno = 3001)
;value = 3001


; Renzoku Energy Dan (Ar)
[Statedef 12801]
type = A
movetype = A
ctrl = 0
physics = A
facep2 = !(PrevStateno = 9000)

[State 240,Som]
type = PlaySnd
trigger1 = Time = 16
value = 200, 1



[State 0]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 10505
value = 10505

[State 0]
type = VelSet
trigger1 = Time <= 15
x = 0
y = 0

[State 0]
type = VelSet
trigger1 = Time > 15
x = 17
y = 12

[State 0]
type = ChangeState
trigger1 = Vel Y > 0 && (Pos Y >= 0)
value = 52

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 40, 10
getpower = 20
givepower = 10
guardflag = L
hitflag = MAFD
pausetime = 12,12
sparkno = 2
sparkxy = 15, -8
guard.sparkno = -1
hitsound = 5,2
guardsound = 6,0
ground.type = High
air.type = low
ground.slidetime = 5
ground.hittime = 20
ground.velocity = -6,0
air.velocity = -6,3
fall = 1
fall.recover = 0

[Statedef 2900]
type    = S
movetype= A
physics = S
velset = 0,0
;anim = 10205
ctrl = 0
poweradd = 3000

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=0
value =100
ignorehitpause = 1
persistent = 1

[State 3000,Super B]
type = PlaySnd
trigger1 =time=11
value = 4000,0

[State 0]
type = posadd
trigger1 = Time = 11
x = (P2Dist X) +15
y = (P2Dist Y) -0

[State 0, Turn]
type = Turn
trigger1 = time=11
ignorehitpause = 0
persistent = 1


[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 20
trans = add1
TimeGap  = 3
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=13
value =230
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = anim=230
x =  2
y =  0
ignorehitpause = 1
persistent = 1



[State 0]
type = HitDef
trigger1 = AnimElem = 2 && Anim=230
attr = S, NA
Animtype = Hard
damage = 120,0
pausetime = 0,0
priority = 1, Hit
numhits = 1
sparkno = 1
sparkxy = -2,-39
hitsound = s5,5
guardsound = 6,0
Animtype = Med
ground.type = High
ground.slidetime = 900
ground.hittime = 900
air.hittime = 900
ground.velocity = -9,-7
air.velocity = -9,-7
down.velocity = -9,-7
p2stateno =2935
fall = 1
fall.recover = 0
envshake.time 	= 20
envshake.freq 	= 70
envshake.ampl 	= -3



[State 1003, 0]
type = ScreenBound
trigger1 = anim=100
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 =  anim=100
value = 0,0

[State 1003, 3]
type = ChangeState
trigger1 =animtime=0
value = 0
ctrl = 1

[Statedef 12900]
type    = S
movetype= A
physics = S
velset = 0,0
;anim = 10205
ctrl = 0
poweradd = 3000

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=0
trigger2 = time >=32
value =100
ignorehitpause = 1
persistent = 1

[State 3000,Super B]
type = PlaySnd
trigger1 =time=11
value = 4000,0

[State 0]
type = posadd
trigger1 = Time = 11
x = (P2Dist X) +15
y = (P2Dist Y) -0

[State 0, Turn]
type = Turn
trigger1 = time=11
ignorehitpause = 0
persistent = 1


[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 20
trans = add1
TimeGap  = 3
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=13
value =230
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = anim=230
x =  2
y =  0
ignorehitpause = 1
persistent = 1



[State 0]
type = HitDef
trigger1 = AnimElem = 2 && Anim=230
attr = S, NA
Animtype = Hard
damage = 120,0
pausetime = 0,0
priority = 1, Hit
numhits = 1
sparkno = 1
sparkxy = -2,-39
hitsound = s5,5
guardsound = 6,0
Animtype = Med
ground.type = High
ground.slidetime = 900
ground.hittime = 900
air.hittime = 900
ground.velocity = -9,-10
air.velocity = -9,-10
down.velocity = -9,-10
p2stateno =2935
fall = 1
fall.recover = 0
envshake.time 	= 20
envshake.freq 	= 70
envshake.ampl 	= -3



[State 1003, 0]
type = ScreenBound
trigger1 = anim=100
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 =  anim=100
value = 0,0

[State 1003, 3]
type = ChangeState
trigger1 =time=30
value = 12902
ctrl = 0


[Statedef 12902]
type    = S
movetype= A
physics = S
velset = 0,0
;anim = 10205
ctrl = 0
poweradd = 3000

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=0
trigger2 = time >=32
value =100
ignorehitpause = 1
persistent = 1

[State 3000,Super B]
type = PlaySnd
trigger1 =time=11
value = 4000,0

[State 0]
type = posadd
trigger1 = Time = 11
x = (P2Dist X) +15
y = (P2Dist Y) -0

[State 0, Turn]
type = Turn
trigger1 = time=11
ignorehitpause = 0
persistent = 1


[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 20
trans = add1
TimeGap  = 3
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=13
value =230
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = anim=230
x =  2
y =  0
ignorehitpause = 1
persistent = 1



[State 0]
type = HitDef
trigger1 = AnimElem = 2 && Anim=230
attr = S, NA
Animtype = Hard
damage = 120,0
pausetime = 0,0
priority = 1, Hit
numhits = 1
sparkno = 1
sparkxy = -2,-39
hitsound = s5,5
guardsound = 6,0
Animtype = Med
ground.type = High
ground.slidetime = 900
ground.hittime = 900
air.hittime = 900
ground.velocity = -9,-5
air.velocity = -9,-5
down.velocity = -9,-5
p2stateno =2935
fall = 1
fall.recover = 0
envshake.time 	= 20
envshake.freq 	= 70
envshake.ampl 	= -3



[State 1003, 0]
type = ScreenBound
trigger1 = anim=100
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 =  anim=100
value = 0,0

[State 1003, 3]
type = ChangeState
trigger1 =time=35
value = 12911
ctrl = 0



[Statedef 12911]
type = S
physics = S
movetype = A
ctrl = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time>=0
value =100
Elem=2

[State 3000,Super B]
type = PlaySnd
trigger1 =time=2
value = 4000,0

[State 6000,Pause]
type = SuperPause
trigger1 = time = 2
pos = 0, -60
anim = -1
darken = 0
time = 3
movetime = 3
supermovetime = 3

[State 0]
type = posadd
trigger1 = Time = 2
x = (P2Dist X) +10
y = (P2Dist Y) +15

[State 0, Turn]
type = Turn
trigger1 = time=3
ignorehitpause = 1
persistent = 1

[State 1003, 0]
type = ScreenBound
trigger1 = anim=100
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 =  anim=100
value = 0,0


[State 999,Sombra]
type = AfterImage
trigger1 = Time = 2
time = 2
trans = add1
TimeGap  = 3
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1



[State 0]
type = changeState
trigger1 = time=3
value = 12903
ctrl = 0



[Statedef 12903]
type = S
movetype = A
physics = S
velset = 0,0
anim=600

[State 3000,Super B]
type = PlaySnd
trigger1 =AnimElem = 2
value = 200,0

[State 1003, 0]
type = ScreenBound
trigger1 = anim=600
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 =  anim=600
value = 0,0

;[State 1102, pos]
;type = Posset
;trigger1 = time = 0
;y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time=0
x =  0
y = 0
ignorehitpause = 1
persistent = 1


[State 0]
type = HitDef
trigger1 = AnimElem = 2 && Anim=600
attr = S, NA
Animtype = Hard
damage = 0,0
pausetime = 0,0
priority = 1, Hit
numhits = 1
sparkno = 1
sparkxy = -5,-20
hitsound = s5,5
guardsound = 6,0
Animtype = Med
ground.type = High
ground.slidetime = 900
ground.hittime = 900
air.hittime = 900
;ground.velocity = -6,9
air.velocity = -10,9
;down.velocity = -6,0
p2facing = 1
p2stateno=635
fall = 1
fall.recover = 0
envshake.time 	= 20
envshake.freq 	= 70
envshake.ampl 	= -3

[State 200, 3]
type = ChangeState
trigger1 =AnimTime = 0
value = 50
ctrl = 1

[Statedef 29501]
type = S
movetype = A
physics = S
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time=0
value =  2900
elem =  4
ignorehitpause = 1
persistent = 1


[State 2000,Som]
type = PlaySnd
trigger1 = animelem = 4
value = 3000, 0

[State 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 0]
type = TargetLifeAdd
trigger1 = Animtime = 0
value = -60

[State 0]
type = TargetBind
trigger1 = AnimElem = 4
pos = 70,0

[State 0]
type = TargetBind
trigger1 = AnimElem = 5
pos = 45,0

[State 0]
type = TargetBind
trigger1 = AnimElem = 6
pos = 35,0


[State 0]
type = TargetState
trigger1 = AnimElem = 6
value = 2778


[State 0]
type = ChangeState
trigger1 = AnimElem = 6
value = 29502
ctrl = 0

[Statedef 29502]
type = S
movetype = A
physics = S
velset = 0,0

[State 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 0]
type = TargetState
trigger1 = time=5
value = 2778

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time=0
value =  2900
elem =  6
ignorehitpause = 1
persistent = 1

[State 0]
type = TargetBind
trigger1 = AnimElem = 6  && Anim=2900
pos = 35,0


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time=5
value =29502
elem = 0
ignorehitpause = 1
persistent = 1

[State 0]
type = TargetBind
trigger1 = AnimElem = 1  && Anim=29502
pos = 15,-35

[State 0]
type = PlaySnd
trigger1 = AnimElem = 3 && Anim=29502
value = 200, 1

[State 0]
type = PlaySnd
trigger1 = AnimElem = 3 && Anim=29502
value = 3000, 0

[State 0]
type = Explod
trigger1 = movehit
persistent = 0
anim = 555
pos = 35,-85
postype = p1
sprpriority = 2
bindtime = 1
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = moveguarded
persistent = 0
anim = 556
pos = 40,-85
postype = p1
sprpriority = 2
bindtime = 1
ignorehitpause = 1

[State 0]
type = HitDef
trigger1 = AnimElem = 4  && Anim=29502
attr = A, NA
animtype  = Up
damage = 70, 10
guardflag = HA
Animtype = hard
priority = 4
pausetime = 3,12
sparkno = -1
guard.sparkno = -1
hitsound = S5, 2
guardsound = 6, 0
Animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime = 5
air.hittime = 5
ground.velocity = -1,-14
air.velocity = -1,-14
down.velocity = -1,-14
;p2facing = 1
fall = 1
fall.damage = 70
fall.recover = 0
fall.envshake.ampl = 6       ;Parameters for shaking the screen on fall
fall.envshake.freq = 178
fall.envshake.time = 15
mindist = 50,-100            ;Keep p2 a minimum of 50 pixels away from p1, and no higher than 100 pixels up
maxdist = 100,-10            ;Keep p2 a maximum of 100 pixels away from p1, and no lower than 10 pixels below
yaccel = .8

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 29503]
type = S
movetype = A
physics = S
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time=0
value =  2900
elem =  5
ignorehitpause = 1
persistent = 1


[State 2000,Som]
type = PlaySnd
trigger1 = animelem = 5
value = 3000, 0

[State 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 0]
type = TargetLifeAdd
trigger1 = Animtime = 0
value = -60

[State 0]
type = TargetBind
trigger1 = AnimElem = 5
pos = 45,0

[State 0]
type = TargetState
trigger1 = AnimElem = 6
value = 2778


[State 0]
type = ChangeState
trigger1 = AnimElem = 6
value = 29502
ctrl = 0
;---------------------------------------------------------------------------
; STAND_X
[Statedef 2910]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 220

[State 2990,VelX]
type = VelSet
trigger1 = Time >= 3
x = 2

[State 999,Sombra]
type = AfterImage
trigger1 = Time >= 0
time = 22
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 220,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 1

[State 220, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 55
guardflag = MA
pausetime = 8,8
sparkxy = -6,-23
hitsound   = S5,2              
guardsound = S6,0                
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -2
air.velocity = -2

[State 220, 2]
type = null;HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 55
guardflag = MA
pausetime = 4,8
sparkxy = -6,-33
hitsound   = S5,2              
guardsound = S6,0                
ground.type = Low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -3
air.velocity = -2.2,-3.2

[State 2900,Fim]
type = ChangeState
trigger1 = animtime=0
value = 2920

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; STAND_B
[Statedef 2920]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 220

[State 2990,VelX]
type = VelSet
trigger1 = Time >= 0
x = 2

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 22
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 210, 1] ;Uncomment if you want to play a sound
type = null; PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 32
guardflag = MA
pausetime = 4,12
sparkxy = -6,-59
hitsound   = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 29
ground.hittime  = 29
ground.velocity = -3
air.velocity = -2.2,-3.2
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4

[State 210,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 0

[State 2900,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 2930

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; STAND_Y
[Statedef 2930]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 203

[State 2990,VelX]
type = VelSet
trigger1 = Time >= 0
x = 2

[State 230,Som]
type = PlaySnd
trigger1 = Time = 3
value = 200, 1

[State 240,Som]
type = PlaySnd
trigger1 = Time = 3
value = 3000, 0

[State 230, 2]
type = HitDef
trigger1 = Time = 0
attr = S, HA
animtype  = Heavy
damage    = 61
guardflag = MA
pausetime = 8,7
sparkxy = -0,-44
hitsound   = S5,3              
guardsound = S6,0                
ground.type = Trip
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -25,-5
air.velocity = -25,-5
fall = 1
fall.damage = 40   
p2stateno = 2935
fall.envshake.ampl = 3       ;Parameters for shaking the screen on fall
fall.envshake.freq = 178
fall.envshake.time = 15
mindist = 50,-100            ;Keep p2 a minimum of 50 pixels away from p1, and no higher than 100 pixels up
maxdist = 100,-10            ;Keep p2 a maximum of 100 pixels away from p1, and no lower than 10 pixels below
yaccel = .8
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4

[State 1003, 0]
type = ScreenBound
trigger1 = P2MoveType = H || BackEdgeBodyDist < -1
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 = P2MoveType = H || BackEdgeBodyDist < -1
value = 0,0

[State 1003, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = BackEdgeBodyDist <= -1
value = 2970
ctrl = 0


[State 2900,Fim]
type = ChangeState
trigger1 = command = "y" || command = "z"
trigger1 = movehit = 1
value = 2970

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; STAND_B
[Statedef 12920]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 10220

[State 2990,VelX]
type = VelSet
trigger1 = Time >= 0
x = 2

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 22
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 210, 1] ;Uncomment if you want to play a sound
type = null; PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 32
guardflag = MA
pausetime = 4,12
sparkxy = -6,-29
hitsound   = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 29
ground.hittime  = 29
ground.velocity = -3
air.velocity = -2.2,-3.2

[State 210,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 0

[State 2900,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 12930

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; STAND_Y
[Statedef 12930]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 10203

[State 2990,VelX]
type = VelSet
trigger1 = Time >= 0
x = 2

[State 230,Som]
type = PlaySnd
trigger1 = Time = 7
value = 200, 1

[State 240,Som]
type = PlaySnd
trigger1 = Time = 7
value = 3000, 0

[State 230, 2]
type = HitDef
trigger1 = Time = 0
attr = S, HA
animtype  = Heavy
damage    = 61
guardflag = MA
pausetime = 8,7
sparkxy = -0,-30
hitsound   = S5,3
guardsound = S6,0
ground.type = Trip
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -25,-5
air.velocity = -25,-5
fall = 1
fall.damage = 40
p2stateno = 2935
fall.envshake.ampl = 3       ;Parameters for shaking the screen on fall
fall.envshake.freq = 178
fall.envshake.time = 15
mindist = 50,-100            ;Keep p2 a minimum of 50 pixels away from p1, and no higher than 100 pixels up
maxdist = 100,-10            ;Keep p2 a maximum of 100 pixels away from p1, and no lower than 10 pixels below
yaccel = .8

[State 1003, 0]
type = ScreenBound
trigger1 = P2MoveType = H || BackEdgeBodyDist < -1
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 = P2MoveType = H || BackEdgeBodyDist < -1
value = 0,0

[State 1003, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = BackEdgeBodyDist <= -1
value = 12970
ctrl = 0


;[State 2900,Fim]
;type = ChangeState
;trigger1 = command = "y" || command = "z"
;trigger1 = movehit = 1
;value = 2970

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 2970]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 0
velset = 0,0

[State 1004, 0]
type = ScreenBound
trigger1 = 1 
value	= 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time>=0
;flag =RoundNotOver
flag =NoAutoTurn

[State 1004, 0]
type = Changestate
trigger1 = time >= 0 && p2life <= 0
value	= 2323
;ctrl = 1

[State 1004, 0]
type = Changestate
trigger1 = time = 30 && p2life > 0
value	= 2323
; ------------------------------------
; Run Fwd 
; ------------------------------------
[Statedef 2323]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time>=0
;flag =RoundNotOver
flag =NoAutoTurn

[State 1004, 0]
type = VelSet
trigger1 = 1
x = 8

[State 1004, 0]
type = ScreenBound
trigger1 = 1
value	= 0

[State 1004, 1]
type = Playsnd
trigger1 = animelem = 2 || animelem = 5
Value = 900,1

[State 1004, 2]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1004, 3]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1004, 4]
type = ChangeState
trigger1 = p2bodydist x <= 190
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 12970]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 10000
velset = 0,0

[State 1004, 0]
type = ScreenBound
trigger1 = 1
value	= 0

[State 1004, 0]
type = Changestate
trigger1 = time = 0 && p2life <= 0
value	= 12323
;ctrl = 1

[State 1004, 0]
type = Changestate
trigger1 = time = 30 && p2life > 0
value	= 12323
; ------------------------------------
; Run Fwd
; ------------------------------------
[Statedef 12323]
type    = S
physics = S
anim = 10100
sprpriority = 1
ctrl = 0

[State 1004, 0]
type = VelSet
trigger1 = 1
x = 5

[State 1004, 0]
type = ScreenBound
trigger1 = 1
value	= 0

[State 1004, 1]
type = Playsnd
trigger1 = animelem = 2 || animelem = 5
Value = 900,1

[State 1004, 2]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 1004, 3]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1004, 4]
type = ChangeState
trigger1 = p2bodydist x <= 190
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 2935]
type    = A
movetype= H
physics = N
velset = 0,0


[State 2935, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = Time >= 0
value = 2935

[State 2935, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 2940

[Statedef 2940]
type    = A
movetype= H
physics = N

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -30
ignorehitpause = 1
persistent = 1

[State 2940, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 2940, Gravity]
type = VelAdd
trigger1 = Time >= 0
trigger1 = p2stateno!=[8001,8010]
trigger1 = p2stateno!=[80501,80503]
y = .45

[State 2940, No scroll]
type = null;ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0

[State 2940, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 2950

[State 2940, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

[Statedef 2950]
type    = A
movetype= H
physics = N

[State 2950, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 2950, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 2950, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 2950, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 2950, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 2950, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 2950

[State 2950, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 2950, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 2960

[Statedef 2960]
type    = A
movetype= H
physics = N

[State 2950, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

;[State 2960, 1]
;type = NotHitBy
;trigger1 = Time >= 0
;value = , NA, NP

[State 2960, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 2960, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 2960, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 2960, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 2960, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 2960, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 2960, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 2960, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 2960, Hit ground]
type = changeState
trigger1 = p2stateno=[8814,8815]
trigger1 = (Vel y > 0) && (Pos y >= 0)
value =644

[State 2960, Hit ground]
type = SelfState
trigger1 = p2stateno!=[8814,8815]
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------sss;---------------------------------------------------------------------------
; STAND_X
[Statedef 7050]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 210

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 22
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 220,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 55
guardflag = MA
pausetime = 12,8
sparkxy = 6,-53
hitsound   = S5,2              
guardsound = S6,0                
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -2
air.velocity = -2

[State 220, 2]
type = HitDef
trigger1 = Time = 0 && Var(10) 
attr = S, NA
animtype  = Medium
damage    = 55
guardflag = MA
pausetime = 12,8
sparkxy = -6,-53
hitsound   = S5,2              
guardsound = S6,0                
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -2
air.velocity = -2
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 220, 2]
type = null;HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 55
guardflag = MA
pausetime = 12,8
sparkxy = -6,-53
hitsound   = S5,2              
guardsound = S6,0                
ground.type = Low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -3
air.velocity = -2.2,-3.2


[State 2900,Fim]
type = ChangeState
trigger1 = command = "bigbang"
trigger1 = movehit = 1
value = 7051

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; STAND_B
[Statedef 7051]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 201

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 22
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 210, 1] ;Uncomment if you want to play a sound
type = null; PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 32
guardflag = MA
pausetime =12,12
sparkxy = 6,-53
hitsound   = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -3
air.velocity = -2.2,-3.2

[State 210, 2]
type = HitDef
trigger1 = Time = 0 && Var(10) 
attr = S, NA
animtype  = Medium
damage    = 32
guardflag = MA
pausetime =12,12
sparkxy =6,-49
hitsound   = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -3
air.velocity = -2.2,-3.2
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 210,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 0

[State 2900,Fim]
type = ChangeState
trigger1 = command = "bigbang"
trigger1 = movehit = 1
value = 7052

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; STAND_Y
[Statedef 7052]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 210

[State 2990,VelX]
type = VelSet
trigger1 = Time >= 6
x = 2

[State 230,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 0

[State 230, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 61
guardflag = MA
pausetime =12,7
sparkxy = 6,-53
hitsound   = S5,3              
guardsound = S6,0                
ground.type = Trip
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -25,-5
air.velocity = -25,-5
fall = 1
p2stateno = 2935

[State 230, 2]
type = HitDef
trigger1 = Time = 0 && Var(10) 
attr = S, NA
animtype  = Medium
damage    = 61
guardflag = MA
pausetime =12,7
sparkxy = -6,-47
hitsound   = S5,3              
guardsound = S6,0                
ground.type = Trip
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -25,-5
air.velocity = -25,-5
fall = 1
p2stateno = 2935
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 1003, 0]
type = ScreenBound
trigger1 = P2MoveType = H || BackEdgeBodyDist < -1
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 = P2MoveType = H || BackEdgeBodyDist < -1
value = 0,0

[State 1003, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = BackEdgeBodyDist <= -1
value = 2970
ctrl = 0

;[State 2900,Fim]
;type = ChangeState
;trigger1 = command = "bigbang"
;trigger1 = movehit = 1
;value = 7053

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 7053]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 0
velset = 0,0



[State 2940,Fim]
type = ChangeState
;trigger1 = BackEdgeBodyDist <= 50
;trigger1 = FrontEdgeBodyDist <= 50
trigger1 = Time = 1
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2935]
type    = A
movetype= H
physics = N
velset = 0,0

[State 2935, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = Time >= 0
value = 2935

[State 2935, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 2940

[Statedef 2940]
type    = A
movetype= H
physics = N

[State 2940, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 2940, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .45

[State 2940, No scroll]
type = null;ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,0

[State 2940, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 2950

[State 2940, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

[Statedef 2950]
type    = A
movetype= H
physics = N

[State 2950, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 2950, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 2950, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 2950, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 2950, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 2950, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 2950

[State 2950, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 2950, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 2960

[Statedef 2960]
type    = A
movetype= H
physics = N

[State 2950, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 2960, 1]
type = NotHitBy
trigger1 = Time >= 0
value = , NA, NP

[State 2960, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 2960, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 2960, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 2960, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 2960, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 2960, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 2960, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 2960, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 2960, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100





;Zanzoken
[Statedef 14000]
type    = S
movetype= I
physics = S
velset=0,0
;anim = 4000
ctrl = 0
facep2 = 1
poweradd = -50

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 9
time = 6
trans = add1
TimeGap  = 3
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 6000,Var(4)]
type = VarSet
trigger1 = time = 0
v = 4
value = 0

[State 6000,Var(4)]
type = VarSet
trigger1 = command = "holdfwd"
v = 4
value = 1

[State 6000,Var(4)]
type = VarSet
trigger1 = command = "holdback"
v = 4
value = 2

[State 6000,Var(4)]
type = VarSet
trigger1 = command = "holdup"
v = 4
value = 3

[State 6000,Var(4)]
type = VarSet
;trigger1 = Pos Y < 0
trigger1 = command = "holddown"
v = 4
value = 4

[State 6000,Var(4)]
type = VarSet
trigger1 = command = "holddiag1"
trigger2 = command = "holdfwd"
trigger2 = command = "holdup"
v = 4
value = 5

[State 6000,Var(4)]
type = VarSet
trigger1 = command = "holddiag2"
trigger2 = command = "holdback"
trigger2 = command = "holdup"
v = 4
value = 6

[State 6000,Var(4)]
type = VarSet
triggerall = Pos Y < 0
trigger1 = command = "holddiag3"
trigger2 = command = "holdfwd"
trigger2 = command = "holddown"
v = 4
value = 7

[State 6000,Var(4)]
type = VarSet
triggerall = Pos Y < 0
trigger1 = command = "holddiag4"
trigger2 = command = "holdback"
trigger2 = command = "holddown"
v = 4
value = 8

[State 6000,PosAdd]
type = PosAdd
trigger1 = time= 16
trigger1 = Var(4) = [0,1]
x = p2bodydist x + 100  ;200
y = 0

[State 6000,PosAdd]
type = PosAdd
triggerall =time= 16
trigger1 = Var(4) = 2
x = -150
y = 0

[State 6000,PosAdd]
type = PosAdd
triggerall = time= 16
trigger1 = Var(4) = 3
x = 0
y = -100

[State 6000,PosAdd]
type = PosSet
triggerall = time= 16
trigger1 = Var(4) = 4
trigger2 = Var(4) = 7
trigger3 = Var(4) = 8
y = 0

[State 6000,PosAdd]
type = PosAdd
triggerall = time= 16
trigger1 = Var(4) = 5
x = 200
y = -100

[State 6000,PosAdd]
type = PosAdd
triggerall = time= 16
trigger1 = Var(4) = 6
x = -200
y = -100

[State 6000,PosAdd]
type = PosAdd
triggerall = time= 16
trigger1 = Var(4) = 7
x = 200

[State 6000,PosAdd]
type = PosAdd
triggerall = time= 16
trigger1 = Var(4) = 8
x = -200

[State 6000,Som]
type = PlaySnd
trigger1 = time= 16
value = 4000,0 

[State 6000,Virar]
type = Turn
triggerall = p2bodydist x < 0
trigger1 = time= 16
value = 1

[State 6000,Fim]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y >= 0
value = 0
ctrl = 1


[State 6000,Fim]
type = null;ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
trigger1 = PrevStateNo != 3001
value = 50
ctrl = 1

[State 6000,Fim]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
;trigger1 = PrevStateNo = 3001
value = 3001

;Zanzoken
[Statedef 4050]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1


[State 4050,PosAdd]
type = PosAdd
trigger1 = Time = 4
x = -100
y = 0

[State 4050,Som]
type = PlaySnd
trigger1 = Time = 1
value = 4000,0



[State 4050,Imagem]
type = Projectile
trigger1 = Time = AnimElem = 1
projanim = 4050
projremovetime = 20
projsprpriority = -2
projid = 4051
vellocity = 0
offset = 0

[State 4050,1]
type = CtrlSet
trigger1 = Time = 5
value = 1

[State 4050,Fim]
type = ChangeState
trigger1 = Time = 6
value = 0
ctrl = 1

;---------------------------------------------------------------------------

;Zanzoken Aereo
[Statedef 4100]
type    = A
movetype= I
physics = N
velset = 0,0
;anim = 4100
ctrl = 0
facep2 = 1

[State 4000,Som]
type = PlaySnd
trigger1 = Time = 1
value = 4000,0

[State 4000,PosAdd]
type = PosAdd
trigger1 = Time = 4
x = 225
y = 0

[State 4000,Virar]
type = Turn
trigger1 = Time = 5
value = 1

[State 4000,Imagem]
type = Projectile
trigger1 = Time = AnimElem = 1
projanim = 4100
projremovetime = 20
projsprpriority = -2
projid = 4100
vellocity = 0
offset = 0

[State 4000,1]
type = CtrlSet
trigger1 = Time = 5
value = 1

[State 4000,Fim]
type = ChangeState
trigger1 = Time = 6
value = 50
ctrl = 1

;Zanzoken Durante Voa
[Statedef 4200]
type    = A
movetype= I
physics = N
velset = 0,0
;anim = 4100
ctrl = 0
facep2 = 1


[State 4000,Som]
type = PlaySnd
trigger1 = Time = 1
value = 4000,0

[State 4000,PosAdd]
type = PosAdd
trigger1 = Time = 4
x = 225
y = 0

[State 4000,Virar]
type = Turn
trigger1 = Time = 5
value = 1

[State 4000,Imagem]
type = Projectile
trigger1 = Time = AnimElem = 1
projanim = 4200
projremovetime = 20
projsprpriority = -2
projid = 4200
vellocity = 0
offset = 0

[State 4000,1]
type = CtrlSet
trigger1 = Time = 5
value = 1

[State 4000,Fim]
type = ChangeState
trigger1 = Time = 6
value = 3001
ctrl = 1
;---------------------------------------------------------------------------
;Voar Iniico
[Statedef 3115]
type = A
movetype = A
physics = A
velset = 0,-7.2
poweradd= -100
ctrl = 0

[State 3115,Anim]
type = ChangeAnim
trigger1 = Var(9) = 0 && time = 0
value = 3115

[State 3115,Anim]
type = ChangeAnim
trigger1 = Var(9) = 1 && time = 0
value = 13115

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 22
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 1000,Som]
type = PlaySnd
trigger1 = time = 3
value = 3000,0 

[state 3115, fim]
type = changestate
trigger1 = animtime = 0
value = 3001
ctrl = 1

;Voar
[Statedef 3001]
type = S
ctrl = 0
;anim = 3001
velset = 0,0,0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = NumHelper(888)=1
ignorehitpause = 1
persistent = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = NumHelper(3501)=1
ignorehitpause = 1
persistent = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = NumHelper(3502)=1
ignorehitpause = 1
persistent = 1

[State 3001, anim]
type = ChangeAnim
triggerall = Var(9) = 0 && !Var(10) 
trigger1 = Anim != 3001 
value = 3001


[State 3001, anim]
type = ChangeAnim
triggerall = Var(10) 
trigger1 = Anim != 1010
value = 1010

[State 2000,Raio]
type = Explod
triggerall = Anim = 1010
triggerall = Var(10) 
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
anim = 736
Id=737
pos =0,15
scale=0.5,0.7
ownpal = 1
postype = p1
sprpriority = 3
removetime = 16
supermovetime = 16

[State 3001]
type = removeExplod
trigger1 =Anim!=1010 
id=737

[State 3001,Para]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Var(2) = 0
x = 0
y = 0

[State 3001, Para2]
type = ChangeAnim
triggerall = Var(9) = 0 && !Var(10) 
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Anim != 3001
value = 3001

[State 3001, Para2]
type = ChangeAnim
triggerall = Var(9) = 1
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Anim != 13001
value = 13001

[State 3001,Var(1)]
type = VarSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Var(2) != 2
trigger2 = Var(2) = 2
trigger2 = Vel Y >= 2.4
v = 2
value = 1

[State 3001,Var(2)]
type = VarSet
trigger1 = Var(2) = 1
trigger1 = Vel Y <= -2.4
v = 2
value = 2

[State 3001,Up]
type = VelAdd
trigger1 = Var(2) = 1
y = -0.2

[State 3001,Down]
type = VelAdd
trigger1 = Var(2) = 2
y = 0.2

[State 3001,End]
type = VelSet
triggerall = Var(2) != 0
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
y = 0

[State 3001,EndVar]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
v = 2
value = 0


[State 3001, GoUp1]
type = VelAdd
trigger1 = command = "holdup"
y = -0.4

[State 3001,GoUp2]
type = VelSet
trigger1 = command = "holdup"
trigger1 = Vel Y > 0 
y = 0

[State 3001, GoUpAnim]
type = ChangeAnim
triggerall = Var(9) = 0
trigger1 = Anim != 3011 && command = "holdup" 
trigger2 = Var(6) = 1 && Vel Y > 1 && Anim != 3011 
value = 3011

[State 3001, GoUpAnim]
type = ChangeAnim
triggerall = Var(9) = 1
trigger1 = Anim != 13011 && command = "holdup" 
trigger2 = Var(6) = 1 && Vel Y > 1 && Anim != 13011 
value = 13011

[State 3001, GoDown1]
type = VelAdd
trigger1 = command = "holddown"
y = 0.4

[State 3001,GoDown2]
type = VelSet
trigger1 = command = "holddown"
trigger1 = Vel Y < 0 
y = 0

[State 3001, GoDownAnim]
type = ChangeAnim
triggerall = Var(9) = 0
trigger1 = Anim != 3111 && command = "holddown"
trigger2 = Var(6) = 1 && Vel Y < 1 && Anim != 3111
value = 3111

[State 3001, GoDownAnim]
type = ChangeAnim
triggerall = Var(9) = 1
trigger1 = Anim != 13111 && command = "holddown"
trigger2 = Var(6) = 1 && Vel Y < 1 && Anim != 13111
value = 13111

[State 3001, GoBack1]
type = VelAdd
trigger1 = command = "holdback"
x = -0.4

[State 3001,GoBack2]
type = VelSet
trigger1 = command = "holdback"
trigger1 = Vel X > 0 
x = 0

[State 3001, GoBackAnim]
type = ChangeAnim
triggerall = Var(9) = 0
trigger1 = Anim != 3113 && command = "holdback"
trigger2 = Var(6) = 1 && Vel X < 0 && Anim != 3113
value = 3113

[State 3001, GoBackAnim]
type = ChangeAnim
triggerall = Var(9) = 1
trigger1 = Anim != 13113 && command = "holdback"
trigger2 = Var(6) = 1 && Vel X < 0 && Anim != 10105
value = 13113

[State 3001, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 0.4

[State 3001, GoFwd2]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = Vel X < 0 
x = 0

[State 3001, GoFwdAnim]
type = ChangeAnim
triggerall = Var(9) = 0
trigger1 = Anim != 3112 && command = "holdfwd"
trigger2 = Var(6) = 1 && Vel X > 0 && Anim != 3112
value = 3112

[State 3001, GoFwdAnim]
type = ChangeAnim
triggerall = Var(9) = 1
trigger1 = Anim != 13112 && command = "holdfwd"
trigger2 = Var(6) = 1 && Vel X > 0 && Anim != 10100
value = 13112

[State 3001,Turn]
type = Turn
trigger1 = P2bodydist X < -29

[State 3001,Borda]
type = PosSet
trigger1 = Pos Y < -400
y = -400

[State 3001,Borda]
type = VelSet
trigger1 = ScreenPos Y < 0 && Vel Y < 0
y = 0

[State 3001,A.I.]
type = VelSet
trigger1 = Var(6) = 1 && Pos Y < -30
x = p2bodydist x / 10
y = p2bodydist y / 10

[State 3001,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 50
ctrl = 1

[State 3001,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 50
ctrl = 1

[State 3001,End]
type = ChangeState
trigger1 = Time > 2
trigger1 = command = "fly"
value = 50
ctrl = 1

[State 3001,Var(5)]
type = VarSet
trigger1 = time = 0
v = 5
value = 0

[State 3001,Var(5)]
type = VarSet
trigger1 =  EnemyNear, Movetype = A|| (enemy, NumProj=1)
trigger1 = p2bodydist x < 250
trigger1 = command = "holdback"
v = 5
value = 1

[State 3001,Guard]
type = ChangeState
trigger1 =  EnemyNear, Movetype = A || (enemy, NumProj=1)
trigger1 = p2bodydist x < 250
trigger1 = command = "holdback"
value = 130

[State 3001,Win-Lose]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 50

;---------------------------------------------------------------------------
;Big Bang Attack Aereo 
[Statedef 6000]
type = A
movetype = A
physics = A
anim = 404
velset = 0
ctrl = 0
;poweradd = -1000

[State 730, Seeking]
type = Helper
trigger1 = AnimElem = 3
helpertype = Normal
name = "Galak-Hoo"
id = 3111
pos = 54,-25
postype= p1
facing= 1
stateno= 3111
keyctrl= 0
ownpal= 1

[State 2000,1000]
type = PowerAdd
trigger1 = animelem = 3
value = -300

[State 6000,Para]
type = VelSet
trigger1 = Time < 100
x = 0
y = 0

[State 1000,Som]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3000,7

[State 1000,Som]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3000,1


[State 0]
type = Explod
trigger1 = time=3
persistent = 1
anim = 1035
pos = -6,-91
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.7,0.7

[State 0]
type = Explod
trigger1 = time>=10  && time <25
persistent = 1
anim = 1035
pos = -6,-91
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.8,0.8

[State 0]
type = Explod
trigger1 = time=25
persistent = 1
anim = 1035
pos = -6,-91
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.9,0.9

[State 0]
type = Explod
trigger1 = animelem=2
persistent = 1
anim = 1035
pos = 3,-91
postype = p1
sprpriority = 2
bindtime = 3
removetime=3
ignorehitpause = 3
;scale=0.9,0.9

;[State 6000,Bola]
;type = Projectile
;trigger1 = AnimElem = 2
;projanim = 6500
;projhitanim = 6501
;velocity = 2.2,2
;offset = 65,0
;attr = A, SP
;animtype  = Heavy
;damage    = 100,5
;getpower  = 0
;sparkno = -1
;sparkxy = -1
;guard.sparkno = -1
;priority  = 1
;guardflag = MA
;pausetime = 1,3
;hitsound   = S5,4            
;guardsound = S6,0                
;ground.type = High
;ground.slidetime = 12
;ground.hittime  = 12
;ground.velocity = -2
;air.velocity = -2
;fall.animtype = Hard
;palfx.time=10
;palfx.add=247,247,115
;palfx.mul=247,130,0
;palfx.sinadd=66,196,254,20
;fall = 0

[State 6000,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
;---------------------------------------------------------------------------
;Ki Release
[Statedef 6100]
type = A
movetype = A
physics = A
anim = 6100
velset = 0,0
ctrl = 0

[State 2000,1000]
type = PowerAdd
trigger1 = animelem = 2
value = -5


[state 6100,Para]
type = velset
trigger1 = time >= 0
x = 0
y = 0

[state 6100,ki]
type = projectile
trigger1 = animelem = 2
projanim = 6150
projremovetime = 48
projhits = 3
projmisstime = 4
projremove = 0
velocity = 0,0
offset = -2,-4
attr = A, SA
animtype  = Heavy
damage    = 45,8
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S5,4            
guardsound = S6,0                
ground.type = High
ground.slidetime = 15	
ground.hittime  = 15
ground.velocity = -3,-7.6
air.velocity = -3,-7.6
air.animtype = Back
air.juggle = 1
fall = 1



[State 191,Som]
type = PlaySnd
trigger1 = Time = 24
value = 800,0

[state 6100,spr]
type = sprpriority
trigger1 = time >= 0
value = 3

[State 191,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,0

[state 7000, fim]
type = changestate
trigger1 = (time = 58 && prevstateno != 3001)
value = 50
ctrl = 1

[state 7000, fim]
type = changestate
trigger1 = (time = 58 && prevstateno = 3001)
value = 3001
;---------------------------------------------------------------------------------------
;Big Bang Attack Aereo 
[Statedef 6001]
type = A
movetype = A
physics = A
anim = 404
velset = 0
ctrl = 0
poweradd = -300

[State 6000,Para]
type = VelSet
trigger1 = Time < 100
x = 0
y = 0


[State 730, Seeking]
type = Helper
trigger1 = AnimElem = 3
helpertype = Normal
name = "Galak-Hoo"
id = 3111
pos = 54,-25
postype= p1
facing= 1
stateno= 3111
keyctrl= 0
ownpal= 1

[State 1000,Som]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3000,7

[State 1000,Som]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3000,1

[State 0]
type = Explod
trigger1 = time=3
persistent = 1
anim = 1035
pos = -6,-91
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.7,0.7

[State 0]
type = Explod
trigger1 = time>=10  && time <25
persistent = 1
anim = 1035
pos = -6,-91
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.8,0.8

[State 0]
type = Explod
trigger1 = time=25
persistent = 1
anim = 1035
pos = -6,-91
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.9,0.9

[State 0]
type = Explod
trigger1 = animelem=2
persistent = 1
anim = 1035
pos = 3,-91
postype = p1
sprpriority = 2
bindtime = 3
removetime=3
ignorehitpause = 3
;scale=0.9,0.9

;[State 6000,Bola]
;type = Projectile
;trigger1 = AnimElem = 2
;projanim = 6500
;projhitanim = 6501
;velocity = 2.2,2
;offset = 65,0
;attr = A, SP
;animtype  = Heavy
;damage    = 100,5
;getpower  = 0
;sparkno = -1
;sparkxy = -1
;guard.sparkno = -1
;priority  = 1
;guardflag = MA
;pausetime = 1,3
;hitsound   = S5,4            
;guardsound = S6,0                
;ground.type = High
;ground.slidetime = 14
;ground.hittime  = 14
;ground.velocity = -1
;air.velocity = -1
;fall.animtype = Hard
;palfx.time=10
;palfx.add=247,247,115
;palfx.mul=247,130,0
;palfx.sinadd=66,196,254,20
;fall = 0

[State 6000,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 3001

;Big Bang Attack Aereo
[Statedef 16001]
type = A
movetype = A
physics = A
anim = 10405
velset = 0
ctrl = 0
poweradd = -300

[State 6000,Para]
type = VelSet
trigger1 = Time < 100
x = 0
y = 0


[State 730, Seeking]
type = Helper
trigger1 = AnimElem = 2
helpertype = Normal
name = "Galak-Hoo"
id = 3111
pos = 54,5
postype= p1
facing= 1
stateno= 3111
keyctrl= 0
ownpal= 1

[State 1000,Som]
type = PlaySnd
trigger1 = time=0
value = 3000,3

[State 1000,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,1

[State 0]
type = Explod
trigger1 = time=3
persistent = 1
anim = 1035
pos = -4,-51
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.7,0.7

[State 0]
type = Explod
trigger1 = time>=10  && time <25
persistent = 1
anim = 1035
pos = -4,-51
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.8,0.8

[State 0]
type = Explod
trigger1 = time=25
persistent = 1
anim = 1035
pos = -4,-51
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.9,0.9


[State 6000,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 3001
;---------------------------------------------------------------------------
;Ki Release
[Statedef 6101]
type = A
movetype = A
physics = A
anim = 6100
velset = 0,0
ctrl = 0

[State 2000,1000]
type = PowerAdd
trigger1 = animelem = 2
value = -1000

[State 2000,Pause]
type = superpause
trigger1 = animelem = 1
time = 15
anim = -1

[State 3052,Para]
type = VelSet
trigger1 = Time >= 0
x = 0
y = 0

[state 6100,ki]
type = projectile
trigger1 = animelem = 2
projanim = 6150
projremovetime = 48
projhits = 3
projmisstime = 4
projremove = 0
velocity = 0,0
offset = 0,7
attr = A, SA
animtype  = Heavy
damage    = 45,8
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S5,4            
guardsound = S6,0                
ground.type = High
ground.slidetime = 15	
ground.hittime  = 15
ground.velocity = -3,-7.6
air.velocity = -3,-7.6
air.animtype = Back
air.juggle = 1
fall = 1

[State 191,Som]
type = PlaySnd
trigger1 = Time = 24
value = 800,0

[state 6100,spr]
type = sprpriority
trigger1 = time >= 0
value = 3

[State 191,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,0

[state 6100, fim]
type = changestate
trigger1 = time = 58
value = 50
7
;---------------------------------------------------------------------------
;Big Bang Attack Aereo (Super)
[Statedef 55001]
type = A
movetype = A
physics = A
anim = 5500
velset = 0,0
ctrl = 0
poweradd = -1000

[State 7000,para]
type = velset
trigger1 = time >= 0
x = 0
y = 0

[State 7000,SomSuper]
type = PlaySnd
trigger1 = time = 9
value = F20,0

[State 7000,Som]
type = PlaySnd
trigger1 = time = 11
value = 5500,0

[State 2000, 1]
type = SuperPause
trigger1 = animelem = 2
pos = 21, -41
anim = -1
time = 84

[State 9999,Foto]
type = Explod
trigger1 = AnimElem = 2
anim = 9999
pos = 157,237
ownpal = 1
postype = left
sprpriority = -4
removetime = 84
supermove = 1
supermovetime = 84

[State 2000,Fundo]
type = Envcolor
trigger1 = AnimElem = 2
persistent = 0
ignorehitpause = 1
Time = 84
value = 0, 0, 0
under = 1
supermove = 1

[State 2000,Raio]
type = Explod
trigger1 = AnimElem = 2
anim = 7025
pos = 30,-25
ownpal = 1
;postype = left
sprpriority = 2
removetime = 84
supermovetime = 84

[State 2000,Fumaça]
type = Explod
trigger1 = projcontact(7050) = 1
anim = 7075
pos = 0,0
ownpal = 1
postype = p2
sprpriority = 2
removetime = 27
supermovetime = 27

[State 7000,SomHit]
type = PlaySnd
trigger1 = projcontact(7050) = 1
value = 7075,0
volume = 100

[State 7000,proj]
type = projectile
trigger1 = time = 11
projanim = 7055
projid = 7050
offset = 30,-25
velocity = 12.5,8
attr = S, HP
animtype  = Heavy
damage    = 350,125
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S7050,0
guardsound = S7050,0
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6

[State 5500,Fim]
type = ChangeState
trigger1 = animtime = 0
trigger1 = prevstateno = 3001
value = 3001

[State 5500,Fim]
type = ChangeState
trigger1 = animtime = 0
value = 50
;---------------------------------------------------------------------------
;Big Bang Attack (Super)
[Statedef 7000]
type = S
movetype = A
physics = S
anim = 7000
velset = 0
ctrl = 0

[State 6000,Var(1)]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 6000,Var(1)]
type = VarSet
trigger1 = (command = "holdfwd")
v = 1
value = 1

[State 6000,Var(1)]
type = VarSet
trigger1 = (command = "holdup")
v = 1
value = 2

[State 6000,Var(1)]
type = VarSet
trigger1 = (command = "holddown" && pos y < 0)
v = 1
value = 3

[State 7000,AnimFrente]
type = ChangeAnim
trigger1 = (anim != 7015 && Var(1) <= 1 && time < 74)
;trigger1 = (command = "holdfwd") || (command != "holdup" && command != "holddown")
value = 7015

[State 7000,AnimFrente]
type = ChangeAnim
trigger1 = (anim != 7030 && pos y < 0 && Var(1) = 3 && time < 74)
;trigger1 = (command = "holddown") || (command != "holdup" && command != "holdfwd")
value = 7030

[State 7000,AnimFrente]
type = ChangeAnim
trigger1 = (anim != 7045 && Var(1) = 2 && time < 74)
;trigger1 = (command = "holdup") || (command != "holdfwd" && command != "holddown")
value = 7045

[State 7000,VelSet]
type = velset
trigger1 = 1
x = 0
y = 0

[State 7000,SomSuper]
type = PlaySnd
trigger1 = time = 9
value = F20,0

[State 7000,Som]
type = PlaySnd
trigger1 = time = 11
value = 5500,0

[State 2000, 1]
type = SuperPause
trigger1 = Time = 0
pos = 21, -41
anim = -1
poweradd = -1000
darken = 0
time = 74
movetime = 74

[State 9999,Foto]
type = Explod
trigger1 = Time = 0
anim = 9999
pos = 157,237
ownpal = 1
postype = left
sprpriority = -4
removetime = 74
supermove = 1
supermovetime = 74

[State 2000,Fundo]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
Time = 74
value = 0, 0, 0
under = 1
supermove = 1

[State 2500,Strike]
type = helper
trigger1 = (anim != 7000 && animelem = 1 && numhelper = 0 && time < 74)
helpertype = normal
name = "Bola de Energia"
supermovetime = 84
id = 13050
pos = 30,-50
postype = p1
stateno = 7010
ownpal = 0

[State 2000,Raio]
type = null;Explod
trigger1 = AnimElem = 2
anim = 7025
pos = 30,-50
ownpal = 1
;postype = left
sprpriority = 2
removetime = 84
supermovetime = 84

[State 7000,SomHit]
type = PlaySnd
trigger1 = projcontact(7050) = 1
value = 7075,0
volume = 100

[State 2000,Fumaça]
type = Explod
trigger1 = projcontact(7050) = 1
anim = 7075
pos = 0,0
ownpal = 1
postype = p2
sprpriority = 2
removetime = 27
supermovetime = 27

[State 7000,proj]
type = projectile
trigger1 = (time = 74 && anim = 7015)
projanim = 13010;7050
projid = 7050
offset = 30,-50
velocity = 12.5
attr = S, HP
animtype  = Heavy
damage    = 350,125
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S7050,0
guardsound = S7050,0
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6

[State 7000,proj]
type = projectile
trigger1 = (time = 74 && anim = 7030)
projanim = 13021;7055
projid = 7050
offset = 30,-25
velocity = 10,10
attr = S, HP
animtype  = Heavy
damage    = 350,125
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S7050,0
guardsound = S7050,0
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6

[State 7000,proj]
type = projectile
trigger1 = (time = 74 && anim = 7045)
projanim = 13020;7060
projid = 7050
offset = 30,-80
velocity = 10,-10
attr = S, HP
animtype  = Heavy
damage    = 350,125
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S7050,0
guardsound = S7050,0
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6


[state 7000, fim]
type = changestate
trigger1 = (animtime = 0 && prevstateno != 3001)
value = 0
ctrl = 1

[state 7000, fim]
type = changestate
trigger1 = (animtime = 0 && prevstateno = 3001)
value = 3001
;---------------------------------------------------------------------------
;Big Bang Attack (Super)
[Statedef 7050]
type = S
movetype = A
physics = S
anim = 7000
velset = 0
ctrl = 0

[State 735,Ki]
type = Explod
trigger1 = timemod = 28,0
Anim = 760
Pos = -6,0
Id = 800
sprpriority = -2
removetime = 9984
bindtime = 9984
Postype = p1
Bindtime = 1
SuperMove = 1


[state 735, treme]
type = envshake
trigger1 = timemod = 28,0
time = 74
ampl = 2
 
[State 191,Som]
type = PlaySnd
trigger1 = timemod = 28,0
value = 760,0
channel = 9

[State 6000,Var(1)]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 6000,Var(1)]
type = VarSet
trigger1 = (command = "holdfwd")
v = 1
value = 1

[State 6000,Var(1)]
type = VarSet
trigger1 = (command = "holdup")
v = 1
value = 2

[State 6000,Var(1)]
type = VarSet
trigger1 = (command = "holddown" && pos y < 0)
v = 1
value = 3

[State 7000,AnimFrente]
type = ChangeAnim
trigger1 = (anim != 7015 && Var(1) <= 1 && time < 74)
;trigger1 = (command = "holdfwd") || (command != "holdup" && command != "holddown")
value = 7015

[State 7000,AnimFrente]
type = ChangeAnim
trigger1 = (anim != 7030 && pos y < 0 && Var(1) = 3 && time < 74)
;trigger1 = (command = "holddown") || (command != "holdup" && command != "holdfwd")
value = 7030

[State 7000,AnimFrente]
type = ChangeAnim
trigger1 = (anim != 7045 && Var(1) = 2 && time < 74)
;trigger1 = (command = "holdup") || (command != "holdfwd" && command != "holddown")
value = 7045

[State 7000,VelSet]
type = velset
trigger1 = 1
x = 0
y = 0

[State 7000,SomSuper]
type = PlaySnd
trigger1 = time = 9
value = F20,0

[State 7000,Som]
type = PlaySnd
trigger1 = time = 11
value = 5500,0

[State 2000, 1]
type = SuperPause
trigger1 = Time = 0
pos = 21, -41
anim = -1
poweradd = -2000
darken = 0
time = 74
movetime = 74

[State 9999,Foto]
type = Explod
trigger1 = Time = 0
anim = 9999
pos = 157,237
ownpal = 1
postype = left
sprpriority = -4
removetime = 74
supermove = 1
supermovetime = 74

[State 2000,Fundo]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
Time = 74
value = 0, 0, 0
under = 1
supermove = 1

[State 2500,Strike]
type = helper
trigger1 = (anim != 7000 && animelem = 1 && numhelper = 0 && time < 74)
helpertype = normal
name = "Bola de Energia"
supermovetime = 84
id = 13050
pos = 30,-50
postype = p1
stateno = 7010
ownpal = 0

[State 2000,Raio]
type = null;Explod
trigger1 = AnimElem = 2
anim = 7025
pos = 30,-50
ownpal = 1
;postype = left
sprpriority = 2
removetime = 84
supermovetime = 84

[State 7000,SomHit]
type = PlaySnd
trigger1 = projcontact(7050) = 1
value = 7075,0
volume = 100

[State 2000,Fumaça]
type = Explod
trigger1 = projcontact(7050) = 1
anim = 7075
pos = 0,0
ownpal = 1
postype = p2
sprpriority = 2
removetime = 27
supermovetime = 27

[State 7000,proj]
type = projectile
trigger1 = (time = 74 && anim = 7015)
projanim = 13031;7050
projid = 7050
offset = 30,-50
velocity = 13
attr = S, HP
animtype  = Heavy
damage    = 475,200
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S7050,0
guardsound = S7050,0
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6

[State 7000,proj]
type = projectile
trigger1 = (time = 74 && anim = 7030)
projanim = 13042;7055
projid = 7050
offset = 30,-25
velocity = 10,10
attr = S, HP
animtype  = Heavy
damage    = 475,200
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S7050,0
guardsound = S7050,0
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6

[State 7000,proj]
type = projectile
trigger1 = (time = 74 && anim = 7045)
projanim = 13041;7060
projid = 7050
offset = 30,-80
velocity = 10,-10
attr = S, HP
animtype  = Heavy
damage    = 475,200
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S7050,0
guardsound = S7050,0
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6


[state 7000, fim]
type = changestate
trigger1 = (animtime = 0 && prevstateno != 3001)
value = 0
ctrl = 1

[state 7000, fim]
type = changestate
trigger1 = (animtime = 0 && prevstateno = 3001)
value = 3001
;---------------------------------------------------------------------------
;Big Bang Attack (Bola de Energia)
[Statedef 7010]
type = S
movetype = A
physics = S
anim = 7025
sprpriority = 2
velset = 0
ctrl = 0

[state 13050,PosAdd]
type = PosAdd
trigger1 = (Time = 0 && Prevstateno = 7020)
y = 30

[state 13050,PosAdd]
type = PosAdd
trigger1 = (Time = 0 && Prevstateno = 7030)
y = -25


[state 13500,Cima]
type = changestate
trigger1 = (parent, anim = 7045)
value = 7020

[state 13500,Cima]
type = changestate
trigger1 = (parent, anim = 13030)
value = 13060

[state 13050, sumir]
type = destroyself
trigger1 = (parent, numproj != 0) || (parent, stateno != 7000 && parent, stateno != 7050)
;---------------------------------------------------------------------------
;Big Bang Attack (Bola de Energia)
[Statedef 7020]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0

[state 13050,PosAdd]
type = PosAdd
trigger1 = (Time = 0 && Prevstateno = 7010)
y = -30

[state 13050,PosAdd]
type = PosAdd
trigger1 = (Time = 0 && Prevstateno = 7030)
y = -55

[state 13500,Cima]
type = changestate
trigger1 = (parent, anim = 7015)
value = 7010

[state 13500,Cima]
type = changestate
trigger1 = (parent, anim = 7030)
value = 7030

[state 13050, sumir]
type = destroyself
trigger1 = (parent, numproj != 0) || (parent, stateno != 7000 && parent, stateno != 7050)
;---------------------------------------------------------------------------
;Big Bang Attack (Bola de Energia)
[Statedef 7030]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0

[state 13500,Cima]
type = changestate
trigger1 = (parent, anim = 7045)
value = 7020

[state 13500,Cima]
type = changestate
trigger1 = (parent, anim = 7015)
value = 7010

[state 13050,PosAdd]
type = PosAdd
trigger1 = (Time = 0 && Prevstateno = 7020)
y = 55

[state 13050,PosAdd]
type = PosAdd
trigger1 = (Time = 0 && Prevstateno = 7010)
y = 25

[state 13050, sumir]
type = destroyself
trigger1 = (parent, numproj != 0) || (parent, stateno != 7000 && parent, stateno != 7050)
;---------------------------------------------------------------------------
;MvsC Super Pulo Cima
[Statedef 7100]
type    = A
physics = N
anim = 7100
ctrl = 0

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 40
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[state 7110,ctrl]
type = ctrlset
trigger1 = time >= 1
value = 1

[state 7110, cima]
type = velset
trigger1 = animelem = 1
x = 0
y = -14

[state 7110, cima]
type = veladd
trigger1 = vel y < 0
x = 0
y = .25

[state 7100,fim]
type = changestate
trigger1 = time = 20
value = 50
ctrl = 1

;MvsC Super Pulo Frente
[Statedef 7110]
type    = A
physics = N
anim = 7100
ctrl = 0

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 40
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[state 7110, cima]
type = veladd
trigger1 = vel y < 0
x = 0
y = .25

[state 7110,ctrl]
type = ctrlset
trigger1 = time >= 1
value = 1

[state 7110, cima]
type = velset
trigger1 = animelem = 1
x = 3.5
y = -14


[state 7100,fim]
type = changestate
trigger1 = time = 20
value = 50
ctrl = 1

;MvsC Super Pulo Tras
[Statedef 7120]
type    = A
physics = N
anim = 7100
ctrl = 0

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 40
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[state 7110, cima]
type = veladd
trigger1 = vel y < 0
x = 0
y = .25

[state 7110,ctrl]
type = ctrlset
trigger1 = time >= 1
value = 1

[state 7110, cima]
type = velset
trigger1 = animelem = 1
x = -3.5
y = -14


[state 7100,fim]
type = changestate
trigger1 = time = 20
value = 50
ctrl = 1
; ------------------------------------
[Statedef 7201]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0

[State 1004, 0]
type = VelSet
trigger1 = 1
x = 10

[state 7100,fim]
type = changestate
trigger1 =p2bodydist x < 5
value =7200
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 7200]
type = S
movetype = A
physics = S
juggle = 5
poweradd= 60
ctrl = 0
facep2 = !(PrevStateno = 9000)

[State 0]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 215
value = 215

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 7222

[Statedef 7222]
type = A
movetype = A
physics = A
juggle = 5
velset = 2,-6
facep2 = !(PrevStateno = 9000)
ctrl = 0

[State 0]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 214
value = 214

[State 0]
type = PlaySnd
trigger1 = AnimElem = 3
value = 200, 1

[State 0]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3000, 0

[State 0]
type = Explod
trigger1 = movehit
persistent = 0
anim = 555
pos = 40,-40
postype = p1
sprpriority = 2
bindtime = 1
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = moveguarded
persistent = 0
anim = 556
pos = 40,-40
postype = p1
sprpriority = 2
bindtime = 1
ignorehitpause = 1

[State 0]
type = HitDef
trigger1 =time = 0
attr = A, SA
animtype  = Down
damage = 40, 10
getpower = 20,5
givepower = 20,10
guardflag = MA
pausetime = 3,12
sparkno = -1
guard.sparkno = -1
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
air.type = low
ground.slidetime = 5
ground.hittime = 5
air.hittime = 5
ground.velocity = 0,20
air.velocity = 0,20
fall = 1
fall.damage = 70
fall.envshake.ampl = 10      ;Parameters for shaking the screen on fall
fall.envshake.freq = 178
fall.envshake.time = 15
mindist = 50,-100            ;Keep p2 a minimum of 50 pixels away from p1, and no higher than 100 pixels up
maxdist = 100,-10            ;Keep p2 a maximum of 100 pixels away from p1, and no lower than 10 pixels below
yaccel = .8


[State 0]
type = veladd
trigger1 = Time = 0
y = -.4

[State 0]
type = veladd
trigger1 = Time >= 18
y = .1

[State 0]
type = ChangeState
trigger1 = Time >= 27
value = 50
;---------------------------------------------------------------------------
;50 Renzokus
[Statedef 7500]
type = S
movetype = A
physics = S
;anim = 7500
velset = 0,0
ctrl = 0



[state 7200,fim]
type = changestate
trigger1 = time =0
value = 2930
ctrl = 1

;---------------------------------------------------------------------------
;Driving Elbow
[Statedef 7600]
type = S
movetype = A
physics = S
anim = 7600
velset = 0,0
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 =  time =[8,70]
value =  -2
ignorehitpause = 1
persistent = 1


[State 1000,Som]
type = PlaySnd
trigger1 = animelem = 1
value = 3000,0 
volume=255

[State 1000,Som]
type = PlaySnd
trigger1 = animelem = 2
value = 200,0 
volume=255

[State 1000,Som]
type = PlaySnd
trigger1 = animelem = 6
value = 200,1
volume=255

[State 7600,1]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
animtype  = Hard
damage    = 75,35
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 6,6
sparkxy = 3,-40
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 26
ground.hittime  = 12
ground.velocity = -7
air.velocity = -7

[State 7600,1]
type = HitDef
trigger1 = AnimElem = 7 && Var(10) 
attr = S, SA
animtype  = Hard
damage    = 75,35
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 6,6
sparkxy = 0,-20
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 26
ground.hittime  = 12
ground.velocity = -7
air.velocity = -7
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[state 7600,vel]
type = velset
trigger1 = animelem = 5
trigger2 = animelem = 6
x = P2BodyDist X / 10      
y = 0

[state 7600,vel1]
type = velset
trigger1 = animelem = 7
x = P2BodyDist X / 5      ;4.5
y = 0

[state 7600,vel2]
type = velset
trigger1 = animelem = 8
x = P2BodyDist X / 10      
y = 0

[state 7600,fim]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Back Elbow
[Statedef 7700]
type = S
movetype = A
physics = S
anim = 7700
velset = 0,0
ctrl = 0

[State 7600,1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype  = Hard
damage    = 75,35
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 6,6
sparkxy = -10,-60
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Trip
ground.slidetime = 26
ground.hittime  = 12
ground.velocity = -7,-5
air.velocity = -7,-5

[state 7600,vel]
type = veladd
trigger1 = time >= 5
trigger1 = time <= 19
trigger2 = time >= 24
trigger2 = time <= 35
x = 2
y = 0

[state 7600,vel.0]
type = velset
trigger1 = animelem = 3
trigger2 = animelem = 6
x = 0
y = 0

[state 7600,vira]
type = turn
trigger1 = animelem = 4
value = 1

[state 7600,fim]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Sway Elbow
[Statedef 7800]
type = S
movetype = A
physics = S
anim = 7800
velset = 0,0
ctrl = 0

[State 7600,1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype  = Hard
damage    = 75,35
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 6,6
sparkxy = -10,-60
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Trip
ground.slidetime = 26
ground.hittime  = 12
ground.velocity = -7,-5
air.velocity = -7,-5

[state 7600,vel]
type = veladd
trigger1 = time >= 5
trigger1 = time <= 19
x = -2
y = 0

[state 7600,vel]
type = veladd
trigger1 = time >= 24
trigger1 = time <= 45
x = 2
y = 0

[state 7600,vel.0]
type = velset
trigger1 = animelem = 3
trigger2 = animelem = 6
x = 0
y = 0

[state 7600,vira]
type = null;turn
trigger1 = animelem = 4
value = 1

[state 7600,fim]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Dash Elbow
[Statedef 7900]
type = S
movetype = A
physics = S
anim = 7900
velset = 0,0
ctrl = 0

[State 7600,1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = Hard
damage    = 75,35
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 6,6
sparkxy = -10,-60
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Trip
ground.slidetime = 26
ground.hittime  = 12
ground.velocity = -7,-5
air.velocity = -7,-5

[state 7600,vel]
type = veladd
trigger1 = time >= 4
trigger1 = time <= 24
x = 2.7
y = 0

[state 7600,vel.0]
type = velset
trigger1 = animelem = 1
trigger2 = animelem = 3
x = 0
y = 0


[state 7600,vira]
type = null;turn
trigger1 = animelem = 4
value = 1

[state 7600,fim]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Dash Bomb Attack
[Statedef 8100]
type = S
movetype = A
physics = S
anim = 8100
velset = 0,0
ctrl = 0

[state 8000,Vel]
type = VelSet
trigger1 = Time >= 18
x = 10
y = 0

[state 7600,fim]
type = changestate
trigger1 = P2BodyDist X <= 20
value = 8150

[state 7600,fim]
type = changestate
trigger1 = Time = 80
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Dash Bomb Attack
[Statedef 8150]
type = S
movetype = A
physics = S
anim = 8150
velset = 0,0
ctrl = 0

[State 7600,1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = Hard
damage    = 80,40
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 10,10
sparkxy = -5,-40
hitsound   = S5,4
guardsound = S6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2,-3
air.velocity = -2,-3

[state 7600,fim]
type = changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Jump Bomb Attack
[Statedef 8200]
type = A
movetype = A
physics = N
anim = 8200
velset = 0,0
ctrl = 0

[state 8000,Vel]
type = VelSet
trigger1 = Time >= 0
x = 4

[state 8000,Vel]
type = VelSet
trigger1 = AnimElem = 1
y = -5

[state 8000,Vel]
type = VelAdd
trigger1 = Time >= 1
x = 0
y = .4

;---------------------------------------------------------------------------
;Jump Bomb Attack
[Statedef 8250]
type = A
movetype = A
physics = N
anim = 8250
velset = 0,0
ctrl = 0

[State 7600,1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = Hard
damage    = 80,40
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 10,10
sparkxy = -5,-40
hitsound   = S5,4
guardsound = S6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2,-3
air.velocity = -2,3

[state 8000,Vel]
type = VelSet
trigger1 = AnimElem = 4, > 4
x = -2.5
y = -2.5

[state 8000,Vel]
type = VelMul
trigger1 = Vel Y < 0
trigger1 = Vel X < 0
x = .3
y = .3

[state 8000,Vel]
type = VelSet
trigger1 = AnimTime = 0
x = 0

[state 7000, fim]
type = changestate
trigger1 = (animtime = 0 && prevstateno != 3001)
value = 50
ctrl = 1

[state 7000, fim]
type = changestate
trigger1 = (animtime = 0 && prevstateno = 3001)
value = 3001

;---------------------------------------------------------------------------
; Knee Attack Counter
[Statedef 2702]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 130
ctrl = 0
sprpriority = 3

[State 2000,Pause]
type = superpause
trigger1 = animelem = 1
time = 25
anim = -1


[State 2800,Nohit]
type = NotHitBy
trigger1 = Pos Y < 0 && Vel Y != 0
value = ,NP,SP,NA,SA
time = 1

[State 2700,Fim]
type = ChangeState
trigger1 = Time=1
value = 8301
;---------------------------------------------------------------------------
; Knee Attack Counter
[Statedef 12702]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 10130
ctrl = 0
sprpriority = 3

[State 2000,Pause]
type = superpause
trigger1 = animelem = 1
time = 25
anim = -1


[State 2800,Nohit]
type = NotHitBy
trigger1 = Pos Y < 0 && Vel Y != 0
value = ,NP,SP,NA,SA
time = 1

[State 2700,Fim]
type = ChangeState
trigger1 = Time=1
value = 18301


;---------------------------------------------------------------------------
; Knee Attack Counter
[Statedef 2703]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 130
ctrl = 0
sprpriority = 3

[State 2000,Pause]
type = superpause
trigger1 = animelem = 1
time = 25
anim = -1


[State 2800,Nohit]
type = NotHitBy
trigger1 = Pos Y < 0 && Vel Y != 0
value = ,NP,SP,NA,SA
time = 1

[State 2700,Fim]
type = ChangeState
trigger1 = Time=1
value = 12900
;---------------------------------------------------------------------------
; Knee Attack Counter
[Statedef 2704]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 130
ctrl = 0
sprpriority = 3

[State 2000,Pause]
type = superpause
trigger1 = animelem = 1
time = 25
anim = -1


[State 2800,Nohit]
type = NotHitBy
trigger1 = Pos Y < 0 && Vel Y != 0
value = ,NP,SP,NA,SA
time = 1

[State 2700,Fim]
type = ChangeState
trigger1 = Time=1
value = 2900
;---------------------------------------------------------------------------
; Knee Attack Counter
[Statedef 2705]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 130
ctrl = 0
sprpriority = 3

[State 2000,Pause]
type = superpause
trigger1 = animelem = 1
time = 25
anim = -1


[State 2800,Nohit]
type = NotHitBy
trigger1 = Pos Y < 0 && Vel Y != 0
value = ,NP,SP,NA,SA
time = 1

[State 2700,Fim]
type = ChangeState
trigger1 = Time=1
value = 2930

;---------------------------------------------------------------------------
; Knee Attack Counter
[Statedef 2706]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 130
ctrl = 0
sprpriority = 3

[State 2000,Pause]
type = superpause
trigger1 = animelem = 1
time = 25
anim = -1


[State 2800,Nohit]
type = NotHitBy
trigger1 = Pos Y < 0 && Vel Y != 0
value = ,NP,SP,NA,SA
time = 1

[State 2700,Fim]
type = ChangeState
trigger1 = Time=1
value = 7200
;---------------------------------------------------------------------------
; Knee Attack Counter
[Statedef 2707]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 130
ctrl = 0
sprpriority = 3

[State 2000,Pause]
type = superpause
trigger1 = animelem = 1
time = 25
anim = -1


[State 2800,Nohit]
type = NotHitBy
trigger1 = Pos Y < 0 && Vel Y != 0
value = ,NP,SP,NA,SA
time = 1

[State 2700,Fim]
type = ChangeState
trigger1 = Time=1
value = 216
;---------------------------------------------------------------------------
;Strong Slide
[Statedef 8300]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 8300
ctrl = 0

[State 200,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200, 1


[State 0]
type = HitDef
trigger1 =var(6)!=1
trigger1 = AnimElem=2
trigger1 = command = "holdback"  || command = "holdback"
trigger2 =animElem=2 && Random < 420
attr = S, NT
priority = 2, miss
sparkno = S556
sparkxy = 15,-39
hitsound= S5,5
snap = 32,0,0,1
p1Stateno = 83502
p2Stateno = 502

[State 0]
type = HitDef
trigger1 = AnimElem=3
trigger1 =var(6)!=1
trigger1 = command = "holdback"  || command = "holdback"
trigger2 =animElem=3 && Random < 420
attr = S, NT
priority = 2, miss
sparkno = S556
sparkxy = 15,-39
hitsound= S5,5
snap = 32,0,0,1
p1Stateno = 83503
p2Stateno = 502

[State 0]
type = HitDef
trigger1 = AnimElem=4
trigger1 =var(6)!=1
trigger1 = command = "holdback"  || command = "holdback"
trigger2 =Var(6)=1
trigger2 =animElem=4 && Random < 420
attr = S, NT
priority = 2, miss
sparkno = S556
sparkxy = 15,-39
hitsound= S5,5
snap = 32,0,0,1
p1Stateno = 83501
p2Stateno = 502

[State 2900,1]
type = HitDef
trigger1 =var(6)!=1
trigger1 = command != "holdback" || command != "holdback"
trigger1 = animElem =2  || animElem =3 ||  AnimElem=4
trigger2 = Var(6)=1
trigger2 =Random > 420 && animElem =2
trigger3 = Var(6)=1
trigger3 =Random > 420 && animElem =3
trigger4 = Var(6)=1
trigger4 =Random > 420 &&   AnimElem=4
attr = S, HA
animtype  = Hard
damage    = 80,11
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 7,0
sparkno=S555
sparkxy = 18,-40
hitsound   = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -4
air.velocity = -4



[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =movecontact
trigger1 =animElem =3  || animElem =4
value = 8300
elem =  5
ignorehitpause = 7

[State 2900,Fim]
type = ChangeState
trigger1 = movecontact=1
trigger1 =time < 16
value = 8329
ctrl = 0

[State 2900,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 8329]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =time=0
value = 8300
elem =  6
ignorehitpause = 1

[State 2900,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




[Statedef 83501]
type = S
movetype = A
physics = S
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time=0
value =  8300
elem =  4
ignorehitpause = 1
persistent = 1


[State 2000,Som]
type = PlaySnd
trigger1 = animelem = 4
value = 3000, 0

[State 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 0]
type = TargetLifeAdd
trigger1 = Animtime = 0
value = -60

[State 0]
type = TargetBind
trigger1 = AnimElem = 4
pos = 70,0

[State 0]
type = TargetBind
trigger1 = AnimElem = 5
pos = 45,0

[State 0]
type = TargetBind
trigger1 = AnimElem = 6
pos = 35,0


[State 0]
type = TargetState
trigger1 = AnimElem = 6
value = 2778


[State 0]
type = ChangeState
trigger1 = AnimElem = 6
value = 83502
ctrl = 0

[Statedef 83502]
type = S
movetype = A
physics = S
velset = 0,0

[State 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 0]
type = TargetState
trigger1 = time=5
value = 2778

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time=0
value =  8300
elem =  6
ignorehitpause = 1
persistent = 1

[State 0]
type = TargetBind
trigger1 = AnimElem = 6  && Anim=8300
pos = 35,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time=5
value =29502
elem = 0
ignorehitpause = 1
persistent = 1

[State 0]
type = TargetBind
trigger1 = AnimElem = 1  && Anim=29502
pos = 15,-35

[State 0]
type = PlaySnd
trigger1 = AnimElem = 3 && Anim=203
value = 200, 1

[State 0]
type = PlaySnd
trigger1 = AnimElem = 3 && Anim=203
value = 3000, 0


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =AnimElem = 2 &&  Anim=29502
value =203
elem = 0
ignorehitpause = 1
persistent = 1

[State 0]
type = TargetBind
trigger1 = AnimElem = 1  && Anim=203
pos = 5,-10

[State 0]
type = TargetBind
trigger1 = AnimElem = 2  && Anim=203
pos = 25,-5

[State 0]
type = TargetBind
trigger1 = AnimElem = 3  && Anim=203
pos = 45,-5

[State 0]
type = Explod
trigger1 = moveguarded
persistent = 0
anim = 556
pos = 40,-85
postype = p1
sprpriority = 2
bindtime = 1
ignorehitpause = 1

[State 230, 2]
type = HitDef
trigger1 = AnimElem = 3 && Anim=203
attr = S, HA
animtype  = Heavy
damage    = 61
guardflag = MA
pausetime = 1,7
sparkxy = -10,-50
hitsound   = S5,3
guardsound = S6,0
ground.type = Trip
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -25,-5
air.velocity = -25,-5
fall = 1
fall.damage = 40
p2stateno = 2935
fall.envshake.ampl = 3       ;Parameters for shaking the screen on fall
fall.envshake.freq = 178
fall.envshake.time = 15
mindist = 50,-100            ;Keep p2 a minimum of 50 pixels away from p1, and no higher than 100 pixels up
maxdist = 100,-10            ;Keep p2 a maximum of 100 pixels away from p1, and no lower than 10 pixels below
yaccel = .8



[State 0]
type = ChangeState
trigger1 = animtime=0
value = 0
ctrl = 1


[Statedef 83503]
type = S
movetype = A
physics = S
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time=0
value =  8300
elem =  5
ignorehitpause = 1
persistent = 1


[State 2000,Som]
type = PlaySnd
trigger1 = animelem = 5
value = 3000, 0

[State 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 0]
type = TargetLifeAdd
trigger1 = Animtime = 0
value = -60

[State 0]
type = TargetBind
trigger1 = AnimElem = 5
pos = 45,0

[State 0]
type = TargetState
trigger1 = AnimElem = 6
value = 2778


[State 0]
type = ChangeState
trigger1 = AnimElem = 6
value = 83502
ctrl = 0

;---------------------------------------------------------------------------
;chute corrida
[Statedef 8301]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0

[State 8300,começo]
type = ChangeAnim
trigger1 = Time = 0
value = 8301

[State 200,Som]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
value = 200, 1

[State 2900,Corr]
type = VelSet
trigger1 = time > 6
x = 10
y = 0

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 7
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0]
type = MakeDust
trigger1 = vel X >= 6 && (Pos Y = 0) && (GameTime%3)=0
spacing = 1


[State 2900,1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
animtype  = Hard
damage    = 65,30
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 8,7
sparkxy = 0,-40
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 52
ground.hittime  = 52
ground.velocity = -3
air.velocity = -4
envshake.time= 20
envshake.freq = 70
envshake.ampl = -4

[State 2900,1]
type = HitDef
trigger1 = AnimElem = 2 && Var(10) 
attr = S, HA
animtype  = Hard
damage    = 65,30
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 8,7
sparkxy = 0,-40
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 52
ground.hittime  = 52
ground.velocity = -3
air.velocity = -4
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 2900,Fim]
type = ChangeState
trigger1 = Movehit=1
value = 2920
ctrl = 1


[State 2900,Fim]
type = ChangeState
trigger1 = AnimTime = 0 || Movecontact=1
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;chute corrida
[Statedef 18301]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0

[State 8300,começo]
type = ChangeAnim
trigger1 = Time = 0
value = 18301

[State 200,Som]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
value = 200, 1

[State 2900,Corr]
type = VelSet
trigger1 = time > 6
x = 6
y = 0

[State 0]
type = MakeDust
trigger1 = vel X >= 6 && (Pos Y = 0) && (GameTime%3)=0
spacing = 1


[State 2900,1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
animtype  = Hard
damage    = 65,30
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 8,7
sparkxy = 0,-20
hitsound   = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 52
ground.hittime  = 52
ground.velocity = -3
air.velocity = -4

[State 2900,1]
type = HitDef
trigger1 = AnimElem = 2 && Var(10)
attr = S, HA
animtype  = Hard
damage    = 65,30
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 8,7
sparkxy = 0,-40
hitsound   = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 52
ground.hittime  = 52
ground.velocity = -3
air.velocity = -4
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 2900,Fim]
type = ChangeState
trigger1 = Movehit=1
value = 12920
ctrl = 1


[State 2900,Fim]
type = ChangeState
trigger1 = AnimTime = 0 || Movecontact=1
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Ki Release
[Statedef 8400]
type = S
movetype = A
physics = S
anim = 6100
velset = 0,0
ctrl = 0

[State 2000,1000]
type = PowerAdd
trigger1 = animelem = 2
value = -5

[state 6100,ki]
type = projectile
trigger1 = animelem = 2
projanim = 6150
projremovetime = 48
projhits = 3
projmisstime = 4
projremove = 0
velocity = 0,0
offset = -2,-4
attr = A, SA
animtype  = Heavy
damage    = 45,8
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S5,4            
guardsound = S6,0                
ground.type = High
ground.slidetime = 15	
ground.hittime  = 15
ground.velocity = -3,-7.6
air.velocity = -3,-7.6
air.animtype = Back
air.juggle = 1
fall = 1


[state 6100,ki]
type = projectile
trigger1 = animelem = 2
projanim = 4
projremovetime = 48
projhits = 3
projmisstime = 4
projremove = 0
velocity = 0,0
offset = -2,-2
attr = A, SA
animtype  = Heavy
damage    = 45,8
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S5,4            
guardsound = S6,0                
ground.type = High
ground.slidetime = 15	
ground.hittime  = 15
ground.velocity = -3,-7.6
air.velocity = -3,-7.6
air.animtype = Back
air.juggle = 1
fall = 1

[State 735,Ki]
type = Explod
trigger1 = animelem = 2
trigger1 = pos y = 0
Anim = 2
Pos = -2,-7
;Id = 800
sprpriority = -2
removetime =48
bindtime = 18
Postype = p1
Bindtime = 1
SuperMove = 1

[State 191,Som]
type = PlaySnd
trigger1 = Time = 24
value = 800,0

[state 6100,spr]
type = sprpriority
trigger1 = time >= 0
value = 3

[State 191,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,0

[state 6100, fim]
type = changestate
trigger1 = time = 58
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Suicide Bomb
[Statedef 8000]
type = S
movetype = A
physics = S
juggle = 4
;poweradd = -3000
ctrl = 0
;anim = 10042


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=0
trigger2 = time >=32
value =100
ignorehitpause = 1
persistent = 1

[State 3000,Super B]
type = PlaySnd
trigger1 =time=11
value = 4000,0

[State 0]
type = posadd
trigger1 = Time = 11
x = (P2Dist X) +55
y =  -0

[State 0, Turn]
type = Turn
trigger1 = time=11
ignorehitpause = 0
persistent = 1


[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 20
trans = add1
TimeGap  = 3
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1



[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=11
value =40
ignorehitpause = 1
persistent = 1

[State 0, HitDef]
type = Projectile
trigger1 =  Time = 11
projanim= 555
projremovetime=3
attr = S, NT
;guardflag =
;hitflag = M-
sparkno = -1
sparkxy = 0, 0
;pausetime = 8,8
priority = 2,miss ;dodge
;p1stateno = 801
;p2stateno = 2778
;snap = 32,0,0,1
p2facing = 1
;givepower = 50
;getpower =  ifelse(var(5)=0,100,0)
ground.hittime = 80
air.hittime = 80
ground.velocity= -10
air.velocity= -5


[State 1003, 0]
type = ScreenBound
trigger1 = time>=0
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 =  time>=0
value = 0,0

[State 1003, 3]
type = ChangeState
trigger1 =time=30
value = 80501
ctrl = 0




[Statedef 80501]
type = S
movetype = A
physics = S
velset = 0,0
;anim=10230
poweradd=-1500

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =time=0
value =  2001
elem = 3


[State 1700,6]
type = Explod
trigger1 = time = 1
anim = 8585
ID=8585
pos = -320,-0
postype = Right
sprpriority = -9
supermove = 1
ownpal = 1
removetime = 45
bindtime = -1

[State 0]
type = SuperPause
trigger1 = Time = 1
anim = -1
pos = -2, -31
time = 45
sound = F20, 0

[State 2000,Fundo]
type = Envcolor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
Time = 45
value = 0, 0, 0
under = 1
supermove = 1

[State 200, 3]
type = ChangeState
trigger1 = Time = 2
value = 80503
ctrl = 0


[Statedef 80503]
type = S
movetype = A
physics = S
velset = 0,0
anim=12100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=2
value = 3000,9

[State 1003, 0]
type = ScreenBound
trigger1 = time>=0
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 =  time>=0
value = 0,0

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
;guardflag =
;hitflag = M-
sparkno = -1
sparkxy = 0, 0
;pausetime = 8,8
priority = 2,miss ;dodge
;p1stateno = 801
p2stateno = 2778
;snap = 32,0,0,1
p2facing = 1
;givepower = 50
;getpower =  ifelse(var(5)=0,100,0)
ground.hittime = 80
air.hittime = 80
ground.velocity=-1
air.velocity=-1

[State 0, Explod]
type = Explod
trigger1 = time= 38
anim = 619
ID = 619
pos = -10,-50
postype = p2
vel = 0,0
random = 0,0
removetime = -2
supermove = 0
pausemovetime = 0
scale = 1, 1
sprpriority = 33

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=34
value = 3000,1


[State 730, Seeking]
type = Helper
trigger1 = time=49
helpertype = Normal
name = "sbola"
id = 8001
pos = -10,-50
postype= p2
facing= 1
stateno= 8001
keyctrl= 0
ownpal= 1

[State 730, Seeking]
type = Helper
trigger1 = NumHelper(687)=1 ; &&   Parent, FrontEdgeBodyDist != [0,115]
helpertype = Normal
name = "parentgolpe"
id = 677
pos = -10,50
postype= p1
facing= -1
stateno= 677
keyctrl= 0
ownpal= 1


[State 200, 3]
type = ChangeState
trigger1 = time=33 && p2stateno!=656
value = 0
ctrl = 1

[State 200, 3]
type = ChangeState
trigger1 = NumHelper(677)=1
value = 80021
ctrl = 0

[Statedef 80021]
type = S
physics = S
movetype = A
ctrl = 0
poweradd=-1500

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = AllPalFX
trigger1 = anim=5900 && animElem=3
time = 10
add = 80,80,180
mul = 256,256,256
sinadd = -50,-50,-50,10
invertall = 0
color = 256

[State 0, PalFXWiz]
type = PalFX
trigger1 =  time=0
time = 28
add = 20,20,20
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 0, EnvShake]
type = EnvShake
trigger1 = anim=5900 && animElem=3
time = 10
freq = 120
ampl = -29
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim=5900 && animElem=3
value = 3000,7

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time=0
value =5900
Elem=2

[State 0, Pause]
type = Pause
trigger1 =  time=[1,14]
time = 4
movetime = 1
supermovetime = 1


[State 1003, 0]
type = ScreenBound
trigger1 = time>=0
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 =  time>=0
value = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim=5900 && animElem=4
value =0

[State 200, 3]
type = ChangeState
trigger1 = animTime = 0
value = 2970
ctrl = 0


[Statedef 8001]
type = S
physics = S
movetype = A
ctrl = 0
poweradd=-1500
anim=123

[State 0, VelSet]
type = VelSet
trigger1 = (GameTime%7)=0  &&   BackEdgeBodyDist >= 35
x = -9
y = 0



[State 1003, 0]
type = ScreenBound
trigger1 = time>=0
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 =time>=0
value = 50,50


[State 0]
type = HitDef
trigger1 =time>=0 && (GameTime%7)=0  ; &&   BackEdgeBodyDist >= -32
attr = S, NA
Animtype = Hard
damage = 0,0
pausetime = 3,0
priority = 1, Hit
numhits = 0
sparkno = 3
sparkxy = -2,9
hitsound = s3000,2
guardsound = 6,0
Animtype = Med
ground.type = High
ground.slidetime = 900
ground.hittime = 900
air.hittime = 900
ground.velocity = 5.0,0
air.velocity = 5.0,0
down.velocity = 5.0,0
p2stateno =2778
p2facing = -1
fall = 0
fall.recover = 0
envshake.time 	= 20
envshake.freq 	= 70
envshake.ampl 	= -3


[State 999,Sombra]
type = AfterImage
trigger1 = Time = 2
time = 2
trans = add1
TimeGap  = 3
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1



[State 0]
type = changeState
trigger1 = time=50  ||   BackEdgeBodyDist < -32 && time > 8
value = 8002
ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time=51



[Statedef 8002]
type = S
physics = S
movetype = A
ctrl = 0
anim=123


[State 730, Seeking]
type = Helper
trigger1 = time=1    &&   Parent,FrontEdgeBodyDist != [0,200]
helpertype = Normal
name = "volta"
id = 647
pos = -10,50
postype= p2
facing= 1
stateno= 647
keyctrl= 0
ownpal= 1


[State 730, Seeking]
type = Helper
trigger1 = time=30   ; &&   Parent, FrontEdgeBodyDist != [0,115]
helpertype = Normal
name = "revolta"
id = 687
pos = -10,50
postype= p1
facing= -1
stateno= 687
keyctrl= 0
ownpal= 1

[State 0, Pause]
type = Pause
trigger1 = time=48
time =3
movetime = 3


[State 0]
type = HitDef
trigger1 =time>=48  && Parent,stateno=80021
attr = S, NA
Animtype = U
damage = 445,0
pausetime = 0,0
priority = 1, Hit
numhits = 1
sparkno = 3
sparkxy = -2,-29
hitsound = s3000,4
guardsound = 6,0
Animtype = Med
ground.type = High
ground.slidetime = 900
ground.hittime = 900
air.hittime = 900
ground.velocity = 0,-23
air.velocity = 0,-13
down.velocity = -0,-13
fall = 1
fall.recover = 0
envshake.time 	= 30
envshake.freq 	= 130
envshake.ampl 	= 16
fall.damage = 100
fall.envshake.ampl = 4       ;Parameters for shaking the screen on fall
fall.envshake.freq = 178
fall.envshake.time = 15
mindist = 0,-30            ;Keep p2 a minimum of 50 pixels away from p1, and no higher than 100 pixels up
maxdist = 0,-0            ;Keep p2 a maximum of 100 pixels away from p1, and no lower than 10 pixels below
yaccel = 1.8

[State 0, PalFXWiz]
type = AllPalFX
trigger1 = time>=0
time =  40
add = -90,-90,-90
mul = 150,150,150
sinadd = 0,0,0,0
invertall = 0
color = 150
ignorehitpause = 20
persistent = 10

;[State 0, PalFXWiz]
;type = AllPalFX
;trigger1 = movehit=1
;time =  30
;add = 200,200,200
;mul = 250,250,250
;sinadd = -50,-50,-50 ,30
;invertall = 0
;color = 256
;ignorehitpause = 20
;persistent = 10

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = AllPalFX
trigger1 = movehit=1
time =  20
add = 240,240,200
mul = 256,256,256
sinadd = -90,-90,-90,20
invertall = 0
color = 100
ignorehitpause = 20
persistent = 10

[State 0, Pause]
type = Pause
trigger1 = movehit=1  && time>=0
time =30
movetime = 20

[State 0, DestroySelf]
type = DestroySelf
trigger1 = movehit=1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time=58

[Statedef 8003]
type = S
movetype = A
physics = S
velset = 0,0
anim=10230

[State 3000,Super B]
type = PlaySnd
trigger1 =AnimElem = 2
value = 200,0

;[State 1102, pos]
;type = Posset
;trigger1 = time = 0
;y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time=0
x =  0
y = 0
ignorehitpause = 1
persistent = 1


[State 0]
type = HitDef
trigger1 = AnimElem = 2 && Anim=10230  && Pos y > -75
attr = S, NA
Animtype = Hard
damage = 0,0
pausetime = 0,0
priority = 1, Hit
numhits = 1
sparkno = 1
sparkxy = -2,-39
hitsound = s5,5
guardsound = 6,0
Animtype = Med
ground.type = High
ground.slidetime = 900
ground.hittime = 900
air.hittime = 900
ground.velocity = -964,-2
air.velocity = -964,-2
down.velocity = -964,0
p2stateno =2935
fall = 1
fall.recover = 0
envshake.time 	= 20
envshake.freq 	= 70
envshake.ampl 	= -3

[State 0]
type = HitDef
trigger1 = AnimElem = 2 && Anim=10230  && Pos y > -45
attr = S, NA
Animtype = Hard
damage = 0,0
pausetime = 0,0
priority = 1, Hit
numhits = 1
sparkno = 1
sparkxy = -2,-39
hitsound = s5,5
guardsound = 6,0
Animtype = Med
ground.type = High
ground.slidetime = 900
ground.hittime = 900
air.hittime = 900
ground.velocity = -964,-4
air.velocity = -964,-4
down.velocity = -964,0
p2stateno =2935
fall = 1
fall.recover = 0
envshake.time 	= 20
envshake.freq 	= 70
envshake.ampl 	= -3

[State 0]
type = HitDef
trigger1 = AnimElem = 2 && Anim=10230  && Pos y < -75
attr = S, NA
Animtype = Hard
damage = 0,0
pausetime = 0,0
priority = 1, Hit
numhits = 1
sparkno = 1
sparkxy = -2,-39
hitsound = s5,5
guardsound = 6,0
Animtype = Med
ground.type = High
ground.slidetime = 900
ground.hittime = 900
air.hittime = 900
ground.velocity = -964,-0
air.velocity = -964,0
down.velocity = -964,0
p2stateno =2935
fall = 1
fall.recover = 0
envshake.time 	= 20
envshake.freq 	= 70
envshake.ampl 	= -3

[State 200, 3]
type = ChangeState
trigger1 = movehit=1
value = 8004
ctrl = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 8004]
type = S
movetype = A
physics = S
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time>=0
value =10230
Elem=2

[State 1003, 0]
type = ScreenBound
trigger1 = anim=10230
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 =  anim=10230
value = 0,0



[State 0]
type = ChangeState
trigger1 = p2stateno=2950
value = 8005
ctrl = 0

[State 200, 3]
type = ChangeState
trigger1 = Time = 40
value = 12323
ctrl = 1

[Statedef 8005]
type = S
physics = S
movetype = A
ctrl = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time>=0
value =10100
Elem=2

[State 3000,Super B]
type = PlaySnd
trigger1 =time=2
value = 4000,0

[State 6000,Pause]
type = SuperPause
trigger1 = time = 2
pos = 0, -60
anim = -1
darken = 0
time = 3
movetime = 3
supermovetime = 3

[State 0]
type = posadd
trigger1 = Time = 2
x = (P2Dist X) +10
y = (P2Dist Y) -8

[State 0, Turn]
type = Turn
trigger1 = time=3
ignorehitpause = 1
persistent = 1

[State 1003, 0]
type = ScreenBound
trigger1 = anim=10100
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 =  anim=10100
value = 0,0


[State 999,Sombra]
type = AfterImage
trigger1 = Time = 2
time = 2
trans = add1
TimeGap  = 3
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1



[State 0]
type = changeState
trigger1 = time=3
value = 8006
ctrl = 0



[Statedef 8006]
type = S
movetype = A
physics = S
velset = 0,0
anim=10210

[State 3000,Super B]
type = PlaySnd
trigger1 =AnimElem = 2
value = 200,0

;[State 1102, pos]
;type = Posset
;trigger1 = time = 0
;y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time=0
x =  0
y = 0
ignorehitpause = 1
persistent = 1


[State 0]
type = HitDef
trigger1 = AnimElem = 2 && Anim=10210
attr = S, NA
Animtype = Hard
damage = 0,0
pausetime = 0,0
priority = 1, Hit
numhits = 1
sparkno = 1
sparkxy = -2,-39
hitsound = s5,5
guardsound = 6,0
Animtype = Med
ground.type = High
ground.slidetime = 900
ground.hittime = 900
air.hittime = 900
ground.velocity = -964,-0
air.velocity = -964,-0
down.velocity = -964,0
p2stateno =2935
fall = 1
fall.recover = 0
envshake.time 	= 20
envshake.freq 	= 70
envshake.ampl 	= -3

[State 200, 3]
type = ChangeState
trigger1 = movehit=1
value = 8007
ctrl = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 8007]
type = S
movetype = A
physics = S
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time>=0
value =10210
Elem=2

[State 1003, 0]
type = ScreenBound
trigger1 = anim=10210
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 =  anim=10210
value = 0,0



[State 0]
type = ChangeState
trigger1 = p2stateno=2950
value = 8008
ctrl = 0

[State 200, 3]
type = ChangeState
trigger1 = Time = 40
value = 12323
ctrl = 1


[Statedef 8008]
type = S
physics = S
movetype = A
ctrl = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time>=0
value =10100
Elem=2

[State 3000,Super B]
type = PlaySnd
trigger1 =time=2
value = 4000,0

[State 6000,Pause]
type = SuperPause
trigger1 = time = 2
pos = 0, -60
anim = -1
darken = 0
time = 3
movetime = 3
supermovetime = 3

[State 0]
type = posadd
trigger1 = Time = 2
x = (P2Dist X) +10
y = (P2Dist Y) -8

[State 0, Turn]
type = Turn
trigger1 = time=3
ignorehitpause = 1
persistent = 1

[State 1003, 0]
type = ScreenBound
trigger1 = anim=10100
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 =  anim=10100
value = 0,0


[State 999,Sombra]
type = AfterImage
trigger1 = Time = 2
time = 2
trans = add1
TimeGap  = 3
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1



[State 0]
type = changeState
trigger1 = time=3
value = 8009
ctrl = 0



[Statedef 8009]
type = S
movetype = A
physics = S
velset = 0,0
anim=10600

[State 3000,Super B]
type = PlaySnd
trigger1 =AnimElem = 2
value = 200,0

[State 1003, 0]
type = ScreenBound
trigger1 = anim=10600
value	= 0
movecamera = 0,0

[State 1003, 0]
type = Width
trigger1 =  anim=10600
value = 0,0

;[State 1102, pos]
;type = Posset
;trigger1 = time = 0
;y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time=0
x =  0
y = 0
ignorehitpause = 1
persistent = 1


[State 0]
type = HitDef
trigger1 = AnimElem = 2 && Anim=10600
attr = S, NA
Animtype = Hard
damage = 0,0
pausetime = 0,0
priority = 1, Hit
numhits = 1
sparkno = 1
sparkxy = -2,-39
hitsound = s5,5
guardsound = 6,0
Animtype = Med
ground.type = High
ground.slidetime = 900
ground.hittime = 900
air.hittime = 900
;ground.velocity = -6,9
air.velocity = -19,15
;down.velocity = -6,0
p2facing = 1
p2stateno=635
fall.envshake.time= 10
fall.envshake.freq = 190
fall.envshake.ampl= -8
fall = 1
fall.recover = 0
envshake.time 	= 10
envshake.freq 	= 70
envshake.ampl 	= -3

[State 200, 3]
type = ChangeState
trigger1 =AnimTime = 0 && movehit=1
value = 8010
ctrl = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0 && movehit=0
value = 0
ctrl = 1

[Statedef 8010]
type = S
movetype = A
physics = S
velset = 0,0
anim=12600

[State 1003, 0]
type = ScreenBound
trigger1 = time>=0
value	= 0
movecamera = 0,0

[State 0, EnvShake]
type = EnvShake
trigger1 = animElem=2
time = 40
freq = 90
ampl = -9
phase = -60
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time=5
time =20
add = 100,100,180
mul = 186,186,186
sinadd = 80,80,80,20
invertall = 0
color = 240
ignorehitpause = 1
persistent = 1


[State 2600,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,0

[State 2600,Som]
type = PlaySnd
trigger1 =AnimElem = 2
value = 3000,2
volume=255

[State 2600,Som]
type = PlaySnd
trigger1 = time=31
value = 3000,4
volume=155


[State 2600, 1]
type = Projectile
trigger1 = AnimElem = 2
projanim = 2655
projhits = 4
projmisstime = 4
projremove = 0
projpriority = 2
projsprpriority = 1
projremovetime = 82
projid = 2650
velocity = 0,0
postype=p2
;offset = 69,90
offset = 0,0
attr = C, SA
animtype  = Hard
damage    = 110,11
getpower  = 0
sparkno = -1
sparkxy = -1
priority  = 6
hitflag = MAFD
guardflag = MA
pausetime = 0,15
hitsound   = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 2
ground.hittime  = 11
ground.velocity = -0.1,-10.4
air.velocity = -0.1,-10.4
fall.animtype = Hard
fall = 1
envshake.time 	= 20
envshake.freq 	= 70
envshake.ampl 	= -6
p2facing = 1
p2stateno=635

[State 1003, 0]
type = Width
trigger1 =  time>=0
value = 0,0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 12800
ctrl = 0
;---------------------------------------------------------------------------
; Seeking Energy ball
[Statedef 	901202]
type    	= S
movetype	= A
anim 		= 615
velset 	= 8.3,-5.0
poweradd = -350

[State 1003, 0]
type = Width
trigger1 = BackEdgeBodyDist < -1
value = 0,0


[State 0, VelSet]
type = VelSet
trigger1 = p2bodydist x < -40
x =0
y =  0
ignorehitpause = 1
persistent = 1



[State 	1202, GoFwd]
type 		= VelAdd
triggerall 	=   parent , stateno=8008
trigger1 	= P2BodyDist X > -4
trigger1 	= Vel X < 3
x 		= 0.6

[State 	1202, GoBack]
type 		= VelAdd
triggerall 	=   parent , stateno=8008
trigger1 	= P2BodyDist X < -4
trigger1 	= Vel X > -3
x 		= -0.6

[State 	1202, GoDown]
type 		= VelAdd
triggerall 	=   parent , stateno=8008
trigger1 	= P2BodyDist Y > 50
trigger1 	= Vel Y < 3
Y 		= 0.6

[State 	1202, GoUp]
type 		= VelAdd
triggerall 	=   parent , stateno=8008
trigger1 	= P2BodyDist Y < 50
trigger1 	= Vel Y > -3
Y 		= -0.6

[State 	1202, NotHitBy]
type 		= NotHitBy
trigger1 	= Time >= 0
value 	= SCA
time 		= -1



[State 	1202, Hitdef]
type 		= HitDef
trigger1 	= Time >= 0  && parent ,stateno= 8008
attr 		= S, SP
damage    	= 174,10
animtype  	= Hard
hitflag 	= MAFD
guardflag 	= MA
pausetime 	= 0,12
sparkno 	= S2007
sparkxy	= 0,0
guard.sparkno = S2007
sparkxy 	= 500,500
hitsound 	= S5,5
guardsound 	= 6,0
ground.type = High
ground.slidetime 	= 9
ground.hittime  	= 9
ground.velocity 	= -6,-1
air.velocity 	= -2,-3
palfx.time=10
palfx.add=247,247,115
palfx.mul=247,130,0
palfx.sinadd=66,196,254,20


[State 	1202, No Hit]
type 		= NotHitBy
trigger1 	= Time > 0
value 	= ,NA,SA,HA,NT,ST,HT

[State 	1202, Finish]
type 		= DestroySelf
trigger1 	= MoveContact = 1

[State 7029,GetHit]
type=HitOverride
trigger1=time=0
time=-1
attr=SCA,NP,SP,HP
slot=0
stateno=2007

[State 7029,End]
type=DestroySelf
trigger1=Anim=2007
trigger1=AnimTime=0



;---------------------------------------------------------------------------
; Seeking Energy ball
[Statedef 	901203]
type    	= S
movetype	= A
anim 		= 615
velset 	= 8.3,-5.0
poweradd = -350

[State 1003, 0]
type = Width
trigger1 = BackEdgeBodyDist < -1
value = 0,0


[State 0, VelSet]
type = VelSet
trigger1 = p2bodydist x < -10
x =0
y =  0
ignorehitpause = 1
persistent = 1

[State 	1202, GoFwd]
type 		= VelAdd
triggerall 	=   parent , stateno=8008
trigger1 	= P2BodyDist X > -4
trigger1 	= Vel X < 3
x 		= 0.6

[State 	1202, GoBack]
type 		= VelAdd
triggerall 	=   parent , stateno=8008
trigger1 	= P2BodyDist X < -4
trigger1 	= Vel X > -3
x 		= -0.6

[State 	1202, GoDown]
type 		= VelAdd
triggerall 	=   parent , stateno=8008
trigger1 	= P2BodyDist Y > 50
trigger1 	= Vel Y < 3
Y 		= 0.6

[State 	1202, GoUp]
type 		= VelAdd
triggerall 	=   parent , stateno=8008
trigger1 	= P2BodyDist Y < 50
trigger1 	= Vel Y > -3
Y 		= -0.6

[State 	1202, NotHitBy]
type 		= NotHitBy
trigger1 	= Time >= 0
value 	= SCA
time 		= -1



[State 	1202, Hitdef]
type 		= HitDef
trigger1 	= Time >= 0  && parent ,stateno= 8008
attr 		= S, SP
damage    	= 114,10
animtype  	= Hard
hitflag 	= MAFD
guardflag 	= MA
pausetime 	= 0,12
sparkno 	= S2007
sparkxy	= 0,0
guard.sparkno = S2007
sparkxy 	= 500,500
hitsound 	= S5,5
guardsound 	= 6,0
ground.type = High
ground.slidetime 	= 9
ground.hittime  	= 9
ground.velocity 	= -6,-1
air.velocity 	= -2,-3
palfx.time=10
palfx.add=247,247,115
palfx.mul=247,130,0
palfx.sinadd=66,196,254,20


[State 	1202, No Hit]
type 		= NotHitBy
trigger1 	= Time > 0
value 	= ,NA,SA,HA,NT,ST,HT

[State 	1202, Finish]
type 		= DestroySelf
trigger1 	= MoveContact = 1

[State 7029,GetHit]
type=HitOverride
trigger1=time=0
time=-1
attr=SCA,NP,SP,HP
slot=0
stateno=2007

[State 7029,End]
type=DestroySelf
trigger1=Anim=2007
trigger1=AnimTime=0


; por cima
;---------------------------------------------------------------------------
; Seeking Energy ball
[Statedef 	901204]
type    	= S
movetype	= A
anim 		= 615
velset 	= 8.3,-11.0
poweradd = -350

[State 1003, 0]
type = Width
trigger1 = BackEdgeBodyDist < -1
value = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = p2bodydist x < -30
x =0
y =  0
ignorehitpause = 1
persistent = 1

[State 	1202, GoFwd]
type 		= VelAdd
triggerall 	=   parent , stateno=8008
trigger1 	= P2BodyDist X > -4
trigger1 	= Vel X < 3
x 		= 2.2

[State 	1202, GoBack]
type 		= VelAdd
triggerall 	=   parent , stateno=8008
trigger1 	= P2BodyDist X < -4
trigger1 	= Vel X > -3
x 		= -2.2

[State 	1202, GoDown]
type 		= VelAdd
triggerall 	=   parent , stateno=8008
trigger1 	= P2BodyDist Y > 100
trigger1 	= Vel Y < 3
Y 		= 2.2

[State 	1202, GoUp]
type 		= VelAdd
triggerall 	=   parent , stateno=8008
trigger1 	= P2BodyDist Y < 100
trigger1 	= Vel Y > -3
Y 		= -0.2


[State 	1202, NotHitBy]
type 		= NotHitBy
trigger1 	= Time >= 0
value 	= SCA
time 		= -1



[State 	1202, Hitdef]
type 		= HitDef
trigger1 	= Time >= 0  && parent ,stateno= 8008
attr 		= S, SP
damage    	= 114,10
animtype  	= Hard
hitflag 	= MAFD
guardflag 	= MA
pausetime 	= 0,12
sparkno 	= S2007
sparkxy	= 0,0
guard.sparkno = S2007
sparkxy 	= 500,500
hitsound 	= S5,5
guardsound 	= 6,0
ground.type = High
ground.slidetime 	= 9
ground.hittime  	= 9
ground.velocity 	= -6,-1
air.velocity 	= -2,-3
palfx.time=10
palfx.add=247,247,115
palfx.mul=247,130,0
palfx.sinadd=66,196,254,20


[State 	1202, No Hit]
type 		= NotHitBy
trigger1 	= Time > 0
value 	= ,NA,SA,HA,NT,ST,HT

[State 	1202, Finish]
type 		= DestroySelf
trigger1 	= MoveContact = 1

[State 7029,GetHit]
type=HitOverride
trigger1=time=0
time=-1
attr=SCA,NP,SP,HP
slot=0
stateno=2007

[State 7029,End]
type=DestroySelf
trigger1=Anim=2007
trigger1=AnimTime=0





;---------------------------------------------------------------------------
; Seeking Energy ball
[Statedef 	901205]
type    	= S
movetype	= A
anim 		= 615
velset 	= 3.3,-10.0
poweradd = -3000

[State 1003, 0]
type = Width
trigger1 =  BackEdgeBodyDist < -1
value = 0,0


[State 0, VelSet]
type = VelSet
trigger1 = p2bodydist x < -10
x =0
y =  0
ignorehitpause = 1
persistent = 1

[State 	1202, GoFwd]
type 		= VelAdd
triggerall 	=   parent , stateno=8008
trigger1 	= P2BodyDist X > -4
trigger1 	= Vel X < 3
x 		= 0.6

[State 	1202, GoBack]
type 		= VelAdd
triggerall 	=   parent , stateno=8008
trigger1 	= P2BodyDist X < -4
trigger1 	= Vel X > -3
x 		= -0.6

[State 	1202, GoDown]
type 		= VelAdd
triggerall 	=   parent , stateno=8008
trigger1 	= P2BodyDist Y > 50
trigger1 	= Vel Y < 3
Y 		= 0.6

[State 	1202, GoUp]
type 		= VelAdd
triggerall 	=   parent , stateno=8008
trigger1 	= P2BodyDist Y < 50
trigger1 	= Vel Y > -3
Y 		= -0.6

[State 	1202, NotHitBy]
type 		= NotHitBy
trigger1 	= Time >= 0
value 	= SCA
time 		= -1



[State 	1202, Hitdef]
type 		= HitDef
trigger1 	= Time >= 0  && parent ,stateno= 8008
attr 		= S, SP
damage    	= 114,10
animtype  	= Hard
hitflag 	= MAFD
guardflag 	= MA
pausetime 	= 0,12
sparkno 	= S2007
sparkxy	= 0,0
guard.sparkno = S2007
sparkxy 	= 500,500
hitsound 	= S5,5
guardsound 	= 6,0
ground.type = High
ground.slidetime 	= 9
ground.hittime  	= 9
ground.velocity 	= -6,-1
air.velocity 	= -2,-3
palfx.time=10
palfx.add=247,247,115
palfx.mul=247,130,0
palfx.sinadd=66,196,254,20


[State 	1202, No Hit]
type 		= NotHitBy
trigger1 	= Time > 0
value 	= ,NA,SA,HA,NT,ST,HT

[State 	1202, Finish]
type 		= DestroySelf
trigger1 	= MoveContact = 1

[State 7029,GetHit]
type=HitOverride
trigger1=time=0
time=-1
attr=SCA,NP,SP,HP
slot=0
stateno=2007

[State 7029,End]
type=DestroySelf
trigger1=Anim=2007
trigger1=AnimTime=0


[Statedef 633]
type = S
physics = S
movetype = I
ctrl = 0

[State 0]
type = ChangeAnim
trigger1 = Animexist(5000) && Time >= 0
value = 5000


[State 0, VelSet]
type = HitVelSet
trigger1 = time>=0
x = 0
y = -1
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time>=40
x = 0
y = 0
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time>=35
x = 0
y = 1
ignorehitpause = 1
persistent = 1


[State 0]
type = SelfState
trigger1 = Time = 50
value = 0
ctrl = 1



[Statedef 635]
type = A
movetype = H
physics = N
ctrl = 0

[State 1003, 0]
type = ScreenBound
trigger1 = Time >= 0
value	= 1
movecamera = 1,1

[State 0]
type = ChangeAnim2
trigger1 = Time = 0 && Anim != 5000
value = 5000


[State 0]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 0]
type = HitVelSet
trigger1 = Time = 0
x = 2
y = 1

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 636

[Statedef 636]
type = A
movetype = H
physics = N


[State 0]
type = ChangeAnim2
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059]
trigger1 = Anim != 5090
value = 5035

[State 1003, 0]
type = ScreenBound
trigger1 = Time >= 0
value	= 1
movecamera = 1,1

[State 0]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 0]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = AnimTime = 0
trigger3 = Vel Y > 0
trigger3 = Pos Y >= 10
trigger4 = Time = 0
trigger4 = Anim != 5035
value = 637

[Statedef 637]
type = A
movetype = H
physics = N

[State 1003, 0]
type = ScreenBound
trigger1 = Time >= 0
value	= 1
movecamera = 1,1

[State 0]
type = ChangeAnim2
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090
value = 5050

[State 0]
type = ChangeAnim2
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 0]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 0]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 638

[Statedef 638]
type = L
movetype = H
physics = N

[State 0]
type = ChangeAnim2
trigger1 = Time = 0 && Anim != 5110
value = 5110

[State 1003, 0]
type = ScreenBound
trigger1 = Time >= 0
value	= 1
movecamera = 1,1


[State 0]
type = FallEnvShake
trigger1 = Time = 0

[State 0]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0]
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 0]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 0]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 0]
type = VelSet
trigger1 = 1
y = 0
x = 0

[State 0]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 0]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

;[State 0]
;type = ChangeState
;trigger1 = time = 120
;value = 639

[State 0]
type = selfstate
trigger1 = time = 80
value = 5120

[State 5110, 11]
type = selfstate
trigger1 = !alive && AnimTime = 0
value = 5150

[Statedef 639]
type = L
movetype = H
physics = N
velset = 0,0

[State 0]
type = LifeAdd
trigger1 = 1
value = -30

[State 0]
type = ChangeAnim2
trigger1 = 1
value = 5080

[State 0]
type = ChangeState
trigger1 = time = 30
value = 638

[Statedef 5120]
type = L
movetype = I
physics = N

[State 0]
type = ChangeAnim
triggerall = Time = 0
trigger1 = Anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (Anim % 10))
value = 5120

[State 0]
type = ChangeAnim
triggerall = Time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (Anim % 10))
value = 5120 + (Anim % 10)

[State 0]
type = VelSet
trigger1 = Time = 0
x = 0

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0]
type = ChangeState
trigger1 = (Var(5) = 1) && (Time = 0)
value = 9001

[State 0]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 0]
type = NotHitBy
trigger1 = AnimTime = 0
value = , NT,ST,HT
time = 12

[State 0]
type = NotHitBy
trigger1 = AnimTime = 0
value2 = SCA
time = 3

[State 0]
type = ChangeState
trigger1 = (Var(5) = 0) && (AnimTime = 0)
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Estados do Modo Super Saiyajin 4
;---------------------------------------------------------------------------
[Statedef 9000]
type = S
movetype = A
physics = S
anim = 9000
velset = 0,0
poweradd = -3000
ctrl = 0

[State 191,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 191,0

[State 2000, 1]
type = SuperPause
trigger1 = animelem = 1
anim = -1
time = 95
movetime = 95

[State 9999,Foto]
type = Explod
trigger1 = AnimElem = 1
anim = 9025
pos = 0,0
ownpal = 1
postype = left
sprpriority = -5
removetime = 95
supermove = 1
supermovetime = 95

[State 2000,Fundo]
type = Envcolor
trigger1 = AnimElem = 1
persistent = 0
ignorehitpause = 1
Time = 95
value = 0, 0, 0
under = 1
supermove = 1

[State 735,Ki]
type = Explod
trigger1 = timemod = 28,6
Anim = 760
Pos = -6,0
Id = 800
sprpriority = -2
removetime = 28
bindtime = 28
Postype = p1
Bindtime = 1
SuperMove = 1

[state 735, treme]
type = envshake
trigger1 = timemod = 28,6
time = 28
ampl = 4
 
[State 191,Som]
type = PlaySnd
trigger1 = timemod = 28,6
value = 760,0
channel = 9


[State 735,Raio]
type = Explod
trigger1 = time = 6
Anim = 9050
Pos = 0,0
Id = 9050
sprpriority = 5
removetime = 16
supermovetime = 16
Postype = p1

[State 735,Raio]
type = Explod
trigger1 = time = 14
Anim = 9050
Pos = 30,230
Postype = left
Id = 9050
sprpriority = 5
removetime = 16
supermovetime = 16


[State 735,Raio]
type = Explod
trigger1 = time = 22
Anim = 9050
Pos = 90,230
Postype = left
Id = 9050
sprpriority = 5
removetime = 16
supermovetime = 16

[State 735,Raio]
type = Explod
trigger1 = time = 30 || time = 62
Anim = 9050
Pos = 150,230
Postype = left
Id = 9050
sprpriority = 5
removetime = 16
supermovetime = 16

[State 735,Raio]
type = Explod
trigger1 = time = 38 || time = 54
Anim = 9050
Pos = 210,230
Postype = left
Id = 9050
sprpriority = 5
removetime = 16
supermovetime = 16

[State 735,Raio]
type = Explod
trigger1 = time = 46
Anim = 9050
Pos = 270,230
Postype = left
Id = 9050
sprpriority = 5
removetime = 16
supermovetime = 16

[State 191, 0]
type = VarSet
trigger1 = Time = 0
v = 9
value = 1

[state 9000,Life]
type = lifeset
trigger1 = animtime = 0
value = 600

[state 7600,fim]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Win-Vegeta Ssj4(1)
[Statedef 10181]
type = S
ctrl = 0
anim = 10181
velset = 0,-6,0

[State 735,Ki]
type = Explod
trigger1 = timemod = 28,22
Anim = 760
Pos = 0,30
Id = 800
scale = 1.5,1.5
sprpriority = -2
removetime = 28
bindtime = 28
Postype = p1
Bindtime = 1
SuperMove = 1

[state 735, treme]
type = envshake
trigger1 = timemod = 28,22
time = 28
ampl = 2
 
[State 191,Som]
type = PlaySnd
trigger1 = timemod = 28,22
value = 760,0

[state 181,para]
type = velset
trigger1 = animelem = 2
x = 0
y = 0

[State 191,Som]
type = PlaySnd
trigger1 = AnimElem = 3
value = 191,0

[State 181, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
;---------------------------------------------------------------------------
;Win-VegetaSsj4(2)
[Statedef 10182]
type = S
ctrl = 0
anim = 10182
velset = 0,0,0

[State 181, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 181,Som]
type = PlaySnd
trigger1 = AnimElem = 1
value = 180,0
;---------------------------------------------------------------------------
;Win-VegetaSsj4(Cansado)
[Statedef 10183]
type = S
ctrl = 0
anim = 15300
velset = 0,0,0

[State 183, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
;---------------------------------------------------------------------------
; INTRO (ssj4)
[Statedef 10191]
type = S
ctrl = 0
anim = 10190
velset = 0,0,0

[State 191, 1]
type = AssertSpecial
trigger1 = Time = [0,112]
flag = Intro

[State 191,Som]
type = PlaySnd
trigger1 = AnimElem = 4
value = 191,0

[State 191, 5]
type = VarSet
trigger1 = Time = 0
v = 9
value = 1

[State 191, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; STAND_A
[Statedef 10200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 10200                       ;Change animation (Def: no change)
poweradd = -150                    ;Power to add (Def: 0)


[State 0, VelSet]
type = VelSet
trigger1 = command ="holdfwd"
x = 2
y =  0
ignorehitpause = 1
persistent = 1


[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage    = 70                  ;Damage that move inflicts
animtype = Heavy                ;Animation type: Light, Medium, Heavy, Back (def: Light)
;getpower = 30,15                 ;Power to get on hit, on guard
;                                 ;(Def Hit: 0)  (Def Guard: 1/2 of hit power)
;givepower = 15,8                 ;Power to give opponent on hit, on guard
;                                 ;(Def Hit: 0)  (Def Guard: 1/2 of hit power)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
                                 ;Hit/Miss/Dodge type (Def: Hit)
pausetime = 4,8                  ;Time attacker pauses, time victim shakes
numhits = 1                      ;Number of hits to count as (Def: 1)
sparkno = 1                   ;Spark image group and no (Def: set above)
sparkxy = 10,-50                ;X-offset for the "hit spark" rel. to p2,
                                 ;Y-offset for the spark rel. to p1
hitsound = S5,0                   ;Sound to play on hit
guardsound = S6,0                 ;Sound to play on guard
; mindist  = 0,0,0                 ;Min distance of p2 from p1 when hit
; maxdist  = 0,0,0                 ;Max distance of p2 from p1 when hit
; snap = 0,0,0                     ;Snaps p2 to position rel to p1
ground.type = High              ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 18             ;Time that the victim slides back
ground.hittime  = 18             ;Time victim is in hit state
ground.velocity = -2,0             ;Velocity at which victim is pushed
; guard.slidetime = 5              ;Values for guarded attack (def: ground.slidetime)
; guard.hittime  = 15              ; (def: ground.hittime)
; guard.velocity = -4              ; (def: ground.velocity)
; guard.ctrltime = 7               ;Time to regain control after guard (def: guard.slidetime)
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
; airguard.ctrltime = 7            ;Time to regain control after air guard (def: ground.ctrltime)
; air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.1,-1           ;X-velocity at which victim is pushed,
                                 ;Y-velocity at which victim is pushed
;air.hittime = 20                  ;Time before oppoment regains control in air
; attack.width = 3, 3              ;Override default attack width
; fall = 0                         ;1 to cause opponent to fall (def: 0)
; fall.damage = 0                  ;Damage opponent takes on fall
; fall.velocity = n/a,-4.5         ;X, Y-velocity after bouncing off ground
; fall.animtype = Back             ;Animation type for falling people (def: Back)
; air.fall = 0                     ;1 to cause opponent to fall if in air (def: same as fall)
; down.velocity = ?,?              ;Velocity for opponents lying down (def: same as air.velocity)
; down.hittime = 20                ;Time opponent is stunned on ground (only for down.y-velocity = 0) (def: 20)
; down.bounce = 0                  ;Set to 1 for opponent to bounce on ground (def: 0)



[state 6100,ki]
type = projectile
trigger1 = animelem = 2
projanim =217
projremovetime = 12
projhits = 3
projmisstime = 4
projremove = 0
velocity = 0,0
offset = -6,0
attr = A, SA
animtype  = Heavy
damage    = 45,8
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,-7.6
;air.velocity = -3,-7.6
air.animtype = Back
air.juggle = 1
fall = 0

[State 200,Som]
type = PlaySnd
trigger1 = Time = 7
value = 3000, 0

[State 200,Som]
type = PlaySnd
trigger1 = Time = 8
value = 200, 0

[State 3001,Voa]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 3001

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; STAND_B
[Statedef 10210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 10210

[State 0, VelSet]
type = VelSet
trigger1 = command ="holdfwd"
x = 3
y =  0
ignorehitpause = 1
persistent = 1

[State 210, 1] ;Uncomment if you want to play a sound
type = null; PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 35
guardflag = MA
pausetime = 4,8
sparkxy = 3,-33
hitsound   = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -3
air.velocity = -2.2,-3.2

[State 210, 2]
type = HitDef
trigger1 = Time = 0 && Var(10)
attr = S, NA
animtype  = Medium
damage    = 35
guardflag = MA
pausetime = 4,8
sparkxy = -3,-49
hitsound   = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -3
air.velocity = -2.2,-3.2
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 210,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 0

[State 3001,Voa]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 3001

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND_X
[Statedef 10201]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 30
ctrl = 0
velset = 0,0,0
anim = 10201

[State 0, VelSet]
type = VelSet
trigger1 = command ="holdfwd"
x = 3
y =  0
ignorehitpause = 1
persistent = 1

[State 220,Som]
type = PlaySnd
trigger1 = Time = 8
value = 200, 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = 30
guardflag = MA
pausetime = 4,8
sparkxy = 4,-32
sparkno=1
hitsound   = S5,0
guardsound = S6,0
;ground.type = Low
;ground.slidetime = 9
ground.hittime  =9
ground.velocity = -2,0
;air.velocity = 0,-6

[State 220, 2]
type = HitDef
trigger1 = Time = 0 && Var(10)
attr = S, NA
animtype  = Light
damage    = 30
guardflag = MA
pausetime = 4,8
sparkxy = -2,-48
hitsound   = S5,0
guardsound = S6,0
;ground.type = Low
;ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -3,0
;air.velocity = 0,-6
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8


[State 3001,Voa]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 3001

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; STAND_Y
[Statedef 10230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 10230

[State 0, VelSet]
type = VelSet
trigger1 = command ="holdfwd"
x = 3
y =  0
ignorehitpause = 1
persistent = 1

[State 230,Som]
type = PlaySnd
trigger1 = Time = 3
value = 200, 1

[State 230, 2]
type = HitDef
trigger1 = animElem = 2
attr = S, NA
animtype  = Hard
damage    = 21
guardflag = MA
pausetime = 9,11
sparkxy = 3,-31
sparkno=0
hitsound   = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -3
air.velocity = -2.2,-3.2



[State 3001,Voa]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 3001

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;CROUCH_A
[Statedef 10410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 15
ctrl = 0
anim = 10400

[State 400,Som]
type = PlaySnd
trigger1 = Time = 8
value = 200, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 19
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MAFD
guardflag = L
pausetime = 10,12
sparkxy = -2,-26
sparkno = 0                   ;Spark image group and no (Def: set above)
hitsound   = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -4
air.velocity = -1.3,-3
down.velocity = -4,0
down.hittime = 20

[State 400, 2]
type = HitDef
trigger1 = Time = 0 && Var(10)
attr = C, NA
damage    = 19
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MAFD
guardflag = L
pausetime = 10,12
sparkxy = -2,-26
sparkno = 0                   ;Spark image group and no (Def: set above)
hitsound   = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -4
air.velocity = -1.3,-3
down.velocity = -4,0
down.hittime = 20
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8


[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;CROUCH_B
[Statedef 10400]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 10400

[State 410,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 0

[State 410, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
animtype  = Hard
damage    = 25
getpower  = 40
givepower = 40
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = -3,-26
sparkno = 0
hitsound   = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -4.5,0
air.velocity = -3.2,0
guard.velocity = -5

[State 410, 3]
type = HitDef
trigger1 = Time = 0 && Var(10)
attr = C, NA
damage    = 25
getpower  = 40
givepower = 40
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = -3,-43
sparkno = 0
hitsound   = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8


[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;CROUCH_X
[Statedef 10420]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 10400

[State 420,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 19
animtype  = Light
getpower  = 10
givepower = 8
hitflag = MAFD
guardflag = L
pausetime = 10,12
sparkxy = -2,-26
sparkno = 0                   ;Spark image group and no (Def: set above)
hitsound   = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -4
air.velocity = -1.3,-3
down.velocity = -4,0
down.hittime = 20

[State 420, 3]
type = HitDef
trigger1 = Time = 0 && Var(10)
attr = C, NA
damage    = 39
getpower  = 40
givepower = 40
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = -3,-30
sparkno = 0
hitsound   = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -3
air.velocity = -3
guard.velocity = -2
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8



[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;CROUCH_Y
[Statedef 10430]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 10430

[State 430,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200,1

[State 430, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 21
getpower  = 20
givepower = 20
hitflag = MAFD
guardflag = L
pausetime = 6,6
sparkxy = -5,-5
sparkno = 0
hitsound   = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5

[State 430, 3]
type = HitDef
trigger1 = AnimElem = 2 && Var(10)
attr = C, NA
damage    = 21
getpower  = 20
givepower = 20
hitflag = MAFD
guardflag = L
pausetime = 6,6
sparkxy = -5,-15
sparkno = 0
hitsound   = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 430,4]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 21
getpower  = 20
givepower = 20
hitflag = MAFD
guardflag = L
pausetime = 6,6
sparkxy = -5,-10
sparkno = 0
hitsound   = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -1
air.velocity = -2
guard.velocity = -2



[State 430,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;JUMP_A
[Statedef 10600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 10600

[State 600,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 0

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 32
getpower  = 10
givepower = 10
guardflag = HA
priority = 3
pausetime = 8,12
sparkxy = 4,-28
hitsound   = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 600, 2]
type = HitDef
trigger1 = Time = 0 && Var(10)
attr = A, NA
damage    = 32
getpower  = 10
givepower = 10
guardflag = HA
priority = 3
pausetime = 8,12
sparkxy = -10,-58
hitsound   = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 600, 3]
type = CtrlSet
trigger1 = Time = 17
value = 1

[State 600, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50

;---------------------------------------------------------------------------
;JUMP_B
[Statedef 10610]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 55
ctrl = 0
anim = 10600

[State 610,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 0


[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 32
getpower  = 10
givepower = 10
guardflag = HA
priority = 3
pausetime = 8,12
sparkxy = 4,-28
hitsound   = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 610, 3]
type = HitDef
trigger1 = Time = 0 && Var(10)
attr = A, NA
damage    = 48
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 8,12
sparkxy = -10,-51
hitsound   = S5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,-3
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 610, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;JUMP_X
[Statedef 10620]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 55
ctrl = 0
anim = 10620

[State 620,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 1

[State 620, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 34
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 8,12
sparkxy = 0,-11
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -0
air.velocity = -0.3,-0

[State 620, 3]
type = HitDef
trigger1 = Time = 0 && Var(10)
attr = A, NA
damage    = 34
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 8,12
sparkxy = -10,-51
hitsound   = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,-3
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 620, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;JUMP_Y
[Statedef 10630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 55
ctrl = 0
anim = 10620


[State 630,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 1

[State 630, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 50
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 8,12
sparkxy = -0,-11
hitsound   = S5,5
guardsound = S6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,-3

[State 630, 3]
type = HitDef
trigger1 = Time = 0 && Var(10)
attr = A, NA
damage    = 50
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 8,12
sparkxy = -10,-51
hitsound   = S5,5
guardsound = S6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,-3
envshake.time= 20
envshake.freq = 70
envshake.ampl = -8

[State 630, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Carregamento Inicio 
[Statedef 10800]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 10800
velset = 0,0

[State 191,Som]
type = PlaySnd
trigger1 = time=1
value = 3000,0

[State 730, Seeking]
type = Helper
trigger1 = AnimElem = 2
helpertype = Normal
name = "ki"
id = 10888
pos = 0,-10
postype= p1
facing= 1
stateno= 10888
keyctrl= 0
ownpal= 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = timemod=23,0
time = 23
add = 100,100,0
mul = 196,196,0
sinadd = -80,-80,-80,13
invertall = 0
color = 240
ignorehitpause = 1
persistent = 1

;[State 0, PalFXWiz] nao
;type = PalFX
;trigger1 =timemod=28,0
;time = 28
;add = 0,0,25
;mul = 256,256,256
;sinadd = 0,0,80,36
;invertall = 0
;color = 256
;ignorehitpause = 0
;persistent = 1



[State 735,Ki]
type = Explod
trigger1 = timemod = 14,0
trigger1 = pos y = 0
Anim = F61
Pos = -2,-4
Id = 10800
sprpriority = -2
removetime = 14
bindtime = 14
Postype = p1
Bindtime = 1
SuperMove = 1

[State 800,Charge]
type = PowerAdd
trigger1 = TimeMod = 4,0
value = 10



[state 735, treme]
type = envshake
trigger1 = timemod = 28,0
time = 28
ampl = 3

[State 191,Som]
type = PlaySnd
trigger1 = timemod = 28,0
value = 760,0
channel = 9

[State 191,Som]
type = PlaySnd
trigger1 = time = 0
value = 800,0

[State 191,Som]
type = StopSnd
trigger1 = time = 0
channel = 9


[State 8250:BGPalFX]
type= BGPalFX
trigger1= (GameTime%2) = 0 && (Time > 25) && (Var(10))
time= 15
add= 100,100,100
mul= 40,40,40
sinadd= -100,-100,-100,15
;invertall= 1
color= 256

[state 735, treme]
type = envshake
trigger1 = timemod = 28,0 && Var(10)
time = 28
ampl = -3

[State 800,Fim]
type = ChangeState
triggerall = animtime = 0
trigger1 = command != "charge"
trigger2 = command != "charge1"
trigger3 = power >= 3000
value = 0
ctrl = 1





;---------------------------------------------------------------------------
;Carregamento ki
[Statedef 10888]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 777
velset = 0,0

; timemod=28,0
;time =  28

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time>=2  && anim!=13
value =13
ignorehitpause = 1
persistent = 1

[State 0]
type = Turn
trigger1 = Time >= 1 && p2bodydist x < -10

[State 0]
type = posadd
trigger1 = Time >= 0
x = (ParentDist X) -0
y = (ParentDist Y) -10



[State 0, PalFXWiz]
type = PalFX
trigger1 = time>=0
time = 10000
add = 150,150,0
mul = 256,256,0
sinadd = -80,-80,-80,0
invertall = 1
color = 0
ignorehitpause = 1
persistent = 0



[State 0, ChangeState]
type = ChangeState
trigger1 = parent,stateno!=10800
trigger1 = parent,stateno!=801
trigger1 = parent,stateno!=802
trigger1 = parent,stateno!=8816
trigger1 = parent,stateno!=10182
trigger1 = parent,stateno!=183
trigger2 = Parent,var(9)=0
value = 10972
ctrl = 0


[Statedef 10972]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 777
velset = 0,0

; timemod=28,0
;time =  28



[State 0, PalFXWiz]
type = PalFX
trigger1 = timemod=1,0
time = 1
add = 150,150,0
mul = 256,256,0
sinadd = -80,-80,-80,0
invertall = 1
color = 0
ignorehitpause = 1
persistent = 0


[State 0, DestroySelf]
type = DestroySelf
trigger1 =  time=5
ignorehitpause = 1
persistent = 0
;---------------------------------------------------------------------------
;Agarrão(Throw)
[Statedef 10900]
type = S
movetype = A
physics = S
anim = 10900
velset = 0,0
ctrl = 0

[State 0]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 32,0,0,1
p1Stateno = 10501
p2Stateno = 10502

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 10501]
type = S
movetype = A
physics = S
anim = 10901
velset = 0,0


[State 2000,Som]
type = PlaySnd
trigger1 = animelem = 4
value = 3000, 0

[State 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 0]
type = TargetLifeAdd
trigger1 = Animtime = 0
value = -60

[State 0]
type = TargetBind
trigger1 = AnimElem = 1, >= 0 && (AnimElem = 2, < 0)
pos = 12,4

[State 0]
type = TargetBind
trigger1 = AnimElem = 2, >= 0 && (AnimElem = 3, < 0)
pos = 10,-5

[State 0]
type = TargetBind
trigger1 = AnimElem = 3, >= 0 && (AnimElem = 4, < 0)
pos = 10,-5


[State 0]
type = TargetState
trigger1 = AnimElem = 4
value = 10503

[State 0]
type = Turn
trigger1 = Time = 39

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 10502]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 0]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20  && p2Stateno!=501
ignorehitpause = 0
persistent = 1


[State 0]
type = HitBy
Trigger1 = Time >= 0
value = SCA
time = 1


[Statedef 10503]
type = A
movetype = H
physics = N
velset = -6.9,-8.5
anim = 5070
ctrl = 0


[State 0]
type = PosAdd
Trigger1 = Time = 0
x = 0
y = 0

[State 0]
type = VelAdd
Trigger1 = Time > 0
y = .4


;[State 0]
;type = Turn
;trigger1 = Time = 10
;
;[State 0]
;type = LifeAdd
;Trigger1 = Time = 0
;value = -75

[State 0]
type = SelfState
trigger1 = Vel Y > 0 && (Pos Y >= 10)
value = 5100

; Magia_A
[Statedef 11000]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 11000
ctrl = 0


[State 2000,1000]
type = PowerAdd
trigger1 = animelem = 2
value = -150

[State 1000,Som]
type = PlaySnd
trigger1 = time=0
value = 3000,0

[State 1000,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,1


[State 1000, 1]
type = Projectile
trigger1 = AnimElem = 2
projanim = 1005
ProjHitAnim = 1006
projsprpriority = 2
velocity = 3.5
offset = 43,-36
attr = S, SP
animtype  = Hard
damage    = 53,9
getpower  = 0
sparkno = -1
;sparkxy = 12,-35
priority  = 6
guardflag = MA
pausetime = 215,15
hitsound   = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -3
air.velocity = -3,-3
palfx.time=10
palfx.add=247,247,115
palfx.mul=247,130,0
palfx.sinadd=66,196,254,20
;palfx.time = 22
;palfx.add = 104,176,248

[State 1000,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Right Renzoku
[Statedef 11100]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 11100
ctrl = 0

[State 1500,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,0 

[State 1500, 1]
type = Projectile
trigger1 = AnimElem = 2
projanim = 11025
projhitAnim = 11050
projid = 11025
projpriority = 8
projsprpriority = 2
velocity = 5.5
offset = 50,-45
attr = S, SP
animtype  = Hard
damage    = 80,20
getpower  = 0
sparkno = -1
sparkxy = 999,999
priority  = 6
guardflag = MA
pausetime = 15,15
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -6
air.velocity = -3,-3
;palfx.time = 22
;palfx.add = 104,176,248


[State 3001,Voa]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 3001

[State 1500,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;BigBang (Pra Cima)
[Statedef 11200]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 11200
ctrl = 0

[State 1000,Som]
type = PlaySnd
trigger1 = Time = 0
value = 2500,0 

[State 1000, 1]
type = Projectile
trigger1 = AnimElem = 2
projanim = 11275
projhitAnim = 11250
projid = 11225
projpriority = 8
projsprpriority = 2
velocity = 6,-6
offset = 30,-80
attr = S, SP
animtype  = Hard
damage    = 65,20
getpower  = 0
sparkno = -1
sparkxy = 999,999
priority  = 6
guardflag = MA
pausetime = 11,11
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -6
air.velocity = -6,-4

[State 1000,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;BigBang (Pra Baixo)
[Statedef 11300]
type    = A
movetype= A
physics = A
velset = 0,0
anim = 11300
ctrl = 0

[State 11300,Para]
type = velset
trigger1 = 1
x = 0
y = 0

[State 1000,Som]
type = PlaySnd
trigger1 = Time = 0
value = 2500,0 

[State 1000, 1]
type = Projectile
trigger1 = AnimElem = 2
projanim = 11375
projhitAnim = 11350
projid = 11325
projpriority = 8
projsprpriority = 2
velocity = 6,6
offset = 35,-20
attr = S, SP
animtype  = Hard
damage    = 65,20
getpower  = 0
sparkno = -1
sparkxy = 999,999
priority  = 6
guardflag = MA
pausetime = 11,11
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -6
air.velocity = -6,4

[state 7000, fim]
type = changestate
trigger1 = (animtime = 0 && prevstateno != 3001)
value = 50
ctrl = 1

[state 7000, fim]
type = changestate
trigger1 = (animtime = 0 && prevstateno = 3001)
value = 3001
;---------------------------------------------------------------------------
;Bakuhatsu Ha
[Statedef 11400]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 11400
ctrl = 0

[State 2600,Crtl]
type = CtrlSet
trigger1 = Time >= 52
value = 1

[State 2600,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,0 

[State 11400,EnvShake]
type = EnvShake
trigger1 = animelem = 2
ampl = 3
time = 82

[State 2600, 1]
type = Projectile
trigger1 = AnimElem = 2
ignorehitpause = 1
projanim = 11450
projhits = 8
projmisstime = 1
projremove = 0
projpriority = 50
projremovetime = 82
projid = 2650
velocity = 0,0
offset = 100,0
attr = S, SA
animtype  = Hard
damage    = 20,8
getpower  = 0
sparkno = -1
sparkxy = -1
priority  = 6
hitflag = MAFD
guardflag = MA
pausetime = 4,5
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -.5,-8
air.velocity = -.5,-8
fall.animtype = Hard
fall = 1

[State 2600,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Renzoku Energy Dan (Ar)
[Statedef 11600]
type    = A
movetype= A
physics = A
velset = 0,0
anim = 11600
ctrl = 0

[State 2800,Para]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 2800, 1]
type = Projectile
trigger1 = AnimElem = 2 || AnimElem = 6
projanim = 11625
projhitanim = 11650
velocity = 0,8
offset = 7,-15
attr = A, SP
animtype  = Hard
damage    = 30,10
getpower  = 0
sparkno = -1
sparkxy = -1
priority  = 6
guardflag = MA
pausetime = 15,15
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 22
ground.hittime  = 8
ground.velocity = 0,-1
air.velocity = -3,-3

[State 2800, 2]
type = Projectile
trigger1 = AnimElem = 4
projanim = 11625
projhitanim = 11650      ;Action id when fireball hits
velocity = 0,8
offset = -5,-15
attr = A, SP
animtype  = Hard
damage    = 30,10
getpower  = 0
sparkno = -1
sparkxy = -1
priority  = 6
guardflag = MA
pausetime = 15,15
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 22
ground.hittime  = 8
ground.velocity = -2
air.velocity = -2,-2
fall.animtype = Hard
fall = 1

[State 3001,Voa]
type = null;ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 3001

[state 7000, fim]
type = changestate
trigger1 = (animtime = 0 && prevstateno != 3001)
value = 50
ctrl = 1

[state 7000, fim]
type = changestate
trigger1 = (animtime = 0 && prevstateno = 3001)
value = 3001
;---------------------------------------------------------------------------
; Slide
[Statedef 11700]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 11700
ctrl = 0

[State 2900,Corr]
type = VelSet
trigger1 = AnimElem = 1
x = 7
y = 0

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 22
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 2900,Chute]
type = VelSet
trigger1 = AnimElem = 2
x = 7
y = 0

[State 2900,1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
animtype  = Hard
damage    = 62,11
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 7,7
sparkxy = -10,-60
hitsound   = S5,5            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -4
air.velocity = -4

[State 2900,Fim]
type = ChangeState
trigger1 = command = "QCF_x"
trigger1 = movehit = 1
value = 11710

[State 2900,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; STAND_X
[Statedef 11710]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 10220

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 22
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 220,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 1

[State 220, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 55
guardflag = MA
pausetime = 8,8
sparkxy = -6,-53
hitsound   = S5,2              
guardsound = S6,0                
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -2
air.velocity = -2

[State 220, 2]
type = null;HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 55
guardflag = MA
pausetime = 4,8
sparkxy = -6,-53
hitsound   = S5,2              
guardsound = S6,0                
ground.type = Low
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -3
air.velocity = -2.2,-3.2

[State 2900,Fim]
type = ChangeState
trigger1 = command = "QCF_x"
trigger1 = movehit = 1
value = 11720

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; STAND_B
[Statedef 11720]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 10210

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 22
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 210, 1] ;Uncomment if you want to play a sound
type = null; PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 32
guardflag = MA
pausetime = 4,12
sparkxy = -6,-49
hitsound   = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -3
air.velocity = -2.2,-3.2

[State 210,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 0

[State 2900,Fim]
type = ChangeState
trigger1 = command = "QCF_x"
trigger1 = movehit = 1
value = 11730

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; STAND_Y
[Statedef 11730]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0,0
anim = 10230

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 22
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 230,Som]
type = PlaySnd
trigger1 = Time = 10
value = 200, 1

[State 230, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 61
guardflag = MA
pausetime = 8,7
sparkxy = -6,-47
hitsound   = S5,3              
guardsound = S6,0                
ground.type = Trip
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -35,-5
air.velocity = -35,-5
fall = 1
p2stateno = 2935

[State 2900,Fim]
type = ChangeState
;trigger1 = command = "QCF_x"
trigger1 = movehit = 1
value = 11740

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 11740]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 11740
velset = 0,0

[State 2990,VelX]
type = VelSet
trigger1 = Time >= 0
x = 35

[State 2940,Fim]
type = ChangeState
;trigger1 = BackEdgeBodyDist <= 50
trigger1 = FrontEdgeBodyDist <= 50
triigger2 = Time = 40
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Strong Slide
[Statedef 11800]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 11800
ctrl = 0

[State 2900,Corr]
type = VelSet
trigger1 = AnimElem = 1
x = 12
y = 0

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 0
time = 22
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 2900,Chute]
type = VelSet
trigger1 = AnimElem = 2
x = 11
y = 0

[State 2900,1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
animtype  = Hard
damage    = 75,30
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 7,7
sparkxy = -10,-60
hitsound   = S5,5            
guardsound = S6,0                
ground.type = Trip
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -6,-4
air.velocity = -6,-4

[State 2900,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Ki Release
[Statedef 11900]
type = A
movetype = A
physics = A
anim = 11900
velset = 0,0
ctrl = 0


[state 6100,Para]
type = velset
trigger1 = 1
x = 0
y = 0

[state 6100,ki]
type = projectile
trigger1 = animelem = 2
projanim = 6150
projremovetime = 48
projhits = 3
projmisstime = 4
projremove = 0
velocity = 0,0
offset = -6,0
attr = A, SA
animtype  = Heavy
damage    = 45,8
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S5,4            
guardsound = S6,0                
ground.type = High
ground.slidetime = 15	
ground.hittime  = 15
ground.velocity = -3,-7.6
air.velocity = -3,-7.6
air.animtype = Back
air.juggle = 1
fall = 1

[State 191,Som]
type = PlaySnd
trigger1 = Time = 24
persistency = 0
value = 800,0

[state 6100,spr]
type = sprpriority
trigger1 = time >= 0
value = 3

[State 191,Som]
type = PlaySnd
trigger1 = AnimElem = 2
persistency = 0
value = 191,0

[state 7000, fim]
type = changestate
trigger1 = (time = 58 && prevstateno != 3001)
value = 50
ctrl = 1

[state 7000, fim]
type = changestate
trigger1 = (time = 58 && prevstateno != 3001)
value = 3001
;---------------------------------------------------------------------------
;Ki Release
[Statedef 11950]
type = S
movetype = A
physics = S
anim = 11900
velset = 0,0
ctrl = 0

[state 6100,ki]
type = projectile
trigger1 = animelem = 2
projanim = 6150
projremovetime = 48
projhits = 3
projmisstime = 4
projremove = 0
velocity = 0,0
offset = -6,0
attr = A, SA
animtype  = Heavy
damage    = 45,8
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S5,4            
guardsound = S6,0                
ground.type = High
ground.slidetime = 15	
ground.hittime  = 15
ground.velocity = -3,-7.6
air.velocity = -3,-7.6
air.animtype = Back
air.juggle = 1
fall = 1

[State 191,Som]
type = PlaySnd
trigger1 = Time = 24
persistency = 0
value = 800,0

[state 6100,spr]
type = sprpriority
trigger1 = time >= 0
value = 3

[State 191,Som]
type = PlaySnd
trigger1 = AnimElem = 2
persistency = 0
value = 191,0

[state 6100, fim]
type = changestate
trigger1 = time = 58
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Driving Elbow
[Statedef 12000]
type = S
movetype = A
physics = S
anim = 12000
velset = 0,0
ctrl = 0

[State 1000,Som]
type = PlaySnd
trigger1 = animelem = 2
value = 3000,0 

[State 7600,1]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
animtype  = Hard
damage    = 75,35
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 6,6
sparkxy = -10,-60
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 26
ground.hittime  = 12
ground.velocity = -7
air.velocity = -7

[state 7600,vel]
type = velset
trigger1 = animelem = 5
trigger2 = animelem = 6
x = P2BodyDist X / 10      
y = 0

[state 7600,vel1]
type = velset
trigger1 = animelem = 7
x = P2BodyDist X / 10      ;4.5
y = 0

[state 7600,vel2]
type = velset
trigger1 = animelem = 8
x = P2BodyDist X / 10      
y = 0

[state 7600,fim]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Back Elbow
[Statedef 12100]
type = S
movetype = A
physics = S
anim = 12100
velset = 0,0
ctrl = 0

[State 7600,1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype  = Hard
damage    = 75,35
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 6,6
sparkxy = -10,-60
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Trip
ground.slidetime = 26
ground.hittime  = 12
ground.velocity = -7,-5
air.velocity = -7,-5

[state 7600,vel]
type = veladd
trigger1 = time >= 5
trigger1 = time <= 19
trigger2 = time >= 24
trigger2 = time <= 35
x = 2
y = 0

[state 7600,vel.0]
type = velset
trigger1 = animelem = 3
trigger2 = animelem = 6
x = 0
y = 0

[state 7600,vira]
type = turn
trigger1 = animelem = 4
value = 1

[state 7600,fim]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Sway Elbow
[Statedef 12200]
type = S
movetype = A
physics = S
anim = 12200
velset = 0,0
ctrl = 0

[State 7600,1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
animtype  = Hard
damage    = 75,35
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 6,6
sparkxy = -10,-60
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Trip
ground.slidetime = 26
ground.hittime  = 12
ground.velocity = -7,-5
air.velocity = -7,-5

[state 7600,vel]
type = veladd
trigger1 = time >= 5
trigger1 = time <= 19
x = -2
y = 0

[state 7600,vel]
type = veladd
trigger1 = time >= 24
trigger1 = time <= 45
x = 2
y = 0

[state 7600,vel.0]
type = velset
trigger1 = animelem = 3
trigger2 = animelem = 6
x = 0
y = 0

[state 7600,vira]
type = null;turn
trigger1 = animelem = 4
value = 1

[state 7600,fim]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Dash Elbow
[Statedef 12300]
type = S
movetype = A
physics = S
anim = 12300
velset = 0,0
ctrl = 0

[State 7600,1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = Hard
damage    = 75,35
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 6,6
sparkxy = -10,-60
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Trip
ground.slidetime = 26
ground.hittime  = 12
ground.velocity = -7,-5
air.velocity = -7,-5

[state 7600,vel]
type = veladd
trigger1 = time >= 4
trigger1 = time <= 24
x = 2.7
y = 0

[state 7600,vel.0]
type = velset
trigger1 = animelem = 1
trigger2 = animelem = 3
x = 0
y = 0


[state 7600,vira]
type = null;turn
trigger1 = animelem = 4
value = 1

[state 7600,fim]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Dash Bomb Attack
[Statedef 12400]
type = S
movetype = A
physics = S
anim = 12400
velset = 0,0
ctrl = 0

[state 8000,Vel]
type = VelSet
trigger1 = Time >= 18
x = 10
y = 0

[state 7600,fim]
type = changestate
trigger1 = P2BodyDist X <= 20
value = 12450

[state 7600,fim]
type = changestate
trigger1 = Time = 80
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Dash Bomb Attack
[Statedef 12450]
type = S
movetype = A
physics = S
anim = 12450
velset = 0,0
ctrl = 0

[State 7600,1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = Hard
damage    = 80,40
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 10,10
sparkxy = -5,-40
hitsound   = S5,4
guardsound = S6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2,-3
air.velocity = -2,-3

[state 7600,fim]
type = changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Big Bang Attack (Pro alto)
[Statedef 12500]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 10404
ctrl = 0


[State 730, Seeking]
type = Helper
trigger1 = AnimElem = 2
helpertype = Normal
name = "Galak-Hoo"
id = 2111
pos = 45,-75
postype= p1
facing= 1
stateno= 2111
keyctrl= 0
ownpal= 1


[State 2000,1000]
type = PowerAdd
trigger1 = animelem = 2
value = -100

[State 1000,Som]
type = PlaySnd
trigger1 = time=0
value = 3000,3

[State 1000,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,1

[State 0]
type = Explod
trigger1 = time=3
persistent = 1
anim = 1035
pos = -4,-51
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.7,0.7

[State 0]
type = Explod
trigger1 = time>=10  && time <25
persistent = 1
anim = 1035
pos = -4,-51
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.8,0.8

[State 0]
type = Explod
trigger1 = time=25
persistent = 1
anim = 1035
pos = -4,-51
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.9,0.9


[State 2500,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Jump Bomb Attack
[Statedef 12550]
type = A
movetype = A
physics = N
anim = 12550
velset = 0,0
ctrl = 0

[State 7600,1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = Hard
damage    = 80,40
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 10,10
sparkxy = -5,-40
hitsound   = S5,4
guardsound = S6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2,-3
air.velocity = -2,3

[state 8000,Vel]
type = VelSet
trigger1 = AnimElem = 4, > 4
x = -2.5
y = -2.5

[state 8000,Vel]
type = VelMul
trigger1 = Vel Y < 0
trigger1 = Vel X < 0
x = .3
y = .3

[state 8000,Vel]
type = VelSet
trigger1 = AnimTime = 0
x = 0

[state 7000, fim]
type = changestate
trigger1 = (animtime = 0 && prevstateno != 3001)
value = 50
ctrl = 1

[state 7000, fim]
type = changestate
trigger1 = (animtime = 0 && prevstateno = 3001)
value = 3001
ctrl = 1
;---------------------------------------------------------------------------
;5 Renzokus
[Statedef 12600]
type = S
movetype = A
physics = S
anim = 12600
velset = 0
ctrl = 0

[State 7500,hit.no.voa]
type = StateTypeSet
trigger1 = Time >= 0
trigger1 = Pos Y != 0
value = a

[State 1000,Som]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
value = 3000,0 

[State 7000,proj]
type = projectile
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
projanim = 7250
projhitanim = 7275
projid = 7250
offset = 30,-45
velocity = 9.5
attr = S, SP
animtype  = Heavy
damage    = 25,10
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 6,12
hitsound   = S5,5
guardsound = S6,0
ground.type = Trip
ground.slidetime = 20	
ground.hittime  = 15
ground.velocity = -5.2,-4.5
air.velocity = -5.2,-4.5

[state 7200,fim]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Big Bang Attack (Super)
[Statedef 13000]
type = S
movetype = A
physics = S
anim = 13000
velset = 0
ctrl = 0

[State 6000,Var(1)]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 6000,Var(1)]
type = VarSet
trigger1 = (command = "holdfwd")
v = 1
value = 1

[State 6000,Var(1)]
type = VarSet
trigger1 = (command = "holdup")
v = 1
value = 2

[State 6000,Var(1)]
type = VarSet
trigger1 = (command = "holddown" && pos y < 0)
v = 1
value = 3

[State 7000,AnimFrente]
type = ChangeAnim
trigger1 = (anim != 13015 && Var(1) <= 1 && time < 74)
;trigger1 = (command = "holdfwd") || (command != "holdup" && command != "holddown")
value = 13015

[State 7000,AnimFrente]
type = ChangeAnim
trigger1 = (anim != 13030 && pos y < 0 && Var(1) = 3 && time < 74)
;trigger1 = (command = "holddown") || (command != "holdup" && command != "holdfwd")
value = 13030

[State 7000,AnimFrente]
type = ChangeAnim
trigger1 = (anim != 13045 && Var(1) = 2 && time < 74)
;trigger1 = (command = "holdup") || (command != "holdfwd" && command != "holddown")
value = 13045

[State 7000,VelSet]
type = velset
trigger1 = 1
x = 0
y = 0

[State 7000,SomSuper]
type = PlaySnd
trigger1 = time = 9
value = F20,0

[State 7000,Som]
type = PlaySnd
trigger1 = time = 11
value = 5500,0

[State 2000, 1]
type = SuperPause
trigger1 = Time = 0
pos = 21, -41
anim = -1
darken = 0
poweradd = -1000
time = 74
movetime = 74

[State 9999,Foto]
type = Explod
trigger1 = Time = 0
anim = 9997
pos = 0,0
ownpal = 1
postype = left
sprpriority = -4
removetime = 74
supermove = 1
supermovetime = 74

[State 2000,Fundo]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
Time = 74
value = 0, 0, 0
under = 1
supermove = 1

[State 2500,Strike]
type = helper
trigger1 = (anim != 13000 && animelem = 1 && numhelper = 0 && time < 74)
helpertype = normal
name = "Bola de Energia"
supermovetime = 84
id = 13050
pos = 30,-50
postype = p1
stateno = 13050
ownpal = 0

[State 2000,Raio]
type = null;Explod
trigger1 = AnimElem = 2
anim = 7025
pos = 30,-50
ownpal = 1
;postype = left
sprpriority = 2
removetime = 84
supermovetime = 84

[State 7000,SomHit]
type = PlaySnd
trigger1 = projcontact(7050) = 1
value = 7075,0
volume = 100

[State 2000,Fumaça]
type = Explod
trigger1 = projcontact(7050) = 1
anim = 7075
pos = 0,0
ownpal = 1
postype = p2
sprpriority = 2
removetime = 27
supermovetime = 27

[State 7000,proj]
type = projectile
trigger1 = (time = 74 && anim = 13015)
projanim = 13010;7050
projid = 7050
offset = 30,-50
velocity = 14
attr = S, HP
animtype  = Heavy
damage    = 375,125
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S7050,0
guardsound = S7050,0
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6

[State 7000,proj]
type = projectile
trigger1 = (time = 74 && anim = 13030)
projanim = 13021;7055
projid = 7050
offset = 30,-25
velocity = 12,12
attr = S, HP
animtype  = Heavy
damage    = 375,125
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S7050,0
guardsound = S7050,0
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6

[State 7000,proj]
type = projectile
trigger1 = (time = 74 && anim = 13045)
projanim = 13020;7060
projid = 7050
offset = 30,-80
velocity = 12,-12
attr = S, HP
animtype  = Heavy
damage    = 375,125
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S7050,0
guardsound = S7050,0
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6


[state 7000, fim]
type = changestate
trigger1 = (animtime = 0 && prevstateno != 3001)
value = 0
ctrl = 1

[state 7000, fim]
type = changestate
trigger1 = (animtime = 0 && prevstateno = 3001)
value = 3001
;---------------------------------------------------------------------------
;Big Bang Attack (Super) Level 2
[Statedef 13500]
type = S
movetype = A
physics = S
anim = 13000
velset = 0
ctrl = 0

[State 735,Ki]
type = Explod
trigger1 = timemod = 28,0
Anim = 760
Pos = -6,0
Id = 800
sprpriority = -2
removetime = 9984
bindtime = 9984
Postype = p1
Bindtime = 1
SuperMove = 1


[state 735, treme]
type = envshake
trigger1 = timemod = 28,0
time = 74
ampl = 2
 
[State 191,Som]
type = PlaySnd
trigger1 = timemod = 28,0
value = 760,0
channel = 9

[State 6000,Var(1)]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 6000,Var(1)]
type = VarSet
trigger1 = (command = "holdfwd")
v = 1
value = 1

[State 6000,Var(1)]
type = VarSet
trigger1 = (command = "holdup")
v = 1
value = 2

[State 6000,Var(1)]
type = VarSet
trigger1 = (command = "holddown" && pos y < 0)
v = 1
value = 3

[State 7000,AnimFrente]
type = ChangeAnim
trigger1 = (anim != 13015 && Var(1) <= 1 && time < 74)
;trigger1 = (command = "holdfwd") || (command != "holdup" && command != "holddown")
value = 13015

[State 7000,AnimFrente]
type = ChangeAnim
trigger1 = (anim != 13030 && pos y < 0 && Var(1) = 3 && time < 74)
;trigger1 = (command = "holddown") || (command != "holdup" && command != "holdfwd")
value = 13030

[State 7000,AnimFrente]
type = ChangeAnim
trigger1 = (anim != 13045 && Var(1) = 2 && time < 74)
;trigger1 = (command = "holdup") || (command != "holdfwd" && command != "holddown")
value = 13045

[State 7000,VelSet]
type = velset
trigger1 = 1
x = 0
y = 0

[State 7000,SomSuper]
type = PlaySnd
trigger1 = time = 9
value = F20,0

[State 7000,Som]
type = PlaySnd
trigger1 = time = 11
value = 5500,0

[State 2000, 1]
type = SuperPause
trigger1 = Time = 0
pos = 21, -41
anim = -1
darken = 0
poweradd = -2000
time = 74
movetime = 74

[State 9999,Foto]
type = Explod
trigger1 = Time = 0
anim = 9997
pos = 0,0
ownpal = 1
postype = left
sprpriority = -4
removetime = 74
supermove = 1
supermovetime = 74

[State 2000,Fundo]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
Time = 74
value = 0, 0, 0
under = 1
supermove = 1

[State 2500,Strike]
type = helper
trigger1 = (anim != 13000 && animelem = 1 && numhelper = 0 && time < 74)
helpertype = normal
name = "Bola de Energia"
supermovetime = 84
id = 13050
pos = 30,-50
postype = p1
stateno = 13050
ownpal = 0

[State 2000,Raio]
type = null;Explod
trigger1 = AnimElem = 2
anim = 7025
pos = 30,-50
ownpal = 1
;postype = left
sprpriority = 2
removetime = 84
supermovetime = 84

[State 7000,SomHit]
type = PlaySnd
trigger1 = projcontact(7050) = 1
value = 7075,0
volume = 100

[State 2000,Fumaça]
type = Explod
trigger1 = projcontact(7050) = 1
anim = 7075
pos = 0,0
ownpal = 1
postype = p2
sprpriority = 2
removetime = 27
supermovetime = 27

[State 7000,proj]
type = projectile
trigger1 = (time = 74 && anim = 13015)
projanim = 13031;7050
projid = 7050
offset = 30,-50
velocity = 14
attr = S, HP
animtype  = Heavy
damage    = 500,225
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S7050,0
guardsound = S7050,0
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6

[State 7000,proj]
type = projectile
trigger1 = (time = 74 && anim = 13030)
projanim = 13042;7055
projid = 7050
offset = 30,-25
velocity = 12,12
attr = S, HP
animtype  = Heavy
damage    = 500,225
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S7050,0
guardsound = S7050,0
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6

[State 7000,proj]
type = projectile
trigger1 = (time = 74 && anim = 13045)
projanim = 13041;7060
projid = 7050
offset = 30,-80
velocity = 12,-12
attr = S, HP
animtype  = Heavy
damage    = 500,225
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,3
hitsound   = S7050,0
guardsound = S7050,0
ground.type = Trip
ground.slidetime = 75	
ground.hittime  = 15
ground.velocity = -8,-7.6
air.velocity = -8,-7.6


[state 7000, fim]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Big Bang Attack (Bola de Energia)
[Statedef 13050]
type = S
movetype = A
physics = S
anim = 7025
sprpriority = 2
velset = 0
ctrl = 0

[state 13050,PosAdd]
type = PosAdd
trigger1 = (Time = 0 && Prevstateno = 13055)
y = 30

[state 13050,PosAdd]
type = PosAdd
trigger1 = (Time = 0 && Prevstateno = 13060)
y = -25


[state 13500,Cima]
type = changestate
trigger1 = (parent, anim = 13045)
value = 13055

[state 13500,Cima]
type = changestate
trigger1 = (parent, anim = 13030)
value = 13060

[state 13050, sumir]
type = destroyself
trigger1 = (parent, numproj != 0) || (parent, stateno != 13000 && parent, stateno != 13500)
;---------------------------------------------------------------------------
;Big Bang Attack (Bola de Energia)
[Statedef 13055]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0

[state 13050,PosAdd]
type = PosAdd
trigger1 = (Time = 0 && Prevstateno = 13050)
y = -30

[state 13050,PosAdd]
type = PosAdd
trigger1 = (Time = 0 && Prevstateno = 13060)
y = -55

[state 13500,Cima]
type = changestate
trigger1 = (parent, anim = 13015)
value = 13050

[state 13500,Cima]
type = changestate
trigger1 = (parent, anim = 13030)
value = 13060

[state 13050, sumir]
type = destroyself
trigger1 = (parent, numproj != 0) || (parent, stateno != 13000 && parent, stateno != 13500)
;---------------------------------------------------------------------------
;Big Bang Attack (Bola de Energia)
[Statedef 13060]
type = S
movetype = A
physics = S
sprpriority = 2
velset = 0

[state 13500,Cima]
type = changestate
trigger1 = (parent, anim = 13045)
value = 13055

[state 13500,Cima]
type = changestate
trigger1 = (parent, anim = 13015)
value = 13050

[state 13050,PosAdd]
type = PosAdd
trigger1 = (Time = 0 && Prevstateno = 13055)
y = 55

[state 13050,PosAdd]
type = PosAdd
trigger1 = (Time = 0 && Prevstateno = 13050)
y = 25

[state 13050, sumir]
type = destroyself
trigger1 = (parent, numproj != 0) || (parent, stateno != 13000 && parent, stateno != 13500)
;---------------------------------------------------------------------------
;Zanzoken
[Statedef 4000]
type    = S
movetype= I
physics = S
velset = 0,0
;anim = 14000
ctrl = 0
facep2 = 1

[State 999,Sombra]
type = AfterImage
trigger1 = Time = 9
time = 6
trans = add1
TimeGap  = 3
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 6000,Var(4)]
type = VarSet
trigger1 = time = 0
v = 4
value = 0

[State 6000,Var(4)]
type = VarSet
trigger1 = command = "holdfwd"
v = 4
value = 1

[State 6000,Var(4)]
type = VarSet
trigger1 = command = "holdback"
v = 4
value = 2

[State 6000,Var(4)]
type = VarSet
trigger1 = command = "holdup"
v = 4
value = 3

[State 6000,Var(4)]
type = VarSet
;trigger1 = Pos Y < 0
trigger1 = command = "holddown"
v = 4
value = 4

[State 6000,Var(4)]
type = VarSet
trigger1 = command = "holddiag1"
trigger2 = command = "holdfwd"
trigger2 = command = "holdup"
v = 4
value = 5

[State 6000,Var(4)]
type = VarSet
trigger1 = command = "holddiag2"
trigger2 = command = "holdback"
trigger2 = command = "holdup"
v = 4
value = 6

[State 6000,Var(4)]
type = VarSet
triggerall = Pos Y < 0
trigger1 = command = "holddiag3"
trigger2 = command = "holdfwd"
trigger2 = command = "holddown"
v = 4
value = 7

[State 6000,Var(4)]
type = VarSet
triggerall = Pos Y < 0
trigger1 = command = "holddiag4"
trigger2 = command = "holdback"
trigger2 = command = "holddown"
v = 4
value = 8

;[State 6000,Pause]
;type = SuperPause
;trigger1 = AnimElem = 1
;pos = 0, -60
;anim = -1
;darken = 0
;time = 16
;movetime = 16

[State 6000,PosAdd]
type = PosAdd
trigger1 = Time = 12
trigger1 = Var(4) = [0,1]
x = p2bodydist x + 100  ;200
y = 0

[State 6000,PosAdd]
type = PosAdd
triggerall = Time = 12
trigger1 = Var(4) = 2
x = -150
y = 0

[State 6000,PosAdd]
type = PosAdd
triggerall = Time = 12
trigger1 = Var(4) = 3
x = 0
y = -100

[State 6000,PosAdd]
type = PosSet
triggerall = Time = 12
trigger1 = Var(4) = 4
trigger2 = Var(4) = 7
trigger3 = Var(4) = 8
y = 0

[State 6000,PosAdd]
type = PosAdd
triggerall = Time = 12
trigger1 = Var(4) = 5
x = 200
y = -100

[State 6000,PosAdd]
type = PosAdd
triggerall = Time = 12
trigger1 = Var(4) = 6
x = -200
y = -100

[State 6000,PosAdd]
type = PosAdd
triggerall = Time = 12
trigger1 = Var(4) = 7
x = 200

[State 6000,PosAdd]
type = PosAdd
triggerall = Time = 12
trigger1 = Var(4) = 8
x = -200

[State 6000,Som]
type = PlaySnd
trigger1 = Time = 12
value = 4000,0 

[State 6000,Virar]
type = Turn
triggerall = p2bodydist x < 0
trigger1 = Time = 12
value = 1

[State 6000,Fim]
type = ChangeState
trigger1 = Time = 24
trigger1 = Pos Y >= 0
value = 0
ctrl = 1

[State 6000,Fim]
type = null;ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
trigger1 = PrevStateNo != 3001
value = 50
ctrl = 1

[State 6000,Fim]
type = ChangeState
trigger1 = Time = 24
trigger1 = Pos Y < 0
;trigger1 = PrevStateNo = 3001
value = 3001
;---------------------------------------------------------------------------
;50 Renzokus
[Statedef 14500]
type = S
movetype = A
physics = S
anim = 14500
velset = 0,0
ctrl = 0

[State 7500,hit.no.voa]
type = null;StateTypeSet
trigger1 = Time >= 0
trigger1 = Pos Y != 0
value = a

[State 2000, 1]
type = SuperPause
trigger1 = time = 2
anim = -1
poweradd = -1500
time = 50

[State 2000,Raio]
type = Explod
trigger1 = time = 2
anim = 6666
pos = 30,-45
ownpal = 1
;postype = left
sprpriority = 3
removetime = 50
supermovetime = 50

[State 9999,Foto]
type = Explod
trigger1 = time = 2
anim = 9997
pos = 0,0
ownpal = 1
postype = left
sprpriority = -4
removetime = 50
supermove = 1
supermovetime = 50


[State 2000,Fundo]
type = Envcolor
trigger1 = time = 2
persistent = 0
ignorehitpause = 1
Time = 50
value = 0, 0, 0
under = 1
supermove = 1

[State 1000,Som]
type = PlaySnd
trigger1 = time = 3
value = F20,0 

[State 1000,Som]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
value = 3000,0 

[State 7000,proj]
type = projectile
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
trigger4 = animelem = 9
trigger5 = animelem = 11
projanim = 7250
projhitanim = 7275
projpriority = 8
projid = 7250
offset = 30,-45
velocity = 9.5
attr = S, HP
animtype  = Heavy
damage    = 10,5
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 4,4
hitsound   = S5,5
guardsound = S6,0
ground.type = Low
ground.slidetime = 12	
ground.hittime  = 12
ground.velocity = -2
air.velocity = -2

[state 7200,fim]
type = changestate
trigger1 = time = 400
trigger1 = prevstateno = 3001
value = 3001

[state 7200,fim]
type = changestate
trigger1 = time = 300
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Final Flash
[Statedef 15500]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 15500
ctrl = 0

[State 2000,1000]
type = PowerAdd
trigger1 = animelem = 1
value = -2000

[State 7500,hit.no.voa]
type = null;StateTypeSet
trigger1 = Time >= 0
trigger1 = Pos Y != 0
value = a

[State 2000,Som]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 2000,NoHit]
type = NotHitBy
trigger1 = Time > 34
value = ,NP,SP,NA,SA

[State 2000, 1]
type = SuperPause
trigger1 = animelem = 1
pos = 21, -41
anim = -1
time = 36

[State 2000,Raio]
type = Explod
trigger1 = AnimElem = 1
anim = 6666
pos = 21,-42
ownpal = 1
;postype = left
sprpriority = 3
removetime = 36
supermovetime = 36

[State 9999,Foto]
type = Explod
trigger1 = AnimElem = 1
anim = 9997
pos = 0,0
ownpal = 1
postype = left
sprpriority = -4
removetime = 36
supermove = 1
supermovetime = 36

[State 2000,Raio2]
type = Explod
trigger1 = AnimElem = 1
anim = 6666
pos = -19,-42
ownpal = 1
sprpriority = 3
removetime = 36
supermovetime = 36

[State 2000,Fundo]
type = Envcolor
trigger1 = AnimElem = 1
persistent = 0
ignorehitpause = 1
Time = 36
value = 0, 0, 0
under = 1
supermove = 1

[State 2000, 3]
type = Projectile
trigger1 = AnimElem = 2
projanim = 2050
projhitanim = 2051
projhits = 60
projmisstime = 1
projremanim = 2051
projshadow = -1
projpriority = 4
projremovetime = 102
projid = 2050
velocity = 0.001,0.001
offset = 8,-45
attr = S, HP
animtype  = Heavy
damage    = 15,10
getpower  = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 6
guardflag = MA
pausetime = 1,3
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -6,-3
air.velocity = -6,-2
fall.animtype = Hard
fall = 1

[State 3001,Fim.no.voa]
type = ChangeState
trigger1 = animtime = 0
trigger1 = pos Y < 0
value = 3001

[State 2000,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Big Bang Attack Aereo
[Statedef 16000]
type = A
movetype = A
physics = A
anim = 10405
velset = 0
ctrl = 0
;poweradd = -1000

[State 730, Seeking]
type = Helper
trigger1 = AnimElem = 2
helpertype = Normal
name = "Galak-Hoo"
id = 3111
pos = 54,5
postype= p1
facing= 1
stateno= 3111
keyctrl= 0
ownpal= 1

[State 2000,1000]
type = PowerAdd
trigger1 = animelem = 2
value = -300

[State 6000,Para]
type = VelSet
trigger1 = Time < 100
x = 0
y = 0

[State 1000,Som]
type = PlaySnd
trigger1 = time=0
value = 3000,3

[State 1000,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,1


[State 0]
type = Explod
trigger1 = time=3
persistent = 1
anim = 1035
pos = -4,-51
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.7,0.7

[State 0]
type = Explod
trigger1 = time>=10  && time <25
persistent = 1
anim = 1035
pos = -4,-51
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.8,0.8

[State 0]
type = Explod
trigger1 = time=25
persistent = 1
anim = 1035
pos = -4,-51
postype = p1
sprpriority = 2
bindtime = 3
ignorehitpause = 3
scale=0.9,0.9

[State 6000,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
;---------------------------------------------------------------------------
; Gyarric Gun Fire (Parte do P1)
[Statedef 16050]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 16050
ctrl = 0
poweradd = -1500

[State 3051,Som]
type = PlaySnd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 12
trigger3 = AnimElem = 16
trigger4 = AnimElem = 20
trigger5 = AnimElem = 24
trigger6 = AnimElem = 28
trigger7 = AnimElem = 32
trigger8 = AnimElem = 36
trigger9 = AnimElem = 40
trigger10 = AnimElem = 44
trigger11 = AnimElem = 48
trigger12 = AnimElem = 52
trigger13 = AnimElem = 56
trigger14 = AnimElem = 60
trigger15 = AnimElem = 64
trigger16 = AnimElem = 68
trigger17 = AnimElem = 10
trigger18 = AnimElem = 14
trigger19 = AnimElem = 18
trigger20 = AnimElem = 22
trigger21 = AnimElem = 26
trigger22 = AnimElem = 30
trigger23 = AnimElem = 34
trigger24 = AnimElem = 38
trigger25 = AnimElem = 42
trigger26 = AnimElem = 46
trigger27 = AnimElem = 50
trigger28 = AnimElem = 54
trigger29 = AnimElem = 58
trigger30 = AnimElem = 62
trigger31 = AnimElem = 66
trigger32 = AnimElem = 70
trigger33 = AnimElem = 3
value = 3000,0

[State 3051,2]
type = null;SuperPause
trigger1 = AnimElem = 1
pos = 32,-35 
anim = 30

[State 3051,Proj]
type = Projectile
trigger1 = AnimElem = 8
trigger2 = AnimElem = 12
trigger3 = AnimElem = 16
trigger4 = AnimElem = 20
trigger5 = AnimElem = 24
trigger6 = AnimElem = 28
trigger7 = AnimElem = 32
trigger8 = AnimElem = 36
trigger9 = AnimElem = 40
trigger10 = AnimElem = 44
trigger11 = AnimElem = 48
trigger12 = AnimElem = 52
trigger13 = AnimElem = 56
trigger14 = AnimElem = 60
projheightbound = -240, 100
projedgebound = 100
projscreenbound = 100
projanim = 2850
ProjHitAnim = 3333      ;Action id when fireball hits
velocity = 0,6.5
offset = 10,2
attr = A, HP
hitflag = MAFD
animtype  = Hard
damage    = 20
getpower  = 0
sparkno = -1
sparkxy = -1
priority  = 6
guardflag = MA
pausetime = 2,2
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Trip
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = 0,0
air.velocity = 0,0
fall.animtype = Low
fall = 0
air.hittime = 40
p2facing = 1
p2stateno = 3006
fall = 0

[State 3051,Proj 2]
type = Projectile
trigger1 = AnimElem = 10
trigger2 = AnimElem = 14
trigger3 = AnimElem = 18
trigger4 = AnimElem = 22
trigger5 = AnimElem = 26
trigger6 = AnimElem = 30
trigger7 = AnimElem = 34
trigger8 = AnimElem = 38
trigger9 = AnimElem = 42
trigger10 = AnimElem = 46
trigger11 = AnimElem = 50
trigger12 = AnimElem = 54
trigger13 = AnimElem = 58
projheightbound = -240, 100
projedgebound = 100
projscreenbound = 100
projanim = 2850
ProjHitAnim = 3333      ;Action id when fireball hits
velocity = 0,6.5
offset = -10,2
attr = A, HP
hitflag = MAFD
animtype  = Hard
damage    = 20
getpower  = 0
sparkno = -1
sparkxy = -1
priority  = 6
guardflag = MA
pausetime = 2,2
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Trip
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = 0,0
air.velocity = 0,0
fall.animtype = Low
fall = 0
air.hittime = 40
p2facing = 1
p2stateno = 3006
fall = 0

[State 3051,Proj 2]
type = Projectile
trigger1 = AnimElem = 62
projheightbound = -240, 100
projedgebound = 100
projscreenbound = 100
projanim = 2850
ProjHitAnim = 3333      ;Action id when fireball hits
velocity = 0,6.5
offset = -10,2
attr = A, HP
hitflag = MAFD
animtype  = Hard
damage    = 20
getpower  = 0
sparkno = -1
sparkxy = -1
priority  = 6
guardflag = MA
pausetime = 2,2
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Trip
ground.slidetime = 400
ground.hittime  = 400
ground.velocity = 0,0
air.velocity = 0,0
fall.animtype = Low
fall = 0
air.hittime = 40
p2facing = 1
p2stateno = 3005
fall = 0

[State 3051, 3]
type = VelSet
trigger1 = AnimElem = 3
y = -6

[State 3051, 4]
type = VelSet
trigger1 = AnimElem = 4
x = 0
y = 0

[State 3051,Bola]
type = Projectile
trigger1 = AnimElem = 62
projanim = 3500
projremovetime = 27
velocity = 0,0
offset = 0,-85
attr = A, HP
animtype  = Hard
hitflag = MAFD
damage    = 6
getpower  = 0
sparkno = -1
sparkxy = -1
priority  = 6
guardflag = MA
pausetime = 3,3
hitsound   = S5,4            
guardsound = S6,0                
ground.type = Trip
ground.slidetime = 400
ground.hittime  = 400
down.hittime  = 400
ground.velocity = -2
air.velocity = -3,-3
fall.animtype = Hard
fall = 1

[State 2000,Fumaça]
type = Explod
trigger1 = Time > 270
trigger1 = projcontact3775 = 1
anim = 7075
pos = 0,0
ownpal = 1
postype = p2
sprpriority = 2
removetime = 27
supermovetime = 27

[State 2000,Fumaça]
type = AllPalFx
trigger1 = Time > 270
trigger1 = projcontact3775 = 1
add = 255,255,64
mul = 255,255,192
time = 27

[State 7000,SomHit]
type = PlaySnd
trigger1 = Time > 270
trigger1 = projcontact3775 = 1
value = 7075,0
volume = 100

[State 3051,Bola1]
type = Projectile
trigger1 = AnimElem = 64
projheightbound = -240, 100
projedgebound = 100
projscreenbound = 100
projanim = 3550
projid = 3775
velocity = 0,8
offset = 0,-85
attr = A, HP
animtype = Back
damage  = 240
sparkno = -1
sparkxy = -1
priority  = 6
hitflag = MAFD
guardflag = MA
pausetime = 6,6
hitsound   = S5,4     
guardsound = S6,0           
ground.type = Low
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = 0,5
air.velocity = 0,5
fall.animtype = Hard
fall = 1
;p2facing = 1
;p2stateno = 3006
;fall = 0


[State 3051,66]
type = PlaySnd
trigger1 = AnimElem = 63
value = 3050,0 

[state 7000, fim]
type = changestate
trigger1 = (animtime = 0 && prevstateno != 3001)
value = 50
ctrl = 1

[state 7000, fim]
type = changestate
trigger1 = (animtime = 0 && prevstateno = 3001)
value = 3001
;---------------------------------------------------------------------------
;Suicide Bomb
[Statedef 16500]
type = S
movetype = A
physics = S
anim = 16500
velset = 0,0
ctrl = 0

[State 191, 0]
type = VarSet
trigger1 = time = 0
v = 3
value = 1  

[State 2000,1000]
type = LifeAdd
trigger1 = time = 46 && Life < 1200
value = -9999

[State 2000,1000]
type = LifeSet
trigger1 = time = 46 && Life >= 1200
value = 1

[State 2000,1000]
type = null;LifeSet
trigger1 = time = 47 && Life != 0
value = 1

[State 7000,SomHit]
type = PlaySnd
trigger1 = projcontact(8050) = 1
value = 7075,0
volume = 100

[State 8000,Som]
type = PlaySnd
trigger1 = AnimElem = 4
value = 191,0
volume = 200

[State 7000,proj]
type = projectile
trigger1 = animelem = 4
projanim = 8050
projremovetime = 50
projremove = 0
projpriority = 8
projid = 8050
offset = 0,-45
velocity = 0,0
attr = S, HP
animtype  = Heavy
damage    = 9999,9999
getpower  = 0
givepower = 0
sparkno = -1
sparkxy = -1
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 4,4
hitsound   = S5,5
guardsound = S6,0
ground.type = Trip
ground.slidetime = 999	
ground.hittime  = 9
ground.velocity = 0,-25
air.velocity = 0,-25
fall = 1


[State 2000, 1]
type = SuperPause
trigger1 = animelem = 3
anim = -1
poweradd = -3000
time = 50


[State 9999,Foto]
type = Explod
trigger1 = animelem = 3
anim = 9999
pos = 157,237
ownpal = 1
postype = left
sprpriority = -4
removetime = 50
supermove = 1
supermovetime = 50


[State 2000,Fundo]
type = Envcolor
trigger1 = animelem = 3
persistent = 0
ignorehitpause = 1
Time = 50
value = 0, 0, 0
under = 1
supermove = 1

[State 1000,Som]
type = PlaySnd
trigger1 = time = 3
value = F20,0 

[state 8000,sobe]
type = veladd
trigger1 = animelem = 2
trigger1 = time >= 0
y = -6

[state 8000,sobe]
type = velset
trigger1 = animelem = 3
y = 0

[state 8000,fim]
type = changestate
trigger1 = animelem = 4, > 4
trigger1 = numprojid(8050) = 0
;trigger1 = P2Life > 0
value = 5050
ctrl = 0

[state 8000,fim]
type = null;changestate
trigger1 = win = 1
trigger2 = lose = 1
value = 0
ctrl = 1
;-----------------------
[Statedef 2630]
type    = S
movetype= A
physics = S
juggle = 0
velset = 0,0
anim = 4000
ctrl = 0
;facep2 = 1
;poweradd = -1000

[State 6000,Pause]
type = SuperPause
trigger1 = AnimElem = 1
pos = 0, -60
anim = -1
darken = 0
time = 16
movetime = 16

[State 191,Som]
type = PlaySnd
trigger1 = Time = 15
value = 4000,0
volume=255

[State 0]
type = posadd
trigger1 = Time = 16 && p2Dist y <0
x = (P2Dist X) -5
y = (P2Dist Y) -3

[State 0]
type = posadd
trigger1 = Time = 16 && p2Dist y >0
x = (P2Dist X) -5
y = (P2Dist Y) -0

[State 0]
type = posadd
trigger1 = Time = 16 && p2Dist y =0
x = (P2Dist X) -5
y = 0

[State 4000,1]
type = CtrlSet
trigger1 = AnimTime = 0
value = 1

[State 60,Fim]
type = ChangeState
trigger1 = animTime = 0
value = 220
ctrl = 1

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
[Statedef -2]

[State -2, VarSet muda]
type = VarSet
triggerall =!var(6)
trigger1 = stateno=191
trigger2 = stateno=5900
v = 21
value=1

[State -2, VarSet muda]
type = Varadd
triggerall =!var(6)
trigger1 = command="s"  && time=1
v = 21
value=1

[State -2, VarSet volta]
type = Varset
triggerall =!var(6)
trigger1 = command="s"  && time=1 && var(21)= 7
v = 21
value=1


[State -2, VarSet round]
type = VarSet
trigger1 = time>=0
v = 32
value=Roundno


[State -2, DEBUG]
trigger1 =var(32) && var(21)= 2
type = DisplayToClipboard
ignorehitpause = 1
text ="Vel X = %f Vel Y = %f "
params =(Vel x) , (Vel y)

[State -2, DEBUG]
trigger1 =var(32) && var(21)= 3
type = DisplayToClipboard
ignorehitpause = 1
text =" P2BodyDist X = %f P2BodyDist Y = %f Screenpos Y = %f"
params =P2BodyDist X, P2BodyDist Y , screenpos Y

[State -2, DEBUG]
trigger1 =var(32) && var(21)= 4
type = DisplayToClipboard
ignorehitpause = 1
text ="Round = %d  POWER= %d Facing= %d Adversarios= %d"
params =var(32), Power , Facing , NumEnemy

[State -2, DEBUG]
trigger1 =var(32) && var(21)= 5
type = DisplayToClipboard
ignorehitpause = 1
text ="Explod = %d  Helpers= %d Partner= %d Proj= %d Target= %d"
params =NumExplod, NumHelper , NumPartner , NumProj , NumTarget


[State -2, DEBUG]
trigger1 =var(32) && var(21)= 6
type = DisplayToClipboard
ignorehitpause = 1
text ="%d"
params = win

[State -2, DEBUG]
trigger1 =var(32) && var(21)= 7
type = DisplayToClipboard
ignorehitpause = 1
text ="%d"
params = Win



[State -2, Null]
type =  null
trigger1 =  var(55)
hitdefpersist=1
movehitpersist	= 1
hitcountpersist= 1
ignorehitpause = 500
persistent =  1
movetime = 500
supermovetime = 500
pausemovetime = 500
removeongethit = 500
ontop = 1
poweradd = -1000
juggle = 16
facep2 = 1

[State -2, AssertSpecial]
type = AssertSpecial
trigger1 =  (stateno!=2323 && stateno=[2302,2326])  || stateno=2301 && time>=20 && p2stateno!=[130,155]
flag =nobardisplay
ignorehitpause = 500

[State -2, AssertSpecial]
type = AssertSpecial
trigger1 =  var(55)
flag =nojugglecheck
flag2 =unguardable
hitdefpersist=1
movehitpersist	= 1
hitcountpersist= 1
ignorehitpause = 500
persistent =  1
movetime = 500
supermovetime = 500
pausemovetime = 500
removeongethit = 500
ontop = 1
poweradd = -1000
juggle = 16
facep2 = 1

;[State -2,Variavel]
;type = VarSet
;trigger1 = PalNo = [7,12]
;v = 9
;value = 1

;[State -2,NoHit]
;type = NotHitBy
;trigger1 =var(55)>0 && numHelper(2401)=1
;value = ,NP,SP,NA,SA
;value2 = sca

[State -2, 2]
type = HitOverride
trigger1 = time >= 0 && movetype!=H
trigger1 = var(55)>0 && numHelper(2401)=1
slot = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT,AA,AT,AP
stateno = 8892

[State -2, LifeAdd]
type = LifeAdd
trigger1 =life!=1 && var(55)=[1,15]
value =-10

[State -2, PalFXWiz]
type = AllPalFX
trigger1 =var(55)>0 && numHelper(2401)=1 && stateno!=8892 && (stateno!=[180,184]) && (stateno!=[2302,2326])
time =1
add = -80,-80,-80
mul = 200,200,200
sinadd = 0,0,0,0
invertall = 0
color = 170
ignorehitpause = 1000
movetime=500
supermovetime = 500
pausemovetime = 500
persistent = 1


[State -2, PalFXWiz]
type = AllPalFX
trigger1 =var(55)>0 && numHelper(2401)=1 && prevstateno=2326 && stateno=50 && (gametime%1)=0
time =1
add = -80,-80,-80
mul = 200,200,200
sinadd = 0,0,0,0
invertall = 0
color = 170
ignorehitpause = 1000
movetime=500
supermovetime = 500
pausemovetime = 500
persistent = 1


[State -2,Variavel]
type = VarSet
trigger1 =var(55)>0 && stateno=[180,184]
v = 55
value = 0


;pal = 248,0,0
;add = 150,150,200

[State -2, PalFX]
type = PalFX
trigger1 =var(55)>0 && (gametime%8)=0  && numHelper(2401)=1 && (stateno!=[8892,8893]) && (stateno!=[180,184])
time =4
add = 60,60,110
sinadd = 30,10,30,4
color = 256
invertall = 0
ignorehitpause = 1000
persistent = 1

[State -2,Sombra super]
type = AfterImage
trigger1 = var(55)> 0 && (gametime%30)=0  && stateno!=2301 && stateno!=8892 && stateno!=8810
time = var(55)
trans = none
;TimeGap  = 2
FrameGap = 5
length = 30
PalBright   =   10,  10,  10
PalContrast = 208,208,208
PalAdd      =   2,  0,  1
palmul = .65,.65,.75
ignorehitpause = 1


;[State -2, AllPalFX]
;type = PalFX
;trigger1 =var(55)>0 && var(55) < 492 && (gametime%20)=0  && numHelper(2401)=1
;time =20
;add = 55,0,55
;mul = 256,256,256
;sinadd = -15,0,-15,20
;color = 256
;invertall = 0
;ignorehitpause = 99999
;persistent = 1

[State -2, Timecount super]
type = VarAdd
trigger1 = var(55) > 0 && (Gametime%2)=0
trigger1 = var(9) = 0
ignorehitpause = 0
var(55) = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 =var(55) > 0 && (Gametime%2)=0
value =    3000
ignorehitpause = 1
persistent = 1


;[State -2,Variavel]
;type = VarSet
;trigger1 = var(55)=0
;var(55)=0

[State -2, anda fora]
type = ChangeState
trigger1 = prevstateno=8874
trigger1 = BackEdgeBodyDist <= -1
value = 2970
ctrl = 0

[State -2,sera]
type = ChangeState
trigger1 = P2stateno = 0002
value = 0001

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  stateno!=[2000,2001]
trigger2 =NumProjid(3050) =0
ID = 2088
ignorehitpause = 1
persistent = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  stateno!=[2000,2001]
trigger2 =NumProjid(3050) =0
ID = 2099
ignorehitpause = 1
persistent = 1

; -------------nao destranforma com golpe -----------------
;[state -2,hit]
;type = changeanim
;triggerall = Var(9) = 1 && time>=0
;trigger1 = AnimExist(anim + 10000)
;trigger2 = SelfAnimExist(anim + 10000)
;value = Anim + 10000

; ------------- destranforma com golpe -----------------

[State -2,Som]
type = PlaySnd
triggerall =Var(9)=1
trigger1 = movetype=H  && time=1
trigger1 = anim<5000
value = 11,1
volume=255

[State -3]
type = pause
triggerall =Var(9)=1
triggerall = anim<5000
trigger1 = movetype=H  && time=1
trigger2 = movetype=H  && time=2
trigger3 = movetype=H  && time=3
time =1

[State 0, PalFXWiz]
type = PalFX
trigger1 = movetype=H
trigger1 = anim<5000
trigger1 =time=1 && var(9)=1
time = 1
add = 150,150,0
mul = 255,255,0
sinadd = -80,-80,-80,4
invertall = 0
color = 240
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = movetype=H
trigger1 = anim<5000
trigger1 = var(9)=1 && time =2
time = 3
add = 100,100,0
mul = 196,196,0
sinadd = -80,-80,-80,3
invertall = 0
color = 240
ignorehitpause = 1
persistent = 1

[State -2, PalFXWiz]
type = AllPalFX
trigger1 = movetype=H
trigger1 = anim<5000
trigger1 = time=3  && var(9)=1
time =5
add = 100,100,180
mul = 186,186,186
sinadd = -80,-80,-80,5
invertall = 0
color = 240
ignorehitpause = 1
persistent = 1

[state -2, treme]
type = envshake
trigger1 = movetype=H
trigger1 = anim<5000
trigger1 = time< 2  && var(9)=1
time = 9
ampl = -4

;[State -2, VarSet]
;type = VarSet
;triggerall =Var(9)=1
;trigger1 = movetype=H  && time=3
;trigger1 = anim<5000
;trigger2 = stateno=5030 && life=0 && anim=15030
;trigger3 = stateno=5050 && life=0 && anim=15050
;trigger4 = stateno=5071 && life=0 && anim=15070
;var(9)=0
; ------------- destranforma com golpe fim -----------------

;[state -2,hit]
;type = changeanim
;triggerall = Var(9) = 1
;triggerall = anim != 15000
;triggerall = stateno != [5000,5210]
;triggerall = stateno != [130,155]
;triggerall = anim < 5000
;triggerall = movetype = H
;trigger1 = Vel Y = 0
;trigger2 = stateno = 1085 && p2name = "Broli Remix ver1.2"
;value = 15000

;[state -2,hit]
;type = changeanim
;triggerall = Var(9) = 1
;triggerall = anim != 15000
;triggerall = stateno != [5000,5210]
;triggerall = stateno != [130,155]
;triggerall = anim != [5000,5210]
;triggerall = movetype = H
;trigger1 = Vel Y = 0
;value = 15000



[State -2, nao barra]
type = AssertSpecial
trigger1 = stateno=8001
flag = NoBarDisplay
flag2 = NoMusic
ignorehitpause = 10
persistent = 1

;[State -2, nao barra]
;type = AssertSpecial
;trigger1 =stateno=887 || stateno=[8810,8819]
;trigger2 = NumHelper(35636) >0
;flag = NoBarDisplay
;flag2 = NoMusic
;ignorehitpause = 10
;persistent = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  stateno!=[2000,2001]
trigger2 =NumProjid(3050) =0
ID = 2088
ignorehitpause = 1
persistent = 1

[State -2,Nohit counter]
type = NotHitBy
trigger1 = stateno=[2701,2707]
trigger2 = stateno=6101
value = ,NP,SP,NA,SA
time = 35

[State -2]
type = removeExplod
trigger1 =movetype=H && stateno=[5000,5210]
trigger2 =Movetype=I
id=8585

[State -2]
type = removeExplod
trigger1 =stateno!=0 
id=736

[State -2]
type = removeExplod
trigger1 =stateno!=3001
trigger2 =stateno=3001 && Anim!=1010 
id=737

[State -1,Sumir]
type = PosAdd
trigger1 = Var(3) = 1 && Life = 0
y = 999

[State -1,Sumir]
type = ChangeAnim
trigger1 = Var(3) = 1 && Life = 0 && Anim != 9998
value = 9998

[State -1,Sumir]
type = ChangeState
trigger1 = Var(3) = 1 && stateno != 8000 && Pos Y >= 0 && stateno != 5050 && stateno != 5150 && stateno != 16500
value = 5150

[State -1,Sumir]
type = PosSet
trigger1 = Var(3) = 1 && stateno != 8000 && Stateno = 5150 && Life > 0 && stateno != 16500
y = 0

[State -1,Sumir]
type = VarSet
trigger1 = Var(3) = 1 && stateno != 8000 && Stateno = 5150 && Life > 1 && stateno != 16500
v = 3
value = 0

[State -1,Som]
type = StopSnd
trigger1 = Stateno != 800 && Stateno != 801 && stateno != 9000 && stateno != 10800 && stateno != 13500 && stateno != 7050
channel = 9

[State -2,Power]
type = PowerAdd
trigger1 = Time >= 0 && Var(9) = 0
ignorehitpause = 1
value = 1

;[State -2,Power]
;type = PowerAdd
;trigger1 = Time >= 0 && Var(9) = 1
;ignorehitpause = 1
;value = 1

[State -2,...]
type = VarSet
trigger1 = pos y >= 0 && stateno != [130,155]
v = 5
value = 0

[State -2,...]
type = AssertSpecial
trigger1 = Var(5) = 1
flag = nowalk

[State -2,...]
type = null;VelSet
trigger1 = Var(5) = 1 
y = 0

[State -2,...]
type = null;ChangeState
trigger1 = Var(5) = 1 && stateno != [130,155]
value = 3001

[State -2,Display1]
type = DisplayToClipboard
;triggerall = !var(10)
trigger1 = Var(9)=0 && Var(21)=1; ||    Var(9)=1
text = "Ultimate Ubu A.I. - DESATIVADA %d - Counter= %d / FrontDist %d / BackDist %d \nMODO SUPER REFLECCION =   %d"
params = Var(9),Var(20), FrontEdgeBodyDist, BackEdgeBodyDist, var(55)


;[State -2, DEBUG]
;trigger1 =var(55) > 0
;type = DisplayToClipboard
;ignorehitpause = 1
;text = "\n  %d"
;params =var(55)


[State -2,Display2]
type = DisplayToClipboard
;triggerall = !var(10) 
trigger1 = Var(6)=1
text = "A.I.ATAQUE %d - Counter = %d  / FrontDist %d / BackDist %d \nMODO SUPER REFLECCION =   %d "
params = Var(6),Var(20),FrontEdgeBodyDist, BackEdgeBodyDist, var(55)

[State -2,Display2]
type = DisplayToClipboard
;triggerall = !var(10)
trigger1 = Var(6)=[30,33]
text = "Super A.I. ATAQUE %d - Counter = %d  / FrontDist %d / BackDist %d \nMODO SUPER REFLECCION =   %d "
params = Var(6),Var(20),FrontEdgeBodyDist, BackEdgeBodyDist, var(55)

[State -2,Display3]
type = DisplayToClipboard
;triggerall = !var(10) 
trigger1 = Var(6)=2
text = "A.I.DEFESA %d - Counter = %d   / FrontDist %d / BackDist %d \nMODO SUPER REFLECCION =   %d "
params = Var(6),Var(20),FrontEdgeBodyDist, BackEdgeBodyDist, var(55)

[State -2,Ki]
type = removeexplod
trigger1 = stateno != 800 && stateno != 9000 && stateno != 10181 && stateno != 10800 && stateno != 13500 && stateno != 7050
id = 800

;[State -2,2]
;type = palfx
;trigger1 = var(10) && timemod = 2,0
;pal = 248,0,0
;add = 255,32,32
;mul = 255,96,96
;time = 1

;---------------------------------------------------------------------------
; Custom A.I. (goku)

; Kamek and Luchini appear to have been the first ones to use the IsHomeTeam AI activation concept.
[State -3, SetAI]
type = VarSet
triggerall = !RoundState
triggerall = IsHomeTeam
trigger1 = (TeamSide = 2)
trigger2 = (MatchNo > 1)
var(6) = 1

[State -3, Unfair]
type = VarSet
trigger1 = !RoundState
trigger1 = (var(6) != 1)
trigger1 = NumPartner
trigger1 = (ID > Partner,ID)
trigger1 = (TeamSide = 2)
var(6) = 1

[State -3, AI Helper (Compatibly Partnered Version)]
type = Helper
trigger1 = !var(6)
trigger1 = !NumHelper(9742)
trigger1 = (RoundState = 2)
trigger1 = Alive
trigger1 = NumPartner
trigger1 = Partner,SelfAnimExist(9741)
HelperType = normal
name = "AI Helper (Simul Version)"
ID = 9742
pos = 9999999,99999
StateNo = 9742
KeyCtrl = 1
PauseMoveTime = 999999999
SuperMoveTime = 999999999

; If you want to use the Guard mode, Dummy mode, Distance, or Button jam dummy control
; options in Training mode without activating the dummy's AI while working on your
; character, then all you need to do is temporarily disable this controller.

[State -3, AI Helper]
type = Helper
triggerall = !var(6) 
triggerall = !NumHelper(9741)
triggerall = (RoundState = 2)
triggerall = Alive
trigger1 = !NumPartner
trigger2 = !(Partner,SelfAnimExist(9741))
HelperType = normal
name = "AI Helper"
ID = 9741
pos = 9999999,99999
StateNo = 9741
KeyCtrl = 1
PauseMoveTime = 999999999
SuperMoveTime = 999999999

[State -3, TurnBackOnAI]
type = VarSet
trigger1 = (var(6) = -2)
trigger1 = (RoundState = 2)
trigger1 = Alive
var(6) = 1

[State -3, fiXOR]
type = VarSet
trigger1 = !HitPauseTime
trigger2 = (var(58) < GameTime-1)
var(57) = HitPauseTime
IgnoreHitPause = 1

[State -3, GameTimeVar]
type = VarSet
trigger1 = 1
var(58) = GameTime
ignoreHitPause = 1

[State -3, XOR]
type = VarSet
triggerall = var(6)!=1
triggerall = !var(57)
triggerall = (var(58) = GameTime-1)
trigger1 = command="a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = command = "x"
trigger5 = command = "y"
trigger6 = command = "z"
trigger7 = command = "DD"
trigger8 = command ="FF"
trigger9 = command ="holdfwd"
trigger10 = command ="holdback"
trigger11 = command ="holdup"
trigger12 = command ="holddown"
var(6) = 1

[State -3, XOR]
type = VarSet
triggerall = var(6)=1 && p2movetype = A
triggerall = !var(57)
triggerall = (var(58) = GameTime-1)
trigger1 = command="a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = command = "x"
trigger5 = command = "y"
trigger6 = command = "z"
trigger7 = command = "DD"
trigger8 = command ="FF"
trigger9 = command ="holdfwd"
trigger10 = command ="holdback"
trigger11 = command ="holdup"
trigger12 = command ="holddown"
var(6) = 2


[State -2]
type = removeExplod
trigger1 =movetype=H
id=8585

;-------------------------------------------------------------------------
[State -2, Fly]
type = ChangeState
triggerall = Var(6)= 1 ||  Var(6)= 2
triggerall = ctrl = 1
triggerall = P2Life > 0
triggerall = MoveType != H
triggerall = Pos Y < 0
triggerall = Stateno != 3001
triggerall = PrevStateno != 3001
trigger1 = P2Name = "Goku-n-hd by EmuBoarding"
trigger1 = P2StateNo = 1500
trigger2 = P2Name = "Mystic Gohan by Zero_X"
trigger2 = P2StateNo = 2000
trigger3 = P2Name = "Freeza by OverMind"
trigger3 = P2StateNo = 3001
trigger4 = P2Name = "Kurilin by EmuBoarding"
trigger4 = P2StateNo = 1500
trigger5 = P2Name = "Trunks por ssonic"
trigger5 = P2StateNo = 1900
trigger6 = P2Name = "Vegeta Super Sayjin 4 by EB and BS"
trigger6 = P2StateNo = 1500
trigger7 = P2Name = "N-Trunks by EmuBoarding"
trigger7 = P2StateNo = 1500
trigger8 = P2Name = "Mr.Boo by OverMind"
trigger8 = P2StateNo = 3001
trigger9 = P2Name = "Vegeta by OverMind"
trigger9 = P2StateNo = 3001
trigger10 = P2Name = "Broli Remix ver1.2"
trigger10 = P2StateNo = 2000
trigger11 = P2Name = "Mew Two"
trigger11 = P2StateNo = 1051
trigger12 = P2Name = "Raditz"
trigger12 = P2StateNo = 1510
trigger13 = P2Name = "C-Trunks by EmuBoarding"
trigger13 = P2StateNo = 1500
trigger14 = P2Name = "Piccolo por Ssonic"
trigger14 = P2StateNo = 1900
trigger15 = P2Name = "M. Bison"
trigger15 = P2StateNo = 89598
trigger16 = P2Name = "Cell por Ssonic"
trigger16 = P2StateNo = 1900
trigger17 = P2Name = "Recoom by Lucifer"
trigger17 = P2StateNo = 1500
trigger18 = P2Name = "Vegetto EX by Shishi-Ryu"
trigger18 = P2StateNo = 2000
trigger19 = P2Name = "Saiyaman by OverMind and Lucifer"
trigger19 = P2StateNo = 3001
value = 3001

[State -2, Fly]
type = ChangeState
triggerall = Var(6)= 1 ||  Var(6)= 2
triggerall = ctrl = 1
triggerall = P2Life > 0
triggerall = MoveType != H && p2movetype != A
triggerall = Pos Y >= 0
triggerall = Stateno != 3115
triggerall = PrevStateno != 3115
trigger1 = P2Name = "Goku-n-hd by EmuBoarding"
trigger1 = P2StateNo = 1500
trigger2 = P2Name = "Mystic Gohan by Zero_X"
trigger2 = P2StateNo = 2000
trigger3 = P2Name = "Freeza by OverMind"
trigger3 = P2StateNo = 3001
trigger4 = P2Name = "Kurilin by EmuBoarding"
trigger4 = P2StateNo = 1500
trigger5 = P2Name = "Trunks por ssonic"
trigger5 = P2StateNo = 1900
trigger6 = P2Name = "Vegeta Super Sayjin 4 by EB and BS"
trigger6 = P2StateNo = 1500
trigger7 = P2Name = "N-Trunks by EmuBoarding"
trigger7 = P2StateNo = 1500
trigger8 = P2Name = "Mr.Boo by OverMind"
trigger8 = P2StateNo = 3001
trigger9 = P2Name = "Vegeta by OverMind"
trigger9 = P2StateNo = 3001
trigger10 = P2Name = "Broli Remix ver1.2"
trigger10 = P2StateNo = 2000
trigger11 = P2Name = "Mew Two"
trigger11 = P2StateNo = 1051
trigger12 = P2Name = "Raditz"
trigger12 = P2StateNo = 1510
trigger13 = P2Name = "C-Trunks by EmuBoarding"
trigger13 = P2StateNo = 1500
trigger14 = P2Name = "Piccolo por Ssonic"
trigger14 = P2StateNo = 1900
trigger15 = P2Name = "M. Bison"
trigger15 = P2StateNo = 89598
trigger16 = P2Name = "Cell por Ssonic"
trigger16 = P2StateNo = 1900
trigger17 = P2Name = "Recoom by Lucifer"
trigger17 = P2StateNo = 1500
trigger18 = P2Name = "Vegetto EX by Shishi-Ryu"
trigger18 = P2StateNo = 2000
trigger19 = P2Name = "Saiyaman by OverMind and Lucifer"
trigger19 = P2StateNo = 3001
trigger20 = P2StateType = S
trigger20 = P2MoveType != H
trigger20 = P2BodyDist Y < 0
value = 3115

[State -2,AI.Sair.do.Voa]
type = ChangeState
triggerall = Var(6)= 1
triggerall = stateno = 3001
trigger1 = p2statetype = S
trigger1 = p2bodydist Y > 40
value = 50

[State -2,AI.Sair.do.Voa]
type = ChangeState
triggerall = Var(6)= 2
triggerall = stateno = 3001
trigger1 = p2statetype = S
trigger1 = p2bodydist Y > 40
value = 50

; zanzoken p2 type =A

[State -2,AI.ZanzokenVar]
type = VarSet
triggerall = Var(6)= 1 || Var(6)= 2  && Life != 0 && P2Life != 0 && ctrl = 1 && stateno = 4000
trigger1 = p2bodydist x > 200 && p2movetype = A && p2stateno != [5000,5150]
trigger2 = p2bodydist x < 30 && p2bodydist y < -30 && p2movetype = A
v = 4
value = 0

[State -2,AI.Zanzoken]
type = ChangeState
triggerall = statetype = S && Movetype!=I && Movetype!=A && Movetype!=H
triggerall = stateno != 4000  && Var(9) = 0
triggerall = Var(6)= 1 || Var(6)= 2  && Life != 0 && P2Life != 0 && ctrl = 1 && Var(9) = 0
trigger1 = p2bodydist x > 200 && p2bodydist x < 260 && p2movetype = A
trigger2 = p2bodydist x < 30 && p2bodydist y < -30 && p2movetype = A
trigger3 = p2bodydist x < 50 && p2movetype = A && p2stateno = [600,799]
value = 4000

[State -2,AI.Zanzoken1]
type = ChangeState
triggerall = statetype = S && Movetype!=I && Movetype!=A && Movetype!=H
triggerall = stateno != 4000 && Var(9) = 0
triggerall = Var(6)= 1 || Var(6)= 2  && Life != 0 && P2Life != 0 && ctrl = 1
trigger1 = p2bodydist x < 30 && p2bodydist y < -50 && p2movetype = A
value = 4000

[State -2,AI.ZanzokenVar]
type = VarSet
triggerall = Var(6)= 1 || Var(6)= 2  && Life != 0 && P2Life != 0 && ctrl = 1 && stateno = 4000
trigger1 = p2bodydist x > 200 && p2movetype = A          && Var(9) = 0
trigger2 = p2bodydist x < 30 && p2bodydist y < -30 && p2movetype = A && Var(9) = 0
v = 4
value = 0

; zanzoken p2 parado

[State -2,AI.ZanzokenVar]
type = ChangeState
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0 &&  Var(9) = 0 && Random >0 && P2movetype=H
trigger1 = statetype = S && ctrl = 1 && p2bodydist x > 40 && p2stateno != [5110,5150]
trigger1 = p2bodydist x < 370 && prevstateno != 4000 && stateno !=4000
value = 4000

[State -2,AI.ZanzokenVar]
type = VarSet
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0 && Var(9) = 0 && P2movetype=H
trigger1 = statetype = S && ctrl = 1 && p2bodydist x > 40 && p2stateno != [5110,5150]
trigger1 = p2bodydist x < 370 && prevstateno !=4000 && stateno=4000
v = 4
value = 0

[State -2,AI.ZanzokenVar]
type = ChangeState
triggerall = Var(6)= 2 && Life != 0 && P2Life != 0 && Var(9) = 0 && Random >0 && P2movetype=H
trigger1 = statetype = S && ctrl = 1 && p2bodydist x > 40 && p2stateno != [5110,5150]
trigger1 = p2bodydist x < 370 && prevstateno != 4000 && stateno !=4000
value = 4000

[State -2,AI.ZanzokenVar]
type = VarSet
triggerall = Var(6)= 2 && Life != 0 && P2Life != 0 && Var(9) = 0 && P2movetype=H
trigger1 = statetype = S && ctrl = 1 && p2bodydist x >40 && p2stateno != [5110,5150]
trigger1 = p2bodydist x < 370 && prevstateno != 4000 && stateno=4000
v = 4
value = 0

;---------------AI.Zanzoken Saindo do golpe2-------------

[State -2,AI.Zanzoken Saindo do golpe]
type = ChangeState
triggerall = Var(6)= 2  || var(6) = 1
triggerall = statetype=S && ctrl = 1 && prevstateno != 4000 && P2BodyDist X > 50 && P2BodyDist X < 150
triggerall = Life != 0 && P2Life != 0 && Var(9) = 0 && P2movetype=A && Random>300
trigger1 = ctrl = 1
value = 4000
ctrl = 0

[State -2,AI.ZanzokenVar]
type = VarSet
triggerall = var(6) = 1
triggerall =stateno = 4000 && prevstateno =0 && StateTime=11
triggerall = Life != 0 && P2Life != 0 && P2movetype=A && Var(9) = 0
;triggerall = P2movetype=H && P2stateno=[2940,2960]
trigger1 = ctrl = 0
v = 4
value = 5

[State -2,AI.Zanzoken]
type = ChangeState
triggerall = var(6) = 1
triggerall = Var(4)= 5
triggerall =stateno = 1000 && prevstateno =0 && StateTime=20
triggerall = Life != 0 && P2Life != 0 && Var(9) = 0
triggerall = P2movetype!=A
trigger1 = ctrl =0
value = 50
ctrl = 1

[State -2,AI.Zanzoken]
type = ChangeState
triggerall = var(6) = 1
triggerall = Var(4)= 5
triggerall =stateno = 4000 && prevstateno =0 && StateTime=20
triggerall = Life != 0 && P2Life != 0 && Var(9) = 0
triggerall = P2movetype=A
trigger1 = ctrl =0
value = 3001
ctrl = 1

;----------------------------------------------
;AI - Auto Kame Especial isso que é defesa !!!!!!!!!!
[State -2,Kame]
type = ChangeState
triggerall =var(6) = 1 && Life != 0 && P2Life != 0  && stateno!=2000 && Power >=1500
triggerall = statetype = S &  Var(9)=0
triggerall = ctrl = 1 
trigger1 = p2movetype = A || (enemy, NumProj >= 1)
trigger1 = p2bodydist x >= 100 && Random < 300
value = 2000


;AI - Auto Kame isso que é defesa !!!!!!!!!!
[State -2,Kame]
type = ChangeState
triggerall =var(6) = 1 && Life != 0 && P2Life != 0  && stateno!=2001 && Power < 1500
triggerall = statetype = S &&  Var(9)=0
triggerall = ctrl = 1 
trigger1 = p2movetype = A || (enemy, NumProj >= 1)
trigger1 = p2bodydist x >= 100 && Random < 100
value = 2001

[State -2,Kame]
type = ChangeState
triggerall =var(6) = 1 && Life != 0 && P2Life != 0  && stateno!=2600
triggerall = statetype = S &  Var(9)=0
triggerall = ctrl = 1
trigger1 = p2movetype = A &&(enemy, NumProj = 0)
trigger1 = p2bodydist x >= 20 && Random < 646 && p2bodydist x < 190
value = 2600


[State -2,Kame]
type = ChangeState
triggerall =var(6) = 1 && Life != 0 && P2Life != 0  && stateno!=11500 && Power >=100
triggerall = statetype = S &  Var(9)=0
triggerall = ctrl = 1  ; && (enemy , Numhelper=0)
trigger1 = p2movetype = A || (enemy, NumProj >= 1)
trigger1 =  p2bodydist x >= 20 && Random < 400 && p2bodydist x < 490
trigger2 =   p2stateno=646 && p2bodydist x >= 10 && Random < 500 && p2bodydist x < 490
value = 11500

[State -2,Kame]
type = ChangeState
triggerall =var(6) = 1 && Life != 0 && P2Life != 0  && stateno!=2801
triggerall = statetype = S &  Var(9)=0
triggerall = ctrl = 1      &&  movehit=1 && stateno=[200,210]
trigger1 = p2movetype = H &&(enemy, NumProj >= 0)
trigger1 = p2bodydist x >= 0 && Random < 504 && p2bodydist x < 190
value = 2801


;AI - Auto Kame isso que é defesa !!!!!!!!!!
[State -2,Kame]
type = ChangeState
triggerall =var(6) = 1 && Life != 0 && P2Life != 0  && stateno!=1500 && Power >1000
triggerall = statetype = S &&  Var(9)=0
triggerall = ctrl = 1
trigger1 = p2movetype = A || (enemy, NumProj >= 1)
trigger1 = p2bodydist x >= 100 && Random < 400
value = 1500

[State -2,defesa pulando]
type = ChangeState
triggerall = Var(6)= 1
triggerall =ctrl = 1  && p2bodydist x >= 100
triggerall = StateType != A && random <= 300
triggerall = EnemyNear, StateType != C
triggerall = EnemyNear, MoveType = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 66

[State -2,defesa pulando]
type = ChangeState
triggerall = Var(6)= 1
triggerall =ctrl = 1  && p2bodydist x >= 180
triggerall = StateType != A && random <= 500
triggerall = EnemyNear, StateType != C
triggerall = EnemyNear, MoveType = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 66

;.... A.I -1 defesa 1 ..........
[State -2, Stand guard]
type = ChangeState
triggerall = Var(6)= 1 
triggerall =ctrl = 1
triggerall = StateType != A && random <= 900
triggerall = EnemyNear, StateType != C
triggerall = EnemyNear, MoveType = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)  
trigger3 =(Enemy, NumHelper>= 1) 
trigger4= EnemyNear, MoveType = A
value = 150

[State -2, S-to-C guard]
type = ChangeState
triggerall = Var(6)= 1  
triggerall =ctrl = 1
triggerall = StateType != A
triggerall = EnemyNear, statetype = C
triggerall = EnemyNear, Movetype = A
trigger1 = stateno = 150
trigger2 = (Enemy, NumProj >= 1)  
trigger3 =(Enemy, NumHelper>= 1) 
trigger4= EnemyNear, MoveType = A
value = 152

[State -2, Crouch guard]
type = ChangeState
triggerall = Var(6)= 1  
triggerall =ctrl = 1
triggerall = StateType != A && random <= 900
triggerall = EnemyNear, statetype = C
triggerall = EnemyNear, Movetype = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)  
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 152

[State -2, C-to-S guard]
type = ChangeState
triggerall = Var(6)= 1  
triggerall =ctrl = 1
triggerall = StateType != A
triggerall = EnemyNear, statetype != C
triggerall = EnemyNear, Movetype = A
trigger1 = stateno = 152
trigger2 = (Enemy, NumProj >= 1) 
trigger3 =(Enemy, NumHelper>= 1)  
trigger4= EnemyNear, MoveType = A
value = 150

[State -2, Air guard]
type = ChangeState
triggerall =Var(6)= 1  
triggerall =ctrl = 1
triggerall = StateType = A && random <= 900
triggerall = EnemyNear, Movetype = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)  
trigger3 =(Enemy, NumHelper>= 1) 
trigger4= EnemyNear, MoveType = A
value = 154

[State -2, voando guard]
type = ChangeState
triggerall =Var(6)= 1
triggerall =ctrl = 1
triggerall =StateType != A && Stateno= 3001 && random <= 900
triggerall = EnemyNear, statetype != C
triggerall = EnemyNear, Movetype = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1) 
trigger3 =(Enemy, NumHelper>= 1)  
trigger4= EnemyNear, MoveType = A
value = 130

;.... A.I -1 defesa 2 ..........
[State -2, Stand guard]
type = ChangeState
triggerall = Var(6)= 2 
triggerall =ctrl = 1
triggerall = StateType != A && random <= 900
triggerall = EnemyNear, StateType != C
triggerall = EnemyNear, MoveType = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)  
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 150

[State -2, S-to-C guard]
type = ChangeState
triggerall = Var(6)= 2  
triggerall =ctrl = 1
triggerall = StateType != A
triggerall = EnemyNear, statetype = C
triggerall = EnemyNear, Movetype = A
trigger1 = stateno = 150
trigger2 = (Enemy, NumProj >= 1)   
trigger3 =(Enemy, NumHelper>= 1)  
trigger4= EnemyNear, MoveType = A
value = 152

[State -2, Crouch guard]
type = ChangeState
triggerall = Var(6)= 2  
triggerall =ctrl = 1
triggerall = StateType != A && random <= 900
triggerall = EnemyNear, statetype = C
triggerall = EnemyNear, Movetype = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)  
trigger3 =(Enemy, NumHelper>= 1) 
trigger4= EnemyNear, MoveType = A
value = 152

[State -2, C-to-S guard]
type = ChangeState
triggerall = Var(6)= 2  
triggerall =ctrl = 1
triggerall = StateType != A
triggerall = EnemyNear, statetype != C
triggerall = EnemyNear, Movetype = A
trigger1 = stateno = 152
trigger2 = (Enemy, NumProj >= 1)  
trigger3 =(Enemy, NumHelper>= 1) 
trigger4= EnemyNear, MoveType = A
value = 150

[State -2, Air guard]
type = ChangeState
triggerall =Var(6)= 2  
triggerall =ctrl = 1
triggerall = StateType = A && random <= 900
triggerall = EnemyNear, Movetype = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)  
trigger3 =(Enemy, NumHelper>= 1) 
trigger4= EnemyNear, MoveType = A
value = 154

[State -2, voando guard]
type = ChangeState
triggerall =Var(6)= 2  
triggerall =ctrl = 1
triggerall =StateType != A && Stateno= 3001 && random <= 900
triggerall = EnemyNear, statetype != C
triggerall = EnemyNear, Movetype = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)  
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 130

;------------counter-------------

[State -1,Counter]
type = ChangeState
triggerall =Var(6)= 1 && life != 0  && Pos Y = 0 && Random < 60 && (enemy, NumProj = 0)
trigger1 = stateno =151 && Pos Y = 0 && Var(9) = 0
trigger2 = stateno =155 && Pos Y = 0   && Var(9) = 0
value = 2702

[State -1,Counter]
type = ChangeState
triggerall = Var(6)= 1 && life != 0 && Pos Y = 0 && Random < 80 && (enemy, NumProj = 0)
trigger1 = stateno =151 && Pos Y = 0   && Var(9) = 0
trigger2 = stateno =155 && Pos Y = 0   && Var(9) = 0
value = 2703

[State -1,Counter]
type = ChangeState
triggerall =Var(6)= 2 && life != 0  && Pos Y = 0 && Random < 60 && (enemy, NumProj = 0)
trigger1 = stateno =151 && Pos Y = 0 && Var(9) = 0
trigger2 = stateno =155 && Pos Y = 0   && Var(9) = 0
value = 2702

[State -1,Counter]
type = ChangeState
triggerall = Var(6)= 2 && life != 0 && Pos Y = 0 && Random < 80 && (enemy, NumProj = 0)
trigger1 = stateno =151 && Pos Y = 0   && Var(9) = 0
trigger2 = stateno =155 && Pos Y = 0   && Var(9) = 0
value = 2703

   ;-------frente

;[State 0, A.I.VelSet]
;type = VelSet
;triggerall =Random < 200 && stateno=[200,250]
;trigger1 = Var(6)= 1
;trigger2 = Var(6)= 2
;x = 3
;y =  0
;ignorehitpause = 1
;persistent = 1

[State -2,frente]
type = ChangeState
triggerall = var(6)=1 && stateno!=[800,801]
triggerall =  Life != 0 && P2Life != 0
triggerall = statetype = S && EnemyNear, Statetype = S  && EnemyNear, StateType != A
triggerall = ctrl = 1  && stateno!=100    && stateno!=[800,801]
triggerall = prevstateno!=100 && movetype!=A
trigger1 =p2bodydist x > 70 && p2bodydist x < 400  && Random < 200
value = 100
ctrl = 0

[State -2,frente]
type = ChangeState
triggerall = var(6)=2 && stateno!=[800,801]
triggerall =  Life != 0 && P2Life != 0
triggerall = statetype = S && EnemyNear, Statetype = S  && EnemyNear, StateType != A
triggerall = ctrl = 1  && stateno!=100    && stateno!=[800,801]
triggerall = prevstateno!=100 && movetype!=A
trigger1 =p2bodydist x > 70 && p2bodydist x < 400  && Random < 200
value = 100
ctrl = 0

[State -2,AI.corre]
type = ChangeState
triggerall = var(6) = 1 && Pos y=0 && Random >200
;triggerall =stateno = 4000 && StateTime=32
triggerall =statetype = S && Life != 0 && P2Life != 0 && P2movetype=H && P2BodyDist X > 0
triggerall = p2stateno = [645,646]
trigger1 = ctrl =1
value = 100
ctrl = 0
 ;-----------------
[State 0, VarSet trás p2 cansado]
type = VarSet
triggerall = var(6) = [1,2]
trigger1 =p2stateno = [642,646]
v = 6
value = 8

[State 0, VarSet tras p2 cansado]
type = VarSet
triggerall = var(6) = 8
trigger1 =p2stateno != [642,646]
trigger2 =stateno = 105
v = 6
value = 1

[State -2,AI.Sair.do.Voa]
type = ChangeState
triggerall = Var(6)= 8
triggerall = stateno = 3001
trigger1 = p2statetype = S
trigger1 = p2bodydist Y > 40
value = 50


[State -2,trás]
type = ChangeState
triggerall = var(6)=8 && stateno!=[800,801]
triggerall =  Life != 0 && P2Life != 0 && p2stateno = [642,646]
triggerall = statetype = S && p2movetype = H
triggerall = ctrl = 1  && stateno!=105    && stateno!=[800,801]
triggerall = prevstateno!=105
trigger1 =p2bodydist x > 0 && p2bodydist x < 400
value = 105
ctrl = 0

;-------------------------------------------------------------
[State -2,AI.corre]
type = ChangeState
triggerall = var(6) = 1 && Pos y=0 && Random <300 && power >=1000
;triggerall =stateno = 4000 && StateTime=32
triggerall =statetype = S && Life != 0 && P2Life != 0 && Var(9) = 0 && P2movetype=H && P2BodyDist X > 0
triggerall = p2stateno = 646
trigger1 = ctrl =1
value = 1500
ctrl = 0


[State -2,AI.corre]
type = ChangeState
triggerall = var(6) = 1 && Pos y=0 && Random <400  && power >=1000
;triggerall =stateno = 4000 && StateTime=32
triggerall =statetype = S && Life != 0 && P2Life != 0 && Var(9) = 0 && P2movetype=H && P2BodyDist X > 0
triggerall = p2stateno = 646
trigger1 = ctrl =1
value = 11500
ctrl = 0

;---------ataques----------------


[State -2,AI.soco fraco]
type = ChangeState
triggerall =    Var(6)= 1
triggerall =Pos y =0 && Life != 0 && P2Life != 0 && Var(9) = 0 && Random < 450
triggerall = statetype != A && p2stateno != [5110,5150]
triggerall = ctrl = 1
trigger1 = p2movetype != A
trigger1 = p2bodydist x > 0 && p2bodydist x < 40
value = 201

[State -2,AI.soco forte]
type = ChangeState
triggerall =    Var(6)= 1
triggerall =Pos y =0 && Life != 0 && P2Life != 0 && Var(9) = 0 && Random < 370
triggerall = statetype != A && p2stateno != [5110,5150]
triggerall = ctrl = 1
trigger1 = p2movetype != A
trigger1 = p2bodydist x > 0 && p2bodydist x < 40
value = 200

[State -2,AI.agachado]
type = ChangeState
triggerall =    Var(6)= 1
triggerall =Pos y =0 && Life != 0 && P2Life != 0 && Var(9) = 0 && Random < 390
triggerall = statetype != A && p2stateno != [5110,5150]
triggerall = ctrl = 1
trigger1 = p2movetype != A
trigger1 = p2bodydist x > 0 && p2bodydist x < 40
value = 410

[State -2,AI.chute fraco]
type = ChangeState
triggerall =    Var(6)= 1
triggerall =Pos y =0 && Life != 0 && P2Life != 0 && Var(9) = 0 && Random < 200
triggerall = statetype != A && p2stateno != [5110,5150]
triggerall = ctrl = 1
trigger1 = p2movetype != A
trigger1 = p2bodydist x > 0 && p2bodydist x < 40
value = 250

;--------------

[State -2,agarrão1]
type = ChangeState
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0 && Var(9) = 0 && Random < 300
triggerall = statetype != A && p2stateno != 403 || p2stateno != 503 && p2stateno != [5110,5150]
triggerall = ctrl = 1 && stateno!=900 && stateno!=501
triggerall =prevstateno!=900 && prevstateno!=501 && p2bodydist Y =0 && movetype != A
trigger1 = p2movetype != A
trigger1 =p2bodydist x > 0 && p2bodydist x < 22
value = 900

[State -2,agarrão2]
type = ChangeState
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0 && Var(9) = 0 && Random < 120
triggerall = statetype != A && p2stateno != 403 || p2stateno != 503 && p2stateno != [5110,5150]
triggerall = ctrl = 1 && stateno!=700 && stateno!=501
triggerall =prevstateno!=700 && prevstateno!=501 && p2bodydist Y =0 && movetype != A
trigger1 = p2movetype != A
trigger1 =p2bodydist x > 0 && p2bodydist x < 22
value = 700

[State -2,AI.Carregar]
type = ChangeState
triggerall = Var(6)= 1  && P1name="Ultimate Ubu BY SOUZA" && stateno!=[0001,0002]
triggerall =Life != 0 && P2Life != 0 && power < 3000 && stateno != 800 && Var(9) = 0 && stateno!=2970 && stateno!=2323 && p2stateno!= [645,646]
triggerall = statetype = S  && Movetype!=A && stateno != 4000
triggerall = movetype = I && p2bodydist x >75 && P1name="Ultimate Ubu BY SOUZA"
trigger1 = p2movetype = H
trigger1 = random < 300
trigger2 = p2stateno = 5150
value = 800

[State -2,AI.Sair.do.Charge]
type = ChangeState
triggerall = Var(6)= 1
triggerall = stateno = 800 || stateno = 10800
trigger1 = p2movetype = A || power >= 3000
value = 0
ctrl = 1

[State -2,AI.Sair.do.Charge]
type = ChangeState
triggerall = Var(6)= 2
triggerall = prevstateno = 800
trigger1 = p2movetype != A && p2bodydist x > 140  && p2stateno!=646
value = 689
ctrl = 0

[State -2, kameFly]
type = ChangeState
triggerall = Var(6)= 1 && Stateno!=2500 && PrevStateno!=2500
triggerall = ctrl = 1 && Random <249
triggerall = P2Life > 0    && Var(9) = 0
triggerall = MoveType != H
triggerall = Pos Y = 0 && P2BodyDist Y < -40
trigger1 = P2BodyDist Y < -40
value = 2500

[State -2, kameFly]
type = ChangeState
triggerall = Var(6)= 1 && Stateno!=2500 && PrevStateno!=2500
triggerall = ctrl = 1 && Random <500
triggerall = P2Life > 0    && Var(9) = 0
triggerall = MoveType != H
triggerall = Pos Y = 0 && P2BodyDist Y < -40
trigger1 = P2BodyDist Y < -40
value = 2801

[State -2,AI.Renzoku]
type = ChangeState
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0 && Var(9) = 0 && Random <300
trigger1 = statetype = A && ctrl = 1 && p2stateno != [5110,5150]
trigger1 = p2bodydist y > 40 && p2bodydist x > 0
value = 6000



[State -2, kameFly]
type = ChangeState
triggerall = Var(6)= 1
triggerall = stateno=50 && PrevStateno=6000
triggerall = ctrl = 0 && Random < 900
triggerall = P2Life > 0  && Var(9) = 0
triggerall = MoveType != H
triggerall = Pos Y != 0 && P2BodyDist Y < 100 && P2BodyDist x < 120
trigger1 = P2BodyDist Y < 100
value = 2800

[State -2, kameFly]
type = ChangeState
triggerall = Var(6)= 2
triggerall = stateno=50 && PrevStateno=6000
triggerall = ctrl = 0 && Random < 900
triggerall = P2Life > 0   && Var(9) = 0
triggerall = MoveType != H
triggerall = Pos Y != 0 && P2BodyDist Y < 150 && P2BodyDist x < 150
trigger1 = P2BodyDist Y < 150
value = 2800


[State -2,AI.Renzoku]
type = ChangeState
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0 && Var(9) = 0 && Random >300
trigger1 = statetype = A && ctrl = 1 && p2stateno != [5110,5150]
trigger1 = p2bodydist y > 40 && p2bodydist x > 0
value = 2800




[State -2,A.I. Perdendo]
type = ChangeState
triggerall = Var(6)= 1 || Var(6)= 2 && Life != 0 && P2Life != 0  && Var(9) = 0
trigger1 = stateno = 230 && movehit = 1&& Pos y=0 && Random < 350
trigger1 = p2movetype = H  && Pos y=0
value =1290


[State -2,AI.chute]
type = ChangeState
triggerall =Pos y =0 &&  Var(6)= 1 && Life != 0 && P2Life != 0 && Var(9) = 0 && Random < 250
triggerall = statetype != A && p2stateno != [5110,5150]
triggerall = ctrl = 1
trigger1 = p2movetype != A
trigger1 = p2bodydist x > 20 && p2bodydist x < 75
value = 1290

[State -2,AI.chute]
type = ChangeState
triggerall =Pos y =0 &&  Var(6)= 1 && Life != 0 && P2Life != 0 && Var(9) = 0 && Random < 450
triggerall = statetype != A && p2stateno != [5110,5150]
triggerall = ctrl = 1
trigger1 = p2movetype != A
trigger1 = p2bodydist x > 20 && p2bodydist x < 75
value = 1291

[State -2,pula para o p2]
type = ChangeState
triggerall =Pos y =0 &&  Var(6)= 1 && Life != 0 && P2Life != 0 && Var(9) = 0 && Random < 450
triggerall = statetype != A && p2stateno != [5110,5150]
triggerall = ctrl = 1
trigger1 = p2movetype != A
trigger1 = p2bodydist x > 99    &&  p2bodydist x < 210
value = 66

[State -2,pula para o p2]
type = ChangeState
triggerall =Pos y =0 &&  Var(6)= 2 && Life != 0 && P2Life != 0 && Var(9) = 0 && Random < 450
triggerall = statetype != A && p2stateno != [5110,5150]
triggerall = ctrl = 1
trigger1 = p2movetype != A
trigger1 = p2bodydist x > 99 &&  p2bodydist x < 210
value = 66

[State -2,pula para o p2]
type = ChangeState
triggerall =Pos y =0 &&  Var(6)= 1 && Life != 0 && P2Life != 0 && Var(9) = 0 && Random < 450
triggerall = statetype != A && p2stateno != [5110,5150]
triggerall = ctrl = 1
trigger1 = p2movetype = A
trigger1 = p2bodydist x > 210
value = 66


[State -2,combo]
type = ChangeState
triggerall = Var(9) = 0
triggerall =p2bodydist y = 0
;triggerall =p2bodydist x > 10 && p2bodydist x < 320 && p2bodydist y = 0
triggerall = Var(6)= 1 || Var(6)= 2 && Life != 0 && P2Life != 0  && Pos y =0
triggerall =Random <199  && stateno != 222 && stateno != 223 && stateno != 888
triggerall = statetype != A && Power >= 2000 &&  p2bodydist y =0
triggerall = ctrl = 1 && Life != 0 && P2Life != 0  && p2stateno != [5110,5150]
trigger1 = p2movetype != A || p2movetype = A  && Life != 0 && P2Life != 0
trigger2 = p2stateno = 5120 && animElem = 4  && Life != 0 && P2Life != 0
trigger3 = Movehit=1 && Stateno=260 && Life != 0 && P2Life != 0
value = 8000


[State -2,combo corrida]
type = ChangeState
triggerall =(Var(20) = [1,8]) && (Var(9) = 0) && Var(55)!=[1,300]
triggerall = Var(6)= 1 || Var(6)= 2 && Life != 0 && P2Life != 0  && Pos y =0
triggerall =Random <99  && stateno != 888 && stateno != 888 && stateno != 888
triggerall = statetype != A && Power >=  2000 &&  p2bodydist y =0
triggerall = ctrl = 1 && Life != 0 && P2Life != 0; && p2stateno != [5110,5150]
trigger1 = p2movetype != A || p2movetype = A  && Life != 0 && P2Life != 0
trigger2 = p2stateno = 5120 && animElem = 4  && Life != 0 && P2Life != 0
trigger3 = Movehit=1 && Stateno=260 && Life != 0 && P2Life != 0
value = 8810

[State -2,combo corrida]
type = ChangeState
triggerall =(Var(20) = [1,8]) && (Var(9) = 0) && Var(55)=0
triggerall = Var(6)= 1 || Var(6)= 2 && Life != 0 && P2Life != 0  && Pos y =0
triggerall =Random <99  && stateno != 888 && stateno != 888 && stateno != 888
triggerall = statetype != A && Power >=  2000 &&  p2bodydist y =0
triggerall = ctrl = 1 && Life != 0 && P2Life != 0; && p2stateno != [5110,5150]
trigger1 = p2movetype != A || p2movetype = A  && Life != 0 && P2Life != 0
trigger2 = p2stateno = 5120 && animElem = 4  && Life != 0 && P2Life != 0
trigger3 = Movehit=1 && Stateno=260 && Life != 0 && P2Life != 0
value = 8810

[State -2,combo corrida]
type = ChangeState
triggerall = Var(9) = 0  && P2stateno!=638 && P2stateno!=[5100,5150]
triggerall = Var(6)= 1 || Var(6)= 2 && Life != 0 && P2Life != 0  && Pos y =0
triggerall =Random <245  && stateno != 888 && stateno != 888 && stateno != 888
triggerall = statetype != A && Power >=  3000 &&  p2bodydist y =0
triggerall = ctrl = 1 && Life != 0 && P2Life != 0; && p2stateno != [5110,5150]
trigger1 = p2movetype != A || p2movetype = A  && Life != 0 && P2Life != 0
trigger2 = p2stateno = 5120 && animElem = 4  && Life != 0 && P2Life != 0
trigger3 = Movehit=1 && Stateno=260 && Life != 0 && P2Life != 0
value = 8881

[State -2,combo corrida]
type = ChangeState
triggerall = Var(9) = 0 && P2stateno!=638 &&  P2stateno!=[5100,5150]
triggerall = Var(6)= 1 || Var(6)= 2 && Life != 0 && P2Life != 0  && Pos y =0
triggerall =Random >245  && stateno != 888 && stateno != 888 && stateno != 888
triggerall = statetype != A && Power >=  3000 &&  p2bodydist y =0
triggerall = ctrl = 1 && Life != 0 && P2Life != 0; && p2stateno != [5110,5150]
trigger1 = p2movetype != A || p2movetype = A  && Life != 0 && P2Life != 0
trigger2 = p2stateno = 5120 && animElem = 4  && Life != 0 && P2Life != 0
trigger3 = Movehit=1 && Stateno=260 && Life != 0 && P2Life != 0
value = 2300


[State -2,combo corrida]
type = ChangeState
triggerall =life>=301
triggerall = Var(9) = 0 && P2stateno!=638 && numHelper(2401)=0
triggerall = Var(6)= 1 || Var(6)= 2 && Life != 0 && P2Life != 0  && Pos y =0
triggerall =Random <199  && stateno != 888 && stateno != 888 && stateno != 888
triggerall = statetype != A && Power >=  3000 &&  p2bodydist y =0
triggerall = ctrl = 1 && Life != 0 && P2Life != 0; && p2stateno != [5110,5150]
trigger1 = p2movetype != A || p2movetype = A  && Life != 0 && P2Life != 0
trigger2 = p2stateno = 5120 && animElem = 4  && Life != 0 && P2Life != 0
trigger3 = Movehit=1 && Stateno=260 && Life != 0 && P2Life != 0
trigger4 = stateno = 5120 && animElem = 4 && Life < 900   && Life != 0 && P2Life != 0
value = 2400

[State -2,combo corrida]
type = ChangeState
triggerall =life<300
triggerall = Var(9) = 0 && P2stateno!=638 && numHelper(2401)=0
triggerall = Var(6)= 1 || Var(6)= 2 && Life != 0 && P2Life != 0  && Pos y =0
triggerall =Random <9  && stateno != 888 && stateno != 888 && stateno != 888
triggerall = statetype != A && Power >=  3000 &&  p2bodydist y =0
triggerall = ctrl = 1 && Life != 0 && P2Life != 0; && p2stateno != [5110,5150]
trigger1 = p2movetype != A || p2movetype = A  && Life != 0 && P2Life != 0
trigger2 = p2stateno = 5120 && animElem = 4  && Life != 0 && P2Life != 0
trigger3 = Movehit=1 && Stateno=260 && Life != 0 && P2Life != 0
trigger4 = stateno = 5120 && animElem = 4 && Life < 900   && Life != 0 && P2Life != 0
value = 2400

[State -2, kameFly]
type = ChangeState
triggerall = Var(6)= 1
triggerall = p2movetype=H
triggerall = stateno=50 && PrevStateno=2801
triggerall = ctrl = 1 && Random < 300
triggerall = P2Life > 0   && Var(9) = 0
triggerall = MoveType != H
triggerall = Pos Y != 0 && P2BodyDist Y < 150 && P2BodyDist x < 150
trigger1 = P2BodyDist Y < 150
value = 610

[State -2, kameFly]
type = ChangeState
triggerall = Var(6)= 1
triggerall = p2movetype=H
triggerall = stateno=50 && PrevStateno=2801
triggerall = ctrl = 1 && Random < 400
triggerall = P2Life > 0   && Var(9) = 0
triggerall = MoveType != H
triggerall = Pos Y != 0 && P2BodyDist Y < 150 && P2BodyDist x < 150
trigger1 = P2BodyDist Y < 150
value = 630


[State -2,AI.KneeCombo2 sequencia]
type = ChangeState
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno = 620 && movehit = 1
trigger1 = p2movetype = H  &&  Random >500
value = 610

[State -2,AI.KneeCombo2 sequencia]
type = ChangeState
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno = 620 && movehit = 1
trigger1 = p2movetype = H  &&  Random <500
value = 2800

[State -2,AI.KneeCombo3 sequencia]
type = ChangeState
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno = 610 && movehit = 1
trigger1 = p2movetype = H
value = 6000


[State -2,AI.KneeCombo4 sequencia]
type =ChangeState
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno = 630 && movehit = 1
trigger1 = p2movetype = H
value = 2800

;------------- super A.I pulando ------------------

[State 0, VarSet]
type = VarSet
triggerall = Var(6)= 1 && Pos Y =0
trigger1 = (random = [400,600]) && (StateNo = [200,250])
trigger1 = Movehit = 1
V=6
value=33

[State 0, VarSet]
type = VarSet
triggerall = Var(6)= 1   && Pos Y =0
trigger1 = random < 299 && StateNo = 2600
trigger1 = Movehit = 1
V=6
value=33

[State -1, AI DBZHD]
type = ChangeState
value = 2600
triggerall = Var(6) = 33 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = MoveType != H   && Pos Y =0   && Var(9) = 0
triggerall = P2life != 0
trigger1 = (StateNo = [200,250])
trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value = 2601
triggerall = Var(6) = 33 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = MoveType != H   && Pos Y =0   && Var(9) = 0
triggerall = P2life != 0
trigger1 = (StateNo = 2600)
trigger1 = MoveContact = 1


[State -1, AI pulando ]
type = ChangeState
value = 56
triggerall = Var(6) = 33 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, movetype = H) ;|| (EnemyNear, StateType = C)
triggerall = MoveType != H && movehit=1
triggerall = P2life != 0  && Var(9) = 0
trigger1 = (StateNo = 2601 && animtime=0)

[State -2, VelSet]
type = VelSet
triggerall = Var(6)= 32 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno=610
x = 2
y = 0


[State -2,AI.KneeCombo2 sequencia]
type = ChangeState
triggerall = Var(6)= 32 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno = 620 && movehit = 1
trigger1 = p2movetype = H
value = 610

[State -2,AI.KneeCombo2 sequencia]
type = ChangeState
triggerall = Var(6)= 32 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno = 610 && movehit = 1
trigger1 = p2movetype = H
value = 600

[State -2, VelSet]
type = VelSet
triggerall = Var(6)= 32 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno=600
x = 0
y = 0

[State -2,AI.KneeCombo2 sequencia]
type = ChangeState
triggerall = Var(6)= 32 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno = 600 && movehit = 1
trigger1 = p2movetype = H
value = 50

;[State -2,AI.KneeCombo2 sequencia]
;type = ChangeState
;triggerall = Var(6)= 32 && Life != 0 && P2Life != 0 && Var(9) = 0
;trigger1 = stateno = [600,620]
;trigger1 =animtime=0 && movehit = 0
;value = 50

[State -2,AI.KneeCombo2 sequencia]
type = ChangeState
triggerall = Var(6)= 32 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno = 52 && prevstateno=50
trigger1 = p2movetype = H
value = 100

[State -2,AI.KneeCombo2 sequencia]
type = ChangeState
triggerall = Var(6)= 32 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno = 200 && movehit = 1
trigger1 = p2stateno=20050
value = 210

[State -2,AI.KneeCombo2 sequencia]
type = ChangeState
triggerall = Var(6)= 32 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno = 210 && movehit = 1
trigger1 = p2movetype = H
value = 201

[State -2, VelSet]
type = VelSet
triggerall = Var(6)= 32 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno=201 || stateno=200
x = 2
y = 0

[State -2,AI.KneeCombo2 sequencia]
type = ChangeState
triggerall = Var(6)= 32 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno = 201 && movehit = 1
trigger1 = p2movetype = H
value = 250

[State -2,AI.KneeCombo2 sequencia]
type = ChangeState
triggerall = Var(6)= 32 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno = 250 && movehit = 1
trigger1 = p2movetype = H
value = 430

[State -2,AI.KneeCombo2 sequencia]
type = ChangeState
triggerall = Var(6)= 32 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno = 430 && movehit = 1
trigger1 = p2movetype = H
value = 2801

[State -2, VelSet]
type = VelSet
triggerall = Var(6)= 32 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno=430
x = 2
y = 0

[State -2,AI.KneeCombo2 sequencia]
type = ChangeState
triggerall = Var(6)= 32 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno = 430 && movehit = 1
trigger1 = p2movetype = H
value = 400


[State -2,AI.KneeCombo2 sequencia]
type = ChangeState
triggerall = Var(6)= 32 && Life != 0 && P2Life != 0 && Var(9) = 0
trigger1 = stateno = 400 && movehit = 1
trigger1 = p2movetype = H
value = 2801

[State 0, VarSet]
type = VarSet
trigger1 =  Var(9) = 0  && stateno=2801 && Var(6)= [32,33]
trigger2 = Var(9) = 0  && stateno=20  && Var(6)= [32,33]
trigger3 = Var(9) = 0  && movetype=H  && Var(6)= [32,33]
trigger4 =Var(9) = 0  && stateno=3001  && Var(6)= [32,33]
trigger5 =Var(9) = 0  && stateno=0 && Var(6)= [32,33]
trigger6 =Var(9) = 0  && (stateno=[600,620]) && animtime=0 && movehit=0 && Var(6)= [32,33]
V=6
value=1

;----------------A.I. DBZ HD----------------------------------------------

[State -1, AI DBZHD]
type = ChangeState
value = 410
triggerall = Var(6) = 1 && Var(9) = 0 ||   Var(6) = 2   && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S) || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Pos Y =0   && Var(9) = 0
triggerall = P2life != 0   && Random <370
trigger1 = (StateNo = 201) ||  (StateNo = 240)
trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value = 410
triggerall = Var(6) = 1 && Var(9) = 0 ||   Var(6) = 2   && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S) || (EnemyNear, StateType = C)
triggerall = MoveType != H  && Pos Y =0   && Var(9) = 0
triggerall = P2life != 0
trigger1 = (StateNo = 400)
trigger1 = MoveContact = 1


[State -1, AI DBZHD]
type = ChangeState
value = 420
triggerall = Var(6) = 1 && Var(9) = 0 ||   Var(6) = 2   && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S) || (EnemyNear, StateType = C)
triggerall = MoveType != H  && Pos Y =0 && Var(9) = 0
triggerall = P2life != 0   && Random <370
trigger1 = (StateNo = 410)
trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value = 200
triggerall = Var(6) = 1 && Var(9) = 0 ||   Var(6) = 2   && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S) || (EnemyNear, StateType = C)
triggerall = MoveType != H       && Var(9) = 0
triggerall = P2life != 0 && Random < 470
trigger1 = (StateNo = 410)
trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value = 430
triggerall = Var(6) = 1 && Var(9) = 0 ||   Var(6) = 2   && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S) || (EnemyNear, StateType = C)
triggerall = MoveType != H  && Pos Y =0 && Var(9) = 0
triggerall = P2life != 0
trigger1 = (StateNo = 420)
trigger1 = MoveContact = 1


[State -1, AI DBZHD]
type = ChangeState
value = 2600
triggerall = Var(6) = 1 && Var(9) = 0 ||   Var(6) = 2   && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S) || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0
triggerall = P2life != 0 && Random < 570
trigger1 = (StateNo = 430)
trigger1 = MoveContact = 1



;------------stand -----------

[State -1, AI DBZHD stand]
type = ChangeState
value = 210
triggerall = Var(6) = 1 && Var(9) = 0 ||   Var(6) = 2   && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S) || (EnemyNear, StateType = C)
triggerall = MoveType != H  && Random <400
triggerall = P2life != 0 && Var(9) = 0
trigger1 = (StateNo = 200)
trigger1 = MoveContact = 1

[State -1, AI DBZHD stand]
type = ChangeState
value = 2600
triggerall = Var(6) = 1 && Var(9) = 0 ||   Var(6) = 2   && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S) || (EnemyNear, StateType = C)
triggerall = MoveType != H  && Random <500
triggerall = P2life != 0 && Var(9) = 0
trigger1 = (StateNo = 200)
trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value = 201
triggerall = Var(6) = 1 && Var(9) = 0 ||   Var(6) = 2   && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S) || (EnemyNear, StateType = C)
triggerall = MoveType != H    && Random <450
triggerall = P2life != 0   && Var(9) = 0
trigger1 = (StateNo = 210)
trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value = 45
triggerall = Var(6) = 1 && Var(9) = 0 ||   Var(6) = 2   && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S) || (EnemyNear, StateType = C)
triggerall = MoveType != H    && Random <400
triggerall = P2life != 0    && Var(9) = 0
trigger1 = (StateNo = 201)
trigger1 = MoveContact = 1
ctrl = 0

[State -1, AI DBZHD]
type = ChangeState
value = 8301
triggerall = Var(6) = 1 && Var(9) = 0 ||   Var(6) = 2   && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S) || (EnemyNear, StateType = C)
triggerall = MoveType != H    && Random <370
triggerall = P2life != 0    && Var(9) = 0
trigger1 = (StateNo = 201)
trigger1 = MoveContact = 1
ctrl = 0

[State -1, AI DBZHD]
type = ChangeState
value = 250
triggerall = Var(6) = 1 && Var(9) = 0 ||   Var(6) = 2   && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S) || (EnemyNear, StateType = C)
triggerall = MoveType != H    && Random <300
triggerall = P2life != 0  && Var(9) = 0
trigger1 = (StateNo = 201)
trigger1 = MoveContact = 1


[State -1, AI DBZHD]
type = ChangeState
value = 230
triggerall = Var(6) = 1 && Var(9) = 0 ||   Var(6) = 2   && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S) || (EnemyNear, StateType = C)
triggerall = MoveType != H    && Random <400
triggerall = P2life != 0  && Var(9) = 0
trigger1 = (StateNo = 201)
trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value = 410
triggerall = Var(6) = 1 && Var(9) = 0 ||   Var(6) = 2   && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S) || (EnemyNear, StateType = C)
triggerall = MoveType != H    && Random <400  && Pos Y =0
triggerall = P2life != 0  && Var(9) = 0
trigger1 = (StateNo = 230)
trigger1 = MoveContact = 1


;--------------var(6)=2
[State -2,...]
type = VarSet
trigger1 = Var(6)= 1 && pos y = 0 && stateno = 430 && movehit=1
trigger2 = Var(6)= 2 && p2movetype = A 
trigger3 = Var(6)= 2 && p2movetype = H 
v = 6
value = 1

[State -2,...]
type = VarSet
trigger1 = Var(6)= 1 && p2movetype != A && p2movetype != H 
v = 6
value = 2

[State -2,...]
type = VarSet
trigger1 =Var(6)= 1 && NumHelper(333) = 1 ||Var(6)= 1 && stateno=[8872,8874]
v = 6
value = 3

;[State -2,...]
;type = VarSet
;trigger1 = Var(6)= 3 && (GameTime%400)=0 && (NumHelper(333) = 0)
;trigger2 =Var(6)= 3 && NumHelper(333) = 0
;trigger3 = Var(6)= 3 && (p2bodydist x < 200) && (NumHelper(333) = 0)
;v = 6
;value = 1

[State -2,...]
type = VarSet
trigger1 = Var(6)= 3 && (life<600) && (NumHelper(333) = 0)
trigger2 =  Var(6)= 3 && stateno!=[8872,8874]
v = 6
value = 1

;-----------------super A.I.----------------

[State -2,...]
type = VarSet
triggerall =stateno=[200,250]
triggerall = movehit=1 && Pos y =0
trigger1 = Var(6)= 1  && p2movetype = H   && random =[600,799]
;trigger2 = Var(6)= 1  && p2movetype = H   &&  command = "z"
v = 6
value = 30

[State -2,...]
type = VarSet
triggerall = Var(6)= [30,31]
trigger1 =stateno=2600
trigger2 =stateno=8000
trigger3 =stateno=1500
trigger4 =stateno=2801
trigger5 =stateno=800
trigger6 =stateno=[130,155]
trigger7 =stateno=[5000,5100]
trigger8 = stateno=20
trigger9 = stateno=3001
v = 6
value = 1

[State -2, A.I.VelSet]
type = VelSet
triggerall = Var(6)= 30
trigger1 =stateno=230
trigger2 =stateno=201
trigger3 =stateno=240
x = 3
y = 0


[State -1, AI DBZHD]
type = ChangeState
value = 210
triggerall = Var(6) = 30 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S); || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0
triggerall = P2life != 0
trigger1 = (StateNo = 200)
trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value = 201
triggerall = Var(6) = 30 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S); || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0
triggerall = P2life != 0
trigger1 = (StateNo = 210)
trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value = 250
triggerall = Var(6) = 30 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S); || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0
triggerall = P2life != 0
trigger1 = (StateNo = 201)
trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value = 240
triggerall = Var(6) = 30 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S); || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0
triggerall = P2life != 0
trigger1 = (StateNo = 250)
trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value = 230
triggerall = Var(6) = 30 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S); || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0
triggerall = P2life != 0
trigger1 = (StateNo = 240)
trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value = 420
triggerall = Var(6) = 30 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S); || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0
triggerall = P2life != 0
trigger1 = (StateNo = 230)
trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value = 2801
triggerall = Var(6) = 30 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S); || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0
triggerall = P2life != 0 &&  Var(20) > 10
trigger1 = (StateNo = 420)
trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value = 11500
triggerall = Var(6) = 30 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S); || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0
triggerall = P2life != 0  &&  Var(20) < 11
trigger1 = (StateNo = 420)
trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value =  2600
triggerall = Var(6) = 30 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S); || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0
triggerall = P2life != 0  && p2stateno=1   && Power < 2000
trigger1 = (prevstateno= 11500)   && (stateno=0)
;trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value =  8000
triggerall = Var(6) = 30 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S); || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0
triggerall = P2life != 0  && p2stateno=1   && Power >= 2000
trigger1 = (prevstateno= 11500)   && (stateno=0)
;trigger1 = MoveContact = 1

;-- s  2 ----
[State -2,...]
type = VarSet
triggerall =stateno=[200,250]
triggerall = movecontact=1 && Pos y =0
trigger1 = Var(6)= 1  && p2movetype = H && random =[800,999]
;trigger2 = Var(6)= 1  && p2movetype = H   &&  command = "c"
v = 6
value = 31

[State -1, AI DBZHD]
type = ChangeState
value = 1000
triggerall = Var(6) = 31 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S); || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0
triggerall = P2life != 0
trigger1 = (StateNo = [200,250])
trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value =  11500
triggerall = Var(6) = 31 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S); || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0
triggerall = P2life != 0
trigger1 = (prevstateno= 1000)   && (stateno=0)
;trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value =  1000
triggerall = Var(6) = 31 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S); || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0 && Random < 360
triggerall = P2life != 0  && p2stateno=1   && Power < 1000
trigger1 = (prevstateno= 11500)   && (stateno=0)
;trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value =  2001
triggerall = Var(6) = 31 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S); || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0 && Random < 390
triggerall = P2life != 0  && p2stateno=1   && Power < 2000
trigger1 = (prevstateno= 11500)   && (stateno=0)
;trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value =  2000
triggerall = Var(6) = 31 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S); || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0 && Random < 300
triggerall = P2life != 0  && p2stateno=1   && Power >= 2000
trigger1 = (prevstateno= 11500)   && (stateno=0)
;trigger1 = MoveContact = 1

[State -1, AI DBZHD]
type = ChangeState
value =  1500
triggerall = Var(6) = 31 && Var(9) = 0
triggerall = (StateType != A) && (StateType != L)
triggerall = (EnemyNear, StateType = S); || (EnemyNear, StateType = C)
triggerall = MoveType != H   && Var(9) = 0
triggerall = P2life != 0  && p2stateno=1   && Power > 1000
trigger1 = (prevstateno= 11500)   && (stateno=0)
;trigger1 = MoveContact = 1

,---------- -2 STAGE---------
[State -2,1]
type = PowerAdd
trigger1 =Movehit=1 && stateno=[4423,4441] 
value = -500

[State -2Fim]
type = ChangeState
trigger1 =P2life=0 && stateno=[4423,4432] 
trigger1 = Movehit=1 
value = 4439
;----------------------------ativando cansado
[State -2, eu mesmo cansado!!!!]
type = ChangeState
trigger1 =p2stateno=8282
value = 643

[State -2, Combo VarAdd]
type = VarAdd
triggerall =P2life!=0 && stateno!=1200 && stateno!=3000 && stateno!=3002 && stateno!=1290 && stateno!=8000 && stateno!=1291 && stateno!=4420 && stateno!=[3520,3530]
triggerall =NumHelper(333) = 0 && stateno!=3101 && stateno!=[4700,4703]
triggerall =stateno!=9903 && stateno!=8881
trigger1 = (hitpausetime = 1) && (P2Movetype = H) && (MoveHit = 1)
trigger2 = ProjHitTime(0) = 1
v = 20
value = 1
ignorehitpause = 1

[State -2, Combo Parar par nao cair VarAdd]
type = VarAdd
triggerall =(P2life!=0) && (hitpausetime = 1) && (P2Movetype = H) && (MoveHit = 1)
triggerall =Var(20)<14 && NumHelper(333) = 0 
trigger1 =stateno=3000
trigger2 =stateno=3002 
trigger3 = stateno=[1290,1291]
trigger4 =stateno=4420 
trigger5 = stateno=[4700,4703]
trigger6 =stateno=3101
trigger7 =stateno=9903
trigger8 =stateno=8881
trigger9 = stateno=[3520,3530]
trigger10 = stateno=8000
v = 20
value = 1
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
trigger1 = P2Movetype != H && Time=100
trigger2 = Var(20)=15 && Time=100
trigger3= P2movetype=A && movetype=H && (GameTime%100)=0
trigger4= p2stateno=646
trigger5=Var(20)>15
v = 20
value = 0

[State -2Fim]
type = Helper 
triggerall =P2life!=0 && stateno!=3000 && stateno!=3002 && stateno!=1290 && stateno!=4420
triggerall =p2stateno!=[643,646]
triggerall = p2movetype = H && NumHelper(333) = 0 
triggerall =Var(20)=15
trigger1 = p2movetype = H 
id = 0024
pos = 0,-10
postype= p2
stateno= 1203

[State -2Fim]
type = Helper 
triggerall = P2life!=0 && NumHelper(333) = 0 
triggerall =p2stateno!=[643,646]
trigger1 = prevstateno=7277 
;id = 0024
pos = 0,-10
postype= p2
stateno= 1203

[State -2Fim]
type = Helper 
triggerall = P2life!=0 
triggerall =p2stateno!=[643,646]
trigger1 = prevstateno=4436 
;id = 0024
pos = 0,-10
postype= p2
stateno= 1203

[State -2Fim]
type = Helper 
triggerall = P2life!=0 && NumHelper(333) = 0 
triggerall =p2stateno!=[643,646]
trigger1 = prevstateno=634
;id = 0024
pos = 0,-10
postype= p2
stateno= 1203

;----------------------------



[State -2,Fim]
type = ChangeState
triggerall = p2movetype = A && Time=1
triggerall= stateno = 200 && p2bodydist y > -10 && p2bodydist y < 10 
trigger1 = P2Name = "Goku-n-hd by EmuBoarding" || P2Name =  "Goku por Rodrigo Navarro"
trigger2 = P2Name = "Mystic Gohan by Zero_X"
trigger3 = P2Name = "Freeza by OverMind"
trigger4 = P2Name = "Kurilin by EmuBoarding"
trigger5 = P2Name = "Trunks por ssonic"
trigger6 = P2Name = "Vegeta Super Sayjin 4 by EB and BS"
trigger7 = P2Name = "N-Trunks by EmuBoarding"
trigger8 = P2Name = "Mr.Boo by OverMind"
trigger9 = P2Name = "Vegeta by OverMind"
trigger10 = P2Name = "Broli Remix ver1.2"
trigger11 = P2Name = "Mew Two"  || P2Name = "Ultimate Ubu BY SOUZA"
trigger12 = P2Name = "Raditz"   || P2Name ="Pequeno Trunks BY SOUZA"
trigger13 = P2Name = "C-Trunks by EmuBoarding"
trigger14 = P2Name = "Piccolo por Ssonic" || P2Name = "PICOLLO HD BY SOUZA"
trigger15 = P2Name = "M. Bison" || P2Name = "Goku X"
trigger16 = P2Name = "Cell por Ssonic" || P2Name = "Gohan HD - Normal-SSj"  
trigger17 = P2Name = "Recoom by Lucifer" || P2Name = "Goku SSJ4 by _Vision and MRP"
trigger18 = P2Name = "Vegetto EX by Shishi-Ryu"
trigger19 = P2Name = "Saiyaman by OverMind and Lucifer"
trigger20 =P2Name = "Goku Super Sayajin 2 BY SOUZA"
trigger21 =P2Name = "Gogeta-SSJ4 by Pocket_Danyell"
trigger22 =P2Name = "Goku GT by Kurihan"  || P2Name =  "Goku-SSJ3 by K-bum"
trigger23 =P2Name = "Goku Super Sayajin 2 by Ribeiro"
trigger24 =P2Name = "Perfect cell BY SOUZA"
value =8252
	

[State -2,Fim]
type = ChangeState
triggerall = p2movetype = A && Time=1
triggerall = stateno = 210 && p2bodydist y > -10 && p2bodydist y < 10 
trigger1 = P2Name = "Goku-n-hd by EmuBoarding" || P2Name =  "Goku por Rodrigo Navarro"
trigger2 = P2Name = "Mystic Gohan by Zero_X"
trigger3 = P2Name = "Freeza by OverMind"
trigger4 = P2Name = "Kurilin by EmuBoarding"
trigger5 = P2Name = "Trunks por ssonic"
trigger6 = P2Name = "Vegeta Super Sayjin 4 by EB and BS"
trigger7 = P2Name = "N-Trunks by EmuBoarding"
trigger8 = P2Name = "Mr.Boo by OverMind"
trigger9 = P2Name = "Vegeta by OverMind"
trigger10 = P2Name = "Broli Remix ver1.2"
trigger11 = P2Name = "Mew Two"    || P2Name = "Ultimate Ubu BY SOUZA"
trigger12 = P2Name = "Raditz"  || P2Name ="Pequeno Trunks BY SOUZA"
trigger13 = P2Name = "C-Trunks by EmuBoarding"
trigger14 = P2Name = "Piccolo por Ssonic" || P2Name = "PICOLLO HD BY SOUZA"
trigger15 = P2Name = "M. Bison" || P2Name = "Goku X"
trigger16 = P2Name = "Cell por Ssonic" || P2Name = "Gohan HD - Normal-SSj"  
trigger17 = P2Name = "Recoom by Lucifer" || P2Name = "Goku SSJ4 by _Vision and MRP"
trigger18 = P2Name = "Vegetto EX by Shishi-Ryu"
trigger19 = P2Name = "Saiyaman by OverMind and Lucifer"
trigger20 =P2Name = "Goku Super Sayajin 2 BY SOUZA"
trigger21 =P2Name = "Gogeta-SSJ4 by Pocket_Danyell"
trigger22 =P2Name = "Goku GT by Kurihan"  || P2Name =  "Goku-SSJ3 by K-bum"
trigger23 =P2Name = "Goku Super Sayajin 2 by Ribeiro"
trigger24 =P2Name = "Perfect cell BY SOUZA"
value =8262

[State -2,Fim]
type = ChangeState
triggerall = p2movetype = A && Time=1
triggerall = stateno = 220 && p2bodydist y > -10 && p2bodydist y < 10 && p2bodydist x < 15 
trigger1 = P2Name = "Goku-n-hd by EmuBoarding" || P2Name =  "Goku por Rodrigo Navarro"
trigger2 = P2Name = "Mystic Gohan by Zero_X"
trigger3 = P2Name = "Freeza by OverMind"
trigger4 = P2Name = "Kurilin by EmuBoarding"
trigger5 = P2Name = "Trunks por ssonic"
trigger6 = P2Name = "Vegeta Super Sayjin 4 by EB and BS"
trigger7 = P2Name = "N-Trunks by EmuBoarding"
trigger8 = P2Name = "Mr.Boo by OverMind"
trigger9 = P2Name = "Vegeta by OverMind"
trigger10 = P2Name = "Broli Remix ver1.2"  || P2Name = "Ultimate Ubu BY SOUZA"
trigger11 = P2Name = "Mew Two"  || P2Name ="Pequeno Trunks BY SOUZA"
trigger12 = P2Name = "Raditz"    || P2Name = "PICOLLO HD BY SOUZA"
trigger13 = P2Name = "C-Trunks by EmuBoarding"
trigger14 = P2Name = "Piccolo por Ssonic"
trigger15 = P2Name = "M. Bison" || P2Name = "Goku X"
trigger16 = P2Name = "Cell por Ssonic" || P2Name = "Gohan HD - Normal-SSj"  
trigger17 = P2Name = "Recoom by Lucifer" || P2Name = "Goku SSJ4 by _Vision and MRP"
trigger18 = P2Name = "Vegetto EX by Shishi-Ryu"
trigger19 = P2Name = "Saiyaman by OverMind and Lucifer"
trigger20 =P2Name = "Goku Super Sayajin 2 BY SOUZA"
trigger21 =P2Name = "Gogeta-SSJ4 by Pocket_Danyell"
trigger22 =P2Name = "Goku GT by Kurihan"  || P2Name =  "Goku-SSJ3 by K-bum"
trigger23 =P2Name = "Goku Super Sayajin 2 by Ribeiro"
trigger24 =P2Name = "Perfect cell BY SOUZA"
value =8263

[State -2,Fim]
type = ChangeState
triggerall = p2movetype = A && Time=1
triggerall = stateno = 201 && p2bodydist y > -10 && p2bodydist y < 10 
trigger1 = P2Name = "Goku-n-hd by EmuBoarding" || P2Name =  "Goku por Rodrigo Navarro"
trigger2 = P2Name = "Mystic Gohan by Zero_X"
trigger3 = P2Name = "Freeza by OverMind"
trigger4 = P2Name = "Kurilin by EmuBoarding"
trigger5 = P2Name = "Trunks por ssonic"
trigger6 = P2Name = "Vegeta Super Sayjin 4 by EB and BS"
trigger7 = P2Name = "N-Trunks by EmuBoarding"
trigger8 = P2Name = "Mr.Boo by OverMind"
trigger9 = P2Name = "Vegeta by OverMind"
trigger10 = P2Name = "Broli Remix ver1.2"   || P2Name = "Ultimate Ubu BY SOUZA"
trigger11 = P2Name = "Mew Two"   || P2Name ="Pequeno Trunks BY SOUZA"
trigger12 = P2Name = "Raditz"  || P2Name = "PICOLLO HD BY SOUZA"
trigger13 = P2Name = "C-Trunks by EmuBoarding"
trigger14 = P2Name = "Piccolo por Ssonic"
trigger15 = P2Name = "M. Bison" || P2Name = "Goku X"
trigger16 = P2Name = "Cell por Ssonic" || P2Name = "Gohan HD - Normal-SSj"  
trigger17 = P2Name = "Recoom by Lucifer" || P2Name = "Goku SSJ4 by _Vision and MRP"
trigger18 = P2Name = "Vegetto EX by Shishi-Ryu"
trigger19 = P2Name = "Saiyaman by OverMind and Lucifer"
trigger20 =P2Name = "Goku Super Sayajin 2 BY SOUZA"
trigger21 =P2Name = "Gogeta-SSJ4 by Pocket_Danyell"
trigger22 =P2Name = "Goku GT by Kurihan"  || P2Name =  "Goku-SSJ3 by K-bum"
trigger23 =P2Name = "Goku Super Sayajin 2 by Ribeiro"
trigger24 =P2Name = "Perfect cell BY SOUZA"
value =8264

[State -2,Fim]
type = ChangeState
triggerall = p2movetype = A && Time=1
triggerall = stateno = 230 && p2bodydist y > -10 && p2bodydist y < 10 
trigger1 = P2Name = "Goku-n-hd by EmuBoarding" || P2Name =  "Goku por Rodrigo Navarro"
trigger2 = P2Name = "Mystic Gohan by Zero_X"
trigger3 = P2Name = "Freeza by OverMind"
trigger4 = P2Name = "Kurilin by EmuBoarding"
trigger5 = P2Name = "Trunks por ssonic"
trigger6 = P2Name = "Vegeta Super Sayjin 4 by EB and BS"
trigger7 = P2Name = "N-Trunks by EmuBoarding"
trigger8 = P2Name = "Mr.Boo by OverMind"
trigger9 = P2Name = "Vegeta by OverMind"
trigger10 = P2Name = "Broli Remix ver1.2" || P2Name = "Ultimate Ubu BY SOUZA"
trigger11 = P2Name = "Mew Two"  || P2Name ="Pequeno Trunks BY SOUZA"
trigger12 = P2Name = "Raditz"  || P2Name = "PICOLLO HD BY SOUZA"
trigger13 = P2Name = "C-Trunks by EmuBoarding"
trigger14 = P2Name = "Piccolo por Ssonic"
trigger15 = P2Name = "M. Bison" || P2Name = "Goku X"
trigger16 = P2Name = "Cell por Ssonic" || P2Name = "Gohan HD - Normal-SSj"  
trigger17 = P2Name = "Recoom by Lucifer" || P2Name = "Goku SSJ4 by _Vision and MRP"
trigger18 = P2Name = "Vegetto EX by Shishi-Ryu"
trigger19 = P2Name = "Saiyaman by OverMind and Lucifer"
trigger20 =P2Name = "Goku Super Sayajin 2 BY SOUZA"
trigger21 =P2Name = "Gogeta-SSJ4 by Pocket_Danyell" 
trigger22 =P2Name = "Goku GT by Kurihan"  || P2Name =  "Goku-SSJ3 by K-bum"
trigger23 =P2Name = "Goku Super Sayajin 2 by Ribeiro"
trigger24 =P2Name = "Perfect cell BY SOUZA"
value =8265

[State -2,Fim]
type = ChangeState
triggerall = p2movetype = A && Time=1
triggerall = stateno = 240 && p2bodydist y > -10 && p2bodydist y < 10 && p2bodydist x < 15
trigger1 = P2Name = "Goku-n-hd by EmuBoarding" || P2Name =  "Goku por Rodrigo Navarro"
trigger2 = P2Name = "Mystic Gohan by Zero_X"
trigger3 = P2Name = "Freeza by OverMind"
trigger4 = P2Name = "Kurilin by EmuBoarding"
trigger5 = P2Name = "Trunks por ssonic"
trigger6 = P2Name = "Vegeta Super Sayjin 4 by EB and BS"
trigger7 = P2Name = "N-Trunks by EmuBoarding"
trigger8 = P2Name = "Mr.Boo by OverMind"
trigger9 = P2Name = "Vegeta by OverMind"
trigger10 = P2Name = "Broli Remix ver1.2" || P2Name = "Ultimate Ubu BY SOUZA"
trigger11 = P2Name = "Mew Two"    || P2Name ="Pequeno Trunks BY SOUZA"
trigger12 = P2Name = "Raditz" || P2Name = "PICOLLO HD BY SOUZA"
trigger13 = P2Name = "C-Trunks by EmuBoarding"
trigger14 = P2Name = "Piccolo por Ssonic"
trigger15 = P2Name = "M. Bison" || P2Name = "Goku X"
trigger16 = P2Name = "Cell por Ssonic" || P2Name = "Gohan HD - Normal-SSj"  
trigger17 = P2Name = "Recoom by Lucifer" || P2Name = "Goku SSJ4 by _Vision and MRP"
trigger18 = P2Name = "Vegetto EX by Shishi-Ryu"
trigger19 = P2Name = "Saiyaman by OverMind and Lucifer"
trigger20 =P2Name = "Goku Super Sayajin 2 BY SOUZA"
trigger21 =P2Name = "Gogeta-SSJ4 by Pocket_Danyell"    
trigger22 =P2Name = "Goku GT by Kurihan" || P2Name =  "Goku-SSJ3 by K-bum"
trigger23 =P2Name = "Goku Super Sayajin 2 by Ribeiro"
trigger24 =P2Name = "Perfect cell BY SOUZA"
value =8266




[State -2,Fim]
type = ChangeState
triggerall = p2movetype = A && Time=1
triggerall = stateno = 250 && p2bodydist y > -10 && p2bodydist y < 10 
trigger1 = P2Name = "Goku-n-hd by EmuBoarding" || P2Name =  "Goku por Rodrigo Navarro"
trigger2 = P2Name = "Mystic Gohan by Zero_X"
trigger3 = P2Name = "Freeza by OverMind"
trigger4 = P2Name = "Kurilin by EmuBoarding"
trigger5 = P2Name = "Trunks por ssonic"
trigger6 = P2Name = "Vegeta Super Sayjin 4 by EB and BS"
trigger7 = P2Name = "N-Trunks by EmuBoarding"
trigger8 = P2Name = "Mr.Boo by OverMind"
trigger9 = P2Name = "Vegeta by OverMind"
trigger10 = P2Name = "Broli Remix ver1.2" || P2Name = "Ultimate Ubu BY SOUZA"
trigger11 = P2Name = "Mew Two"   || P2Name ="Pequeno Trunks BY SOUZA"
trigger12 = P2Name = "Raditz"  || P2Name = "PICOLLO HD BY SOUZA"
trigger13 = P2Name = "C-Trunks by EmuBoarding"
trigger14 = P2Name = "Piccolo por Ssonic"
trigger15 = P2Name = "M. Bison" || P2Name = "Goku X"
trigger16 = P2Name = "Cell por Ssonic" || P2Name = "Gohan HD - Normal-SSj"  
trigger17 = P2Name = "Recoom by Lucifer" || P2Name = "Goku SSJ4 by _Vision and MRP"
trigger18 = P2Name = "Vegetto EX by Shishi-Ryu"
trigger19 = P2Name = "Saiyaman by OverMind and Lucifer"
trigger20 =P2Name = "Goku Super Sayajin 2 BY SOUZA"
trigger21 =P2Name = "Gogeta-SSJ4 by Pocket_Danyell"    
trigger22 =P2Name = "Goku GT by Kurihan" || P2Name =  "Goku-SSJ3 by K-bum"
trigger23 =P2Name = "Goku Super Sayajin 2 by Ribeiro"
trigger24 =P2Name = "Perfect cell BY SOUZA"
value =8267


;-------------------ki vegeta--------------
;[State -2,socos e chutes Combo2 sequencia]
;type = ChangeState
;triggerall = Var(6)= 1 || Var(6)= 2 && Life != 0 && P2Life != 0 && Var(9) = 0 && Pos y =0 &&  P2Name = "Vegeta by OverMind"
;trigger1 = P2stateno =8000 && movetype != A && Random > 0
;trigger1 = stateno != 2630 &&  P2Name = "Vegeta by OverMind"
;value =2630
;-------------------ki--------------
[Statedef -3]



;[State -3,Ki]
;type = removeexplod
;trigger1 =NumHelper(976)=1 && (command ="holdback") && EnemyNear, Movetype = A
;id = 13

[State -3,Ki]
type = removeexplod
trigger1 =stateno=3115 || stateno=50 || stateno=71|| stateno=2630 ||  stateno=4000 && time=[6,23]
id = 2

[State -3,Ki]
type = removeexplod
trigger1 =stateno=3115 || stateno=50 || stateno=71 || stateno=2630 ||  stateno=4000 && time=[6,23] 
id = 4

[State -3,Ki]
type = removeexplod
trigger1 =stateno=887 && Anim=4000 && animElem=5 
id = 2

[State -3,Ki]
type = removeexplod
trigger1 =stateno=887 && Anim=4000 && animElem=5 
id = 4

[State -3,Ki]
type = removeexplod
trigger1 =pos y != 0
id = 2

[State -3,Ki]
type = removeexplod
trigger1 =pos y != 0
id = 4

;[State -3]
;type = StopSnd 
;trigger1 = Power >= 3000 && (GameTime%4) = 0 && stateno!=191 && stateno!=181  && ;stateno!=[5035,5300] 
;channel = 0

;[State -3]
;type = StopSnd 
;trigger1 = NumHelper(976)=1 && (command ="holdback") && EnemyNear, Movetype = A
;channel = 2

[State -3]
type = Explod
trigger1  =movetype=A && p2life=0 && life >= 1999 && p2movetype=H && time>=1
trigger1  =NumExplod(8525)=0
anim = 8585
Id=8525
pos = -320,-0
postype = Right
sprpriority = -9
ignorehitpause = 1
supermove = 1
ownpal = 1
removetime = 40
bindtime = -1

[State -3]
type = Envcolor
trigger1 =movetype=A && p2life=0 && life >= 1999 && p2movetype=H && time>=1
persistent = 0
ignorehitpause = 1
value = 0,0,0
time = 40
under = 1
supermove = 1


;[State -3]
;type = PlaySnd
;trigger1 = power=3000
;value = 7, 8
;volume=255

[State -3,Ki]
type = removeexplod
trigger1 =stateno=182
id = 999

[State -3]
type = pause
trigger1 = movetype=A && p2life=0 && life >= 1999 && p2movetype=H && time =[0,4]
trigger1 =stateno!=185 && stateno!=184
time = 2

[State -3]
type = pause
trigger1 = movetype=A &&p2life=0 && life >= 1999 && p2movetype=H && time =[4,8]
trigger1 =stateno!=185 && stateno!=184
time = 1

;[State -2,comemorando perfect vitoria]
;type = ChangeState
;triggerall = Var(9) = 0 
;trigger1 = p2life=0 && life >= 1999 && statetype=S  && p2movetype=H && time=1
;trigger1 = stateno = 0 && prevstateno!=185 && stateno!=185
;value =185

[State -2Fim]
type = Helper 
triggerall=NumHelper(678) = 0 && Pos y =0
trigger1 =stateno=2000 || stateno=631 && Anim=632 && movecontact=1 || stateno=634 && AnimElem=1
trigger2 = stateno=8811 || stateno=887 || stateno=2888 || stateno=2889 
trigger3 = stateno=3512 && prevstateno=3511 
trigger4 = stateno=3512 && AnimElem=5
trigger5 = movetype=A && p2life=0 && life >= 1999 && p2movetype=H
trigger5 =stateno!=185 && stateno!=184 
id = 678
name="chao"
ignorehitpause = 1
pos = 0,0
postype= p1
stateno= 678

[State -2Fim]
type = Helper 
triggerall=NumHelper(678) = 0 
trigger1 =p2stateno=638 || stateno=7277 && Pos y =0 || stateno=[3503,3511]
id = 678
name="chao p2"
ignorehitpause = 1
pos = 0,0
postype= p2
stateno= 678

;----- normal---------

[State -3,Ki]
type = removeexplod
trigger1 = p2stateno=4524
id = 8585

[State -2Fim]
type = Helper 
trigger1 = P2life!=0 && NumHelper(333) = 0 
trigger1 = stateno=4421 && Time=100
helpertype = Normal
name = "terra"
id = 333
pos = -512,-183
postype = Right
facing	= 1
stateno= 333
keyctrl	= 0
PauseMoveTime = 999999999
SuperMoveTime = 999999999

[State -2Fim]
type = Helper 
trigger1 = P2life!=0  && NumHelper(334) = 0 
trigger1 =stateno=4421 && Time=100
helpertype = Normal
name = "terra"
id = 334
pos = -256,-183
postype = Right
facing	= 1
stateno= 333
keyctrl	= 0
PauseMoveTime = 999999999
SuperMoveTime = 999999999

[State -2Fim]
type = Helper 
trigger1 = P2life!=0  && NumHelper(335) = 0 
trigger1 = stateno=4421 && Time=100
helpertype = Normal
name = "terra"
id = 335
pos = 0,-183
postype = Right
facing	= 1
stateno= 333
keyctrl	= 0
PauseMoveTime = 999999999
SuperMoveTime = 999999999

[State -2Fim]
type = Helper 
trigger1 = P2life!=0  && NumHelper(336) = 0 
trigger1 = stateno=4421 && Time=100
helpertype = Normal
name = "terra"
id = 336
pos = 256,-183
postype = Right
facing	= 1
stateno= 333
keyctrl	= 0
;ownpal	= 1
PauseMoveTime = 999999999
SuperMoveTime = 999999999

[State -2Fim]
type = Helper 
trigger1 = P2life!=0  && NumHelper(347) = 0 
trigger1 = stateno=4421 && Time=100
helpertype = Normal
name = "terra"
id = 347
pos = 512,-183
postype = Right
facing	= 1
stateno= 333
keyctrl	= 0
;ownpal	= 1
PauseMoveTime = 999999999
SuperMoveTime = 999999999
;----- por cima---------

[State -2Fim]
type = Helper 
trigger1 = P2life!=0 && NumHelper(337) = 0 
trigger1 =stateno=4421 && Time=100
helpertype = Normal
name = "terra"
id = 337
pos = -512,-263
postype = Right
facing	= 1
stateno= 333
keyctrl	= 0
PauseMoveTime = 999999999
SuperMoveTime = 999999999

[State -2Fim]
type = Helper 
trigger1 = P2life!=0  && NumHelper(338) = 0 
trigger1 = stateno=4421 && Time=100
helpertype = Normal
name = "terra"
id = 338
pos = -256,-263
postype = Right
facing	= 1
stateno= 333
keyctrl	= 0
PauseMoveTime = 999999999
SuperMoveTime = 999999999

[State -2Fim]
type = Helper 
trigger1 = P2life!=0  && NumHelper(339) = 0 
trigger1 = stateno=4421 && Time=100
helpertype = Normal
name = "terra"
id = 339
pos = 0,-263
postype = Right
facing	= 1
stateno= 333
keyctrl	= 0
PauseMoveTime = 999999999
SuperMoveTime = 999999999

[State -2Fim]
type = Helper 
trigger1 = P2life!=0  && NumHelper(340) = 0 
trigger1 =stateno=4421 && Time=100
helpertype = Normal
name = "terra"
id = 340
pos = 256,-263
postype = Right
facing	= 1
stateno= 333
keyctrl	= 0
;ownpal	= 1
PauseMoveTime = 999999999
SuperMoveTime = 999999999

[State -2Fim]
type = Helper 
trigger1 = P2life!=0  && NumHelper(341) = 0 
trigger1 = stateno=4421 && Time=100
helpertype = Normal
name = "terra"
id = 341
pos = 512,-263
postype = Right
facing	= 1
stateno= 333
keyctrl	= 0
;ownpal	= 1
PauseMoveTime = 999999999
SuperMoveTime = 999999999
;----- + + + + por cima +++---------

[State -2Fim]
type = Helper 
trigger1 = P2life!=0 && NumHelper(342) = 0 
trigger1 =stateno=4421 && Time=100
helpertype = Normal
name = "terra"
id = 342
pos = -512,-343
postype = Right
facing	= 1
stateno= 333
keyctrl	= 0
PauseMoveTime = 999999999
SuperMoveTime = 999999999

[State -2Fim]
type = Helper 
trigger1 = P2life!=0  && NumHelper(343) = 0 
trigger1 = stateno=4421 && Time=100
helpertype = Normal
name = "terra"
id = 343
pos = -256,-343
postype = Right
facing	= 1
stateno= 333
keyctrl	= 0
PauseMoveTime = 999999999
SuperMoveTime = 999999999

[State -2Fim]
type = Helper 
trigger1 = P2life!=0  && NumHelper(344) = 0 
trigger1 =stateno=4421 && Time=100
helpertype = Normal
name = "terra"
id = 344
pos = 0,-343
postype = Right
facing	= 1
stateno= 333
keyctrl	= 0
PauseMoveTime = 999999999
SuperMoveTime = 999999999

[State -2Fim]
type = Helper 
trigger1 = P2life!=0  && NumHelper(345) = 0 
trigger1 = stateno=4421 && Time=100
helpertype = Normal
name = "terra"
id = 345
pos = 256,-343
postype = Right
facing	= 1
stateno= 333
keyctrl	= 0
;ownpal	= 1
PauseMoveTime = 999999999
SuperMoveTime = 999999999

[State -2Fim]
type = Helper 
trigger1 = P2life!=0  && NumHelper(346) = 0 
trigger1 =stateno=4421 && Time=100
helpertype = Normal
name = "terra"
id = 346
pos = 512,-343
postype = Right
facing	= 1
stateno= 333
keyctrl	= 0
;ownpal	= 1
PauseMoveTime = 999999999
SuperMoveTime = 999999999
;---------------------------------------------------------------------------

[State -2,AtaqueMaior normal]
type = AttackMulSet
trigger1 = var(9) = 0
value = 1.0

[State -2,DefesaMaior normal]
type = DefenceMulSet
trigger1 = var(9) = 0
value = 1.0

[State -2,DefesaMaior normal]
type = DefenceMulSet
trigger1 =var(9) = 0 && var(55) >15
value = 0.0

[State -2,AtaqueMaior normal]
type = AttackMulSet
trigger1 = var(9) = 0 && var(55) > 0
value = 1.3

;[State -2,AtaqueMaior ssj]
;type = AttackMulSet
;trigger1 = var(9) = 1
;value = 1.3
;
;[State -2,DefesaMaior ssj]
;type = DefenceMulSet
;trigger1 = var(9) = 1
;value = 0.7


[State -2,2 super]
type = palfx
trigger1 = var(10) && timemod = 5,0
pal = 248,0,0
add = 150,150,200
time = 1

;add = 55,0,55
;mul = 256,256,256
;sinadd = -15,0,-15,20


;[State -2,2 super]
;type = palfx
;trigger1 = var(10) && timemod = 2,0
;pal = 248,0,0
;add = 255,32,32
;mul = 255,96,96
;time = 1

[State 190, TimeBar_facing]
type = VarSet
trigger1 = Var(7) = 0
trigger1 = facing = 1
var(7) = 1

[State 190, TimeBar_facing]
type = VarSet
trigger1 = Var(7) = 0
trigger1 = facing = -1
var(7) = 2

[State -2, TimeBar]
type = Explod
trigger1 = var(55)
trigger1 = facing = 1 
trigger1 = Var(7) = 1 
ignorehitpause = 1
anim = 666
id = 666
pos = 30,30
postype = back
sprpriority = -2
bindtime = 1
ontop = 1
ownpal = 1
removetime = 1
pausemovetime = 1
supermovetime = 1
scale = var(55)/300.0, 1

[State -2, TimeBar]
type = Explod
trigger1 = var(55)
trigger1 = facing = -1 
trigger1 = Var(7) = 1 
ignorehitpause = 1
anim = 666
id = 666
pos = 290,30
postype = back
sprpriority = -2
bindtime = 1
facing = facing
ontop = 1
ownpal = 1
removetime = 1
pausemovetime = 1
supermovetime = 1
scale = var(55)/300.0, 1

[State -2, TimeBar]
type = Explod
trigger1 = var(55)
trigger1 = facing = 1 
trigger1 = Var(7) = 2 
ignorehitpause = 1
anim = 666
id = 666
pos = 290,30
postype = back
sprpriority = -2
bindtime = 1
facing = -1
ontop = 1
ownpal = 1
removetime = 1
pausemovetime = 1
supermovetime = 1
scale = var(55)/300.0, 1

[State -2, TimeBar]
type = Explod
trigger1 = var(55)
trigger1 = facing = -1 
trigger1 = Var(7) = 2 
ignorehitpause = 1
anim = 666
id = 666
pos = 30,30
postype = back
sprpriority = -2
bindtime = 1
facing = 1
ontop = 1
ownpal = 1
removetime = 1
pausemovetime = 1
supermovetime = 1
scale = var(55)/300.0, 1

;[State -2, Display super]
;type = DisplayToClipboard
;trigger1 = 700
;text = "MEGA ATAQUES - BARRA = %d"
;params = Var(10) 

;[State -2, Timecount super]
;type = VarAdd
;trigger1 = var(10) > 0 && Movetype=H && stateno!=8253 && stateno!=[130,155]
;trigger1 = var(9) = 0
;ignorehitpause = 1
;var(10) = -1

[State -2,AtaqueMaior super]
type = AttackMulSet
trigger1 = var(10) > 0
value = 1.5

[State -2,DefesaMaior super]
type = DefenceMulSet
trigger1 = var(10) > 0
value = 0.0

[State -2, Timecount super]
type = VarAdd
trigger1 = !var(10) 
;trigger1 = var(9) = 0
ignorehitpause = 1
var(12) = -100

[State 2, 3]
type = VarSet
trigger1= var(10) 
trigger1= (GameTime%5000) = 0 
var(12) =12

[State -2]
type = Explod
trigger1 = movetype=A && Var(12) =12 && NumHelper(345) = 0
anim = 736
random = 999, 999
bindtime = 1
sprpriority = 3
ownpal = 1

[State -2]
type = Explod
trigger1 = movetype=A && var(12) =12 && NumHelper(345) = 0
anim = 746
random = 400, 400
bindtime = 1
sprpriority = 3
ownpal = 1

[State 2]
type = Explod
trigger1 = movetype=A && var(12) =12  && NumHelper(345) = 0
anim = 756
random = 400, 400
bindtime = 1
sprpriority = 3
ownpal = 1

[State -2:BGPalFX]
type= BGPalFX
trigger1=var(12) =12 
time= 100
add= 100,100,100
mul= 40,40,40
sinadd= -100,-100,-100,15
;invertall= 1
color= 256


[state -2,Defesa]
type = changeanim
trigger1 = anim = 120 || anim = 121 || anim = 122 
value = Anim + 10

[state -2,Defesa]
type = changeanim
trigger1 = anim = 140 || anim = 141 || anim = 142 
value = Anim - 10

;[state -2,hit]
;type = changeanim
;triggerall = Var(9) = 1 && stateno = [130,155]
;trigger1 = AnimExist(anim + 10000)
;value = Anim + 10000

;[state -2,hit]
;type = changeanim
;triggerall = Var(9) = 1
;trigger1 = AnimExist(anim + 10000)
;trigger2 = SelfAnimExist(anim + 10000)
;value = Anim + 10000


[state -2,spr]
type = sprpriority 
trigger1 = stateno = 0
trigger2 = stateno = 50
trigger3 = stateno = 3001
value = 0

[state -2,defesa.no.voa]
type = null;changestate
triggerall = time >= 0
triggerall = pos Y < 0
triggerall = stateno = 0
trigger1 = command != "holdback"
trigger1 = p2movetype != A
trigger2 = command = "holdback"
trigger2 = p2movetype != A
trigger3 = command = "holdfwd"
trigger4 = command = "holdup"
trigger5 = command = "holddown"
value = 3001

[state -2,defesa.no.voa]
type = null;changestate
triggerall = time >= 0
triggerall = pos Y < 0
triggerall = stateno = 20
trigger1 = command != "holdback"
trigger1 = p2movetype != A
trigger2 = command = "holdback"
trigger2 = p2movetype != A
trigger3 = command = "holdfwd"
trigger4 = command = "holdup"
trigger5 = command = "holddown"
value = 3001
;---------------------------------------------------------------------------
 RUN_FWD
[Statedef 100]
type    = S
physics = S

[State 0, 1]
type = ChangeAnim
trigger1 = Var(9) = 0 && Anim != 100
value = 100


[State 100, 1]
type = VelSet
trigger1 = Var(9) = 0
trigger2 = Var(6) = 1 && Vel X > 0  && Anim = 100
trigger3 = Var(6) = 2 && Vel X > 0 && Anim = 100
trigger4 = Var(6) = 32 && Vel X > 0 && Anim = 100
x = 5
y = 0

[State 100, 1]
type = VelSet
trigger1 = Var(6) = 32 && Vel X > 0 && Anim = 100
x = 6
y = 0

;[State 0, 1]
;type = ChangeAnim
;trigger1 = Var(9) = 1 && Anim != 10100
;value = 10100

[State 100, 1]
type = VelSet
trigger1 = Var(9) = 1
x = 7
y = 0

[State 100,assert]
type = AssertSpecial
trigger1 = command = "holdfwd"
flag = nowalk


[State 100, 2]
type = ChangeState
trigger1 =!Var(6)
trigger1 = command != "holdfwd"
value = 0
ctrl = 1

[State 100, 2]
type = ChangeState
trigger1 = P2bodydist x < 25 && Random < 200  && Var(6) && Var(9)=0 && Var(6)!=32
value = 201
ctrl = 0


[State 100, 2]
type = ChangeState
trigger1 = P2bodydist x < 20  && Random > 700 && Var(6) && Var(9)=0 && Var(6)!=32
value = 200
ctrl = 0

[State 100, 2]
type = ChangeState
trigger1 =  P2bodydist y > -55 && P2bodydist x >0 && P2bodydist x < 30  && Var(6)=32 && Var(9)=0
value = 200
ctrl = 0

[State 100, 2]
type = ChangeState
trigger1 = FrontEdgeBodyDist < 50 && Var(6)=32 && Var(9)=0
value = 2801
ctrl = 0

[State 100, 2]
type = ChangeState
trigger1 = p2stateno=5100 && Var(6)=32 && Var(9)=0
value = 45
ctrl = 0


[State 100, 2]
type = ChangeState
triggerall = EnemyNear, MoveType = A  && Var(6)
trigger1 =(P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 150
;---------------------------------------------------------------------------
 RUN_BACK
[Statedef 105]
type    = S
physics = S

[State 0, 1]
type = ChangeAnim
trigger1 = Var(9) = 0 && Anim != 105
value = 105

[State 0, 1]
type = ChangeAnim
trigger1 = Var(9) = 1 && Anim != 10105
value = 10105

[State 100, 1]
type = VelSet
trigger1 = Var(9) = 0
x = -5
y = 0

[State 100, 1]
type = VelSet
trigger1 = Var(9) = 1
x = -7
y = 0

[State 100,assert]
type = AssertSpecial
trigger1 = command = "holdback"
flag = nowalk


[State 100, 2]
type = ChangeState
trigger1 =!Var(6)
trigger1 = command != "holdback"
value = 0


[State 100, 2]
type = ChangeState
trigger1 = Random < 200
trigger1 = P2bodydist x >150 && P2STATENO=646 && Var(6)=1 && Var(9)=0
value = 66
ctrl = 1

[State 100, 2]
type = ChangeState
trigger1 = Random < 350
trigger1 = P2bodydist x >150 && P2STATENO=646 && Var(6)=1 && Var(9)=0
value = 1500
ctrl = 0

[State 100, 2]
type = ChangeState
trigger1 = P2bodydist x >210 && P2STATENO=646  && Var(6)=1 && Var(9)=0
value = 100
ctrl = 0

[State 100, 2]
type = ChangeState
trigger1 = BackEdgeBodyDist  < 2 && Var(9)=0 && Var(6)=[1,2]
value = 100
ctrl = 0

;---------------------------------------------------------------------------
;AIR DASH
[Statedef 101]
type    = A
physics = N

[State 0, 1]
type = ChangeAnim
trigger1 = Var(9) = 0 && Anim != 100
value = 100

[State 0, 1]
type = ChangeAnim
trigger1 = Var(9) = 1 && Anim != 10100
value = 10100

[State 100, 1]
type = VelSet
trigger1 = Var(9) = 0
x = 6
y = 0

[State 100, 1]
type = VelSet
trigger1 = Var(9) = 1
x = 7.5
y = 0

[State 100,assert]
type = AssertSpecial
trigger1 = command = "holdfwd"
flag = nowalk


[State 100, 2]
type = ChangeState
trigger1 = command != "holdfwd"
trigger2 = command = "holddown"
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;AIR DASH BACK
[Statedef 106]
type    = A
physics = N

[State 0, 1]
type = ChangeAnim
trigger1 = Var(9) = 0 && Anim != 105
value = 105

[State 0, 1]
type = ChangeAnim
trigger1 = Var(9) = 1 && Anim != 10105
value = 10105

[State 100, 1]
type = VelSet
trigger1 = Var(9) = 0
x = -6
y = 0

[State 100, 1]
type = VelSet
trigger1 = Var(9) = 1
x = -7.5
y = 0

[State 100,assert]
type = AssertSpecial
trigger1 = command = "holdback"
flag = nowalk


[State 100, 2]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = command = "holddown"
value = 50
ctrl = 1
